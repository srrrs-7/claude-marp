<svg viewBox="0 0 800 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="500" fill="#0d1b2a"/>
  <text x="400" y="35" font-family="Arial,sans-serif" font-size="20" font-weight="bold" fill="#ffffff" text-anchor="middle">Managed Spot Training コスト最適化</text>

  <!-- Left: Cost comparison -->
  <rect x="20" y="55" width="290" height="320" rx="8" fill="#111e2d"/>
  <text x="165" y="82" font-family="Arial,sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">コスト比較</text>

  <!-- On-demand bar -->
  <text x="100" y="110" font-family="Arial,sans-serif" font-size="12" fill="#aaaaaa" text-anchor="middle">On-Demand</text>
  <rect x="50" y="118" width="100" height="170" rx="4" fill="#E63946" opacity="0.8"/>
  <text x="100" y="210" font-family="Arial,sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">100%</text>

  <!-- Spot bar -->
  <text x="230" y="110" font-family="Arial,sans-serif" font-size="12" fill="#aaaaaa" text-anchor="middle">Spot</text>
  <rect x="180" y="220" width="100" height="68" rx="4" fill="#06D6A0" opacity="0.8"/>
  <text x="230" y="260" font-family="Arial,sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">~30%</text>

  <!-- Y axis -->
  <line x1="35" y1="100" x2="35" y2="300" stroke="#aaaaaa" stroke-width="1"/>
  <text x="30" y="300" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">0%</text>
  <text x="30" y="120" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">100%</text>

  <rect x="50" y="305" width="240" height="40" rx="6" fill="#0a2545" stroke="#06D6A0" stroke-width="1"/>
  <text x="170" y="330" font-family="Arial,sans-serif" font-size="15" font-weight="bold" fill="#06D6A0" text-anchor="middle">最大 70% コスト削減!</text>

  <text x="165" y="360" font-family="Arial,sans-serif" font-size="11" fill="#aaaaaa" text-anchor="middle">スポットインスタンス: AWS余剰リソース</text>

  <!-- Right: Flow diagram -->
  <rect x="330" y="55" width="450" height="320" rx="8" fill="#1e3a5f"/>
  <text x="555" y="82" font-family="Arial,sans-serif" font-size="14" font-weight="bold" fill="#4CC9F0" text-anchor="middle">Spot Training フロー</text>

  <!-- Step 1 -->
  <rect x="350" y="95" width="180" height="40" rx="6" fill="#0f3460"/>
  <text x="440" y="120" font-family="Arial,sans-serif" font-size="12" fill="#ffffff" text-anchor="middle">スポットインスタンス起動</text>

  <!-- Arrow down -->
  <line x1="440" y1="135" x2="440" y2="158" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#4CC9F0" transform="translate(440,162) rotate(180)"/>

  <!-- Decision diamond -->
  <polygon points="440,168 490,198 440,228 390,198" fill="#2d4059" stroke="#F77F00" stroke-width="2"/>
  <text x="440" y="195" font-family="Arial,sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">中断</text>
  <text x="440" y="209" font-family="Arial,sans-serif" font-size="10" fill="#ffffff" text-anchor="middle">発生？</text>

  <!-- Yes path (right) -->
  <line x1="490" y1="198" x2="540" y2="198" stroke="#E63946" stroke-width="1.5"/>
  <text x="515" y="192" font-family="Arial,sans-serif" font-size="10" fill="#E63946">Yes</text>
  <rect x="545" y="178" width="160" height="40" rx="6" fill="#0a2545" stroke="#4CC9F0" stroke-width="1"/>
  <text x="625" y="197" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">チェックポイントを</text>
  <text x="625" y="211" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">S3 に保存</text>

  <!-- Resume arrow -->
  <line x1="625" y1="218" x2="625" y2="250" stroke="#4CC9F0" stroke-width="1.5"/>
  <line x1="625" y1="250" x2="350" y2="250" stroke="#4CC9F0" stroke-width="1.5"/>
  <line x1="350" y1="250" x2="350" y2="115" stroke="#4CC9F0" stroke-width="1.5"/>
  <line x1="350" y1="115" x2="370" y2="115" stroke="#4CC9F0" stroke-width="1.5"/>
  <polygon points="0,-5 -4,4 4,4" fill="#4CC9F0" transform="translate(374,115) rotate(90)"/>
  <text x="340" y="185" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="end">再開</text>

  <!-- No path (down) -->
  <line x1="440" y1="228" x2="440" y2="265" stroke="#06D6A0" stroke-width="1.5"/>
  <text x="455" y="252" font-family="Arial,sans-serif" font-size="10" fill="#06D6A0">No</text>
  <rect x="350" y="270" width="180" height="40" rx="6" fill="#0f3460" stroke="#06D6A0" stroke-width="1"/>
  <text x="440" y="295" font-family="Arial,sans-serif" font-size="12" fill="#06D6A0" text-anchor="middle">学習完了</text>

  <!-- Code snippet at bottom of right panel -->
  <rect x="340" y="320" width="430" height="45" rx="4" fill="#111e2d"/>
  <text x="355" y="338" font-family="monospace" font-size="10" fill="#06D6A0">use_spot_instances=True,</text>
  <text x="355" y="354" font-family="monospace" font-size="10" fill="#06D6A0">checkpoint_s3_uri='s3://my-bucket/checkpoints/'</text>

  <!-- Bottom notes -->
  <rect x="20" y="395" width="760" height="90" rx="8" fill="#111e2d"/>
  <text x="400" y="420" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#ffffff" text-anchor="middle">Managed Spot Training のポイント</text>
  <text x="400" y="443" font-family="Arial,sans-serif" font-size="11" fill="#aaaaaa" text-anchor="middle">中断時は自動的にチェックポイントから再開 | MaxWaitTimeInSeconds で最大待機時間を設定</text>
  <text x="400" y="463" font-family="Arial,sans-serif" font-size="11" fill="#aaaaaa" text-anchor="middle">SageMaker が Spot Interruption を自動ハンドリング | フォルトトレランス設計が重要</text>
  <text x="400" y="478" font-family="Arial,sans-serif" font-size="11" fill="#06D6A0" text-anchor="middle">★ 試験: Spot = 低コスト + チェックポイント必須の組み合わせで出題</text>
</svg>
