<svg viewBox="0 0 800 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <rect width="800" height="500" fill="#0d1117"/>
  <text x="400" y="36" text-anchor="middle" font-family="sans-serif" font-size="19" font-weight="bold" fill="#ffffff">AWS Glue ETL パイプライン</text>
  <!-- Data Sources left -->
  <rect x="15" y="80" width="130" height="50" rx="6" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="80" y="110" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ffffff">Amazon S3</text>
  <rect x="15" y="140" width="130" height="50" rx="6" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="80" y="170" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ffffff">Amazon RDS</text>
  <rect x="15" y="200" width="130" height="50" rx="6" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="80" y="230" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ffffff">DynamoDB</text>
  <!-- Source label -->
  <text x="80" y="64" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#aaaaaa">データソース</text>
  <!-- Arrows to Crawler -->
  <line x1="145" y1="105" x2="195" y2="155" stroke="#4CC9F0" stroke-width="1.5"/>
  <line x1="145" y1="165" x2="195" y2="175" stroke="#4CC9F0" stroke-width="1.5"/>
  <line x1="145" y1="225" x2="195" y2="195" stroke="#4CC9F0" stroke-width="1.5"/>
  <!-- Glue Crawler -->
  <rect x="198" y="110" width="140" height="110" rx="8" fill="#0f3460" stroke="#4CC9F0" stroke-width="2"/>
  <text x="268" y="138" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#4CC9F0">Glue Crawler</text>
  <text x="268" y="158" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">スキーマ自動検出</text>
  <text x="268" y="176" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">パーティション検出</text>
  <text x="268" y="194" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">スケジュール実行</text>
  <text x="268" y="212" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">Trigger: Cron / On-demand</text>
  <!-- Arrow to Catalog -->
  <line x1="338" y1="165" x2="370" y2="165" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-5 -5,5 5,5" fill="#4CC9F0" transform="translate(370,165) rotate(90)"/>
  <!-- Glue Data Catalog -->
  <rect x="372" y="90" width="150" height="150" rx="8" fill="#1a3a5f" stroke="#06D6A0" stroke-width="2"/>
  <text x="447" y="115" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#06D6A0">Glue Data</text>
  <text x="447" y="133" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#06D6A0">Catalog</text>
  <text x="447" y="158" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Database / Table</text>
  <text x="447" y="176" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">スキーマ定義</text>
  <text x="447" y="194" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">パーティション情報</text>
  <text x="447" y="212" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">Athena / EMR 共有</text>
  <text x="447" y="230" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">Hive Metastore互換</text>
  <!-- Arrow Catalog to ETL Job -->
  <line x1="447" y1="240" x2="447" y2="295" stroke="#06D6A0" stroke-width="1.5" stroke-dasharray="6,3"/>
  <text x="490" y="275" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">メタデータ参照</text>
  <!-- Data Sources arrow to ETL -->
  <line x1="145" y1="200" x2="198" y2="295" stroke="#aaaaaa" stroke-width="1.5" stroke-dasharray="6,3"/>
  <!-- Glue ETL Job -->
  <rect x="198" y="295" width="498" height="130" rx="8" fill="#0f3460" stroke="#F77F00" stroke-width="2"/>
  <text x="447" y="320" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold" fill="#F77F00">Glue ETL Job</text>
  <!-- Sub boxes within ETL job -->
  <rect x="215" y="330" width="140" height="60" rx="5" fill="#0a2040"/>
  <text x="285" y="350" text-anchor="middle" font-family="sans-serif" font-size="12" font-weight="bold" fill="#4CC9F0">PySpark Script</text>
  <text x="285" y="368" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">分散処理</text>
  <text x="285" y="383" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">DataFrame変換</text>
  <rect x="365" y="330" width="140" height="60" rx="5" fill="#0a2040"/>
  <text x="435" y="350" text-anchor="middle" font-family="sans-serif" font-size="12" font-weight="bold" fill="#06D6A0">Python Shell</text>
  <text x="435" y="368" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">軽量処理</text>
  <text x="435" y="383" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">単ノード実行</text>
  <rect x="515" y="330" width="165" height="60" rx="5" fill="#0a2040"/>
  <text x="597" y="350" text-anchor="middle" font-family="sans-serif" font-size="12" font-weight="bold" fill="#F77F00">Glue Studio</text>
  <text x="597" y="368" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">ビジュアルUI</text>
  <text x="597" y="383" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">ノーコードETL</text>
  <!-- Arrow from ETL to target -->
  <line x1="696" y1="360" x2="740" y2="250" stroke="#F77F00" stroke-width="2"/>
  <polygon points="0,-5 -5,5 5,5" fill="#F77F00" transform="translate(740,250) rotate(30)"/>
  <!-- Target -->
  <rect x="680" y="80" width="110" height="55" rx="6" fill="#1e3a5f" stroke="#aaaaaa" stroke-width="1.5"/>
  <text x="735" y="103" text-anchor="middle" font-family="sans-serif" font-size="12" font-weight="bold" fill="#ffffff">Amazon S3</text>
  <text x="735" y="122" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Parquet出力</text>
  <rect x="680" y="148" width="110" height="55" rx="6" fill="#1e3a5f" stroke="#aaaaaa" stroke-width="1.5"/>
  <text x="735" y="171" text-anchor="middle" font-family="sans-serif" font-size="12" font-weight="bold" fill="#ffffff">Redshift</text>
  <text x="735" y="190" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">DWH書込</text>
  <text x="735" y="64" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#aaaaaa">ターゲット</text>
  <!-- DPU info -->
  <rect x="15" y="445" width="770" height="42" rx="6" fill="#0f1e30"/>
  <text x="400" y="463" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#F77F00">DPU (Data Processing Units): 4 vCPU + 16GB RAM / 1 DPU</text>
  <text x="400" y="481" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ccddee">スケーリング: G.1X / G.2X ワーカータイプ | トリガー: Glue Triggers / EventBridge Scheduler</text>
</svg>
