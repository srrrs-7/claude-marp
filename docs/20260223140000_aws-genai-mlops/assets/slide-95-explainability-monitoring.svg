<svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="800" height="500" fill="#0d1117"/>
  <text x="400" y="30" font-family="Arial" font-size="18" fill="#ffffff" text-anchor="middle" font-weight="bold">説明可能性モニタリング (SHAP値ドリフト)</text>

  <!-- Left: T0 baseline SHAP chart -->
  <rect x="20" y="50" width="290" height="350" rx="10" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="2"/>
  <text x="165" y="78" font-family="Arial" font-size="13" fill="#4CC9F0" text-anchor="middle" font-weight="bold">基準時 (T0)</text>
  <text x="165" y="96" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">SHAP Feature Importance</text>

  <!-- Feature bars T0 -->
  <text x="35" y="125" font-family="Arial" font-size="11" fill="#ffffff">Feature A</text>
  <rect x="120" y="112" width="140" height="22" rx="4" fill="#4CC9F0"/>
  <text x="268" y="127" font-family="Arial" font-size="11" fill="#4CC9F0">0.35</text>
  <text x="35" y="165" font-family="Arial" font-size="11" fill="#ffffff">Feature B</text>
  <rect x="120" y="152" width="100" height="22" rx="4" fill="#4CC9F0" opacity="0.8"/>
  <text x="228" y="167" font-family="Arial" font-size="11" fill="#4CC9F0">0.25</text>
  <text x="35" y="205" font-family="Arial" font-size="11" fill="#ffffff">Feature C</text>
  <rect x="120" y="192" width="80" height="22" rx="4" fill="#4CC9F0" opacity="0.6"/>
  <text x="208" y="207" font-family="Arial" font-size="11" fill="#4CC9F0">0.20</text>
  <text x="35" y="245" font-family="Arial" font-size="11" fill="#ffffff">Feature D</text>
  <rect x="120" y="232" width="60" height="22" rx="4" fill="#4CC9F0" opacity="0.5"/>
  <text x="188" y="247" font-family="Arial" font-size="11" fill="#4CC9F0">0.15</text>

  <!-- Summary T0 -->
  <rect x="35" y="300" width="260" height="80" rx="8" fill="#0a1e35" stroke="#4CC9F0" stroke-width="1"/>
  <text x="165" y="322" font-family="Arial" font-size="11" fill="#4CC9F0" text-anchor="middle">Feature A が最重要</text>
  <text x="165" y="342" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">年収・信用スコアが支配的</text>
  <text x="165" y="362" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">安定した予測パターン</text>

  <!-- Center: Delta arrows -->
  <text x="400" y="200" font-family="Arial" font-size="12" fill="#F77F00" text-anchor="middle" font-weight="bold">変化 (Drift)</text>

  <!-- Delta for Feature A -->
  <text x="400" y="128" font-family="Arial" font-size="10" fill="#E63946" text-anchor="middle">-0.20</text>
  <line x1="315" y1="123" x2="490" y2="123" stroke="#E63946" stroke-width="1.5" stroke-dasharray="4,3"/>
  <!-- Delta for Feature C -->
  <text x="400" y="208" font-family="Arial" font-size="10" fill="#F77F00" text-anchor="middle">+0.20</text>
  <line x1="315" y1="203" x2="490" y2="203" stroke="#F77F00" stroke-width="1.5" stroke-dasharray="4,3"/>

  <!-- Right: T1 current SHAP chart -->
  <rect x="490" y="50" width="290" height="350" rx="10" fill="#2d1a0a" stroke="#E63946" stroke-width="2.5"/>
  <text x="635" y="78" font-family="Arial" font-size="13" fill="#E63946" text-anchor="middle" font-weight="bold">現在 (T1) — ドリフト!</text>
  <text x="635" y="96" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">SHAP Feature Importance</text>

  <!-- Feature bars T1 -->
  <text x="505" y="125" font-family="Arial" font-size="11" fill="#ffffff">Feature A</text>
  <rect x="590" y="112" width="60" height="22" rx="4" fill="#E63946"/>
  <text x="658" y="127" font-family="Arial" font-size="11" fill="#E63946">0.15</text>
  <text x="665" y="127" font-family="Arial" font-size="10" fill="#E63946">↓ 減少!</text>

  <text x="505" y="165" font-family="Arial" font-size="11" fill="#ffffff">Feature C</text>
  <rect x="590" y="152" width="160" height="22" rx="4" fill="#F77F00"/>
  <text x="758" y="167" font-family="Arial" font-size="11" fill="#F77F00">0.40</text>
  <text x="505" y="185" font-family="Arial" font-size="10" fill="#F77F00">↑ 急増 (問題の可能性)</text>

  <text x="505" y="210" font-family="Arial" font-size="11" fill="#ffffff">Feature B</text>
  <rect x="590" y="197" width="100" height="22" rx="4" fill="#4CC9F0" opacity="0.6"/>
  <text x="698" y="212" font-family="Arial" font-size="11" fill="#4CC9F0">0.25</text>

  <text x="505" y="250" font-family="Arial" font-size="11" fill="#ffffff">Feature D</text>
  <rect x="590" y="237" width="80" height="22" rx="4" fill="#4CC9F0" opacity="0.5"/>
  <text x="678" y="252" font-family="Arial" font-size="11" fill="#4CC9F0">0.20</text>

  <!-- Alert box T1 -->
  <rect x="505" y="285" width="265" height="100" rx="8" fill="#2d0a0a" stroke="#E63946" stroke-width="2"/>
  <text x="637" y="308" font-family="Arial" font-size="11" fill="#E63946" text-anchor="middle" font-weight="bold">ドリフトアラート</text>
  <text x="637" y="328" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">Feature A: 0.35 → 0.15 (57%低下)</text>
  <text x="637" y="346" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">Feature C: 0.20 → 0.40 (100%増加)</text>
  <text x="637" y="364" font-family="Arial" font-size="10" fill="#F77F00" text-anchor="middle">データパイプライン問題の可能性!</text>

  <!-- Bottom alert -->
  <rect x="20" y="420" width="760" height="65" rx="10" fill="#1a0a00" stroke="#F77F00" stroke-width="2"/>
  <text x="400" y="442" font-family="Arial" font-size="12" fill="#F77F00" text-anchor="middle" font-weight="bold">特徴量重要度の変化 → 原因調査アクション</text>
  <text x="200" y="464" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">データパイプラインのバグ確認</text>
  <text x="400" y="464" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">特徴量エンジニアリング見直し</text>
  <text x="600" y="464" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">モデル再学習検討</text>
  <text x="400" y="478" font-family="Arial" font-size="9" fill="#4CC9F0" text-anchor="middle">SageMaker Clarify Explainability Monitor が自動でSHAP値を定期計算</text>
</svg>
