<svg viewBox="0 0 800 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="500" fill="#0d1b2a"/>
  <text x="400" y="35" font-family="Arial,sans-serif" font-size="20" font-weight="bold" fill="#ffffff" text-anchor="middle">Amazon Bedrock ファインチューニングワークフロー</text>

  <!-- Box 1: 学習データ -->
  <rect x="15" y="60" width="220" height="250" rx="8" fill="#1e3a5f"/>
  <text x="125" y="88" font-family="Arial,sans-serif" font-size="14" font-weight="bold" fill="#4CC9F0" text-anchor="middle">学習データ</text>

  <!-- S3 icon representation -->
  <rect x="45" y="100" width="160" height="70" rx="4" fill="#0f3460"/>
  <text x="125" y="125" font-family="Arial,sans-serif" font-size="12" fill="#ffffff" text-anchor="middle">JSONL 形式 (S3)</text>
  <text x="125" y="145" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">s3://bucket/train.jsonl</text>
  <text x="125" y="163" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">s3://bucket/val.jsonl</text>

  <rect x="35" y="182" width="180" height="110" rx="4" fill="#111e2d"/>
  <text x="125" y="202" font-family="Arial,sans-serif" font-size="11" fill="#aaaaaa" text-anchor="middle">データ形式:</text>
  <text x="125" y="220" font-family="Arial,sans-serif" font-size="10" fill="#06D6A0" text-anchor="middle">{"prompt": "質問内容",</text>
  <text x="125" y="236" font-family="Arial,sans-serif" font-size="10" fill="#06D6A0" text-anchor="middle"> "completion": "回答"}</text>
  <text x="125" y="254" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">各行が1サンプル</text>
  <text x="125" y="272" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">最小: 数百〜数千件</text>

  <!-- Arrow 1 -->
  <line x1="238" y1="185" x2="280" y2="185" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#4CC9F0" transform="translate(284,185) rotate(90)"/>

  <!-- Box 2: Bedrock FT Job -->
  <rect x="290" y="60" width="220" height="250" rx="8" fill="#0f3460" stroke="#4CC9F0" stroke-width="1"/>
  <text x="400" y="88" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#4CC9F0" text-anchor="middle">Bedrock Fine-tuning</text>

  <rect x="305" y="100" width="190" height="30" rx="4" fill="#1e3a5f"/>
  <text x="400" y="120" font-family="Arial,sans-serif" font-size="11" fill="#ffffff" text-anchor="middle">対応モデル</text>

  <rect x="305" y="136" width="90" height="22" rx="3" fill="#0a2545"/>
  <text x="350" y="151" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">Amazon Titan</text>
  <rect x="402" y="136" width="93" height="22" rx="3" fill="#0a2545"/>
  <text x="448" y="151" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">Cohere Cmd R</text>

  <line x1="310" y1="168" x2="480" y2="168" stroke="#2d4059" stroke-width="0.5"/>
  <text x="400" y="190" font-family="Arial,sans-serif" font-size="11" fill="#aaaaaa" text-anchor="middle">学習手法</text>

  <rect x="305" y="200" width="185" height="22" rx="3" fill="#0a2545"/>
  <text x="397" y="215" font-family="Arial,sans-serif" font-size="10" fill="#06D6A0" text-anchor="middle">Continued Pre-training</text>
  <rect x="305" y="228" width="185" height="22" rx="3" fill="#0a2545"/>
  <text x="397" y="243" font-family="Arial,sans-serif" font-size="10" fill="#06D6A0" text-anchor="middle">Fine-tuning (教師あり)</text>

  <line x1="310" y1="260" x2="480" y2="260" stroke="#2d4059" stroke-width="0.5"/>
  <text x="400" y="278" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">エポック数・学習率設定</text>
  <text x="400" y="296" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">バッチサイズ・ウォームアップ</text>

  <!-- Arrow 2 -->
  <line x1="513" y1="185" x2="556" y2="185" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#4CC9F0" transform="translate(560,185) rotate(90)"/>

  <!-- Box 3: Custom Model -->
  <rect x="565" y="60" width="220" height="250" rx="8" fill="#0a2545" stroke="#06D6A0" stroke-width="1"/>
  <text x="675" y="88" font-family="Arial,sans-serif" font-size="14" font-weight="bold" fill="#06D6A0" text-anchor="middle">カスタムモデル</text>

  <rect x="580" y="100" width="190" height="30" rx="4" fill="#0f3460"/>
  <text x="675" y="120" font-family="Arial,sans-serif" font-size="11" fill="#ffffff" text-anchor="middle">Bedrock API で呼び出し</text>

  <rect x="580" y="140" width="190" height="70" rx="4" fill="#111e2d"/>
  <text x="675" y="163" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">model_id:</text>
  <text x="675" y="180" font-family="Arial,sans-serif" font-size="9" fill="#06D6A0" text-anchor="middle">"arn:aws:bedrock:</text>
  <text x="675" y="196" font-family="Arial,sans-serif" font-size="9" fill="#06D6A0" text-anchor="middle">region::custom-model/..."</text>

  <text x="675" y="230" font-family="Arial,sans-serif" font-size="11" fill="#aaaaaa" text-anchor="middle">プロビジョンドスループット</text>
  <text x="675" y="250" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">専用キャパシティ確保</text>
  <text x="675" y="275" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">モデルIDでアクセス</text>
  <text x="675" y="295" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">VPC内アクセス可能</text>

  <!-- Cost box -->
  <rect x="15" y="330" width="760" height="80" rx="8" fill="#111e2d"/>
  <text x="400" y="355" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#ffffff" text-anchor="middle">費用モデル</text>

  <rect x="30" y="368" width="220" height="30" rx="4" fill="#1e3a5f"/>
  <text x="140" y="387" font-family="Arial,sans-serif" font-size="11" fill="#4CC9F0" text-anchor="middle">学習: トークン数 × 単価</text>

  <rect x="290" y="368" width="220" height="30" rx="4" fill="#1e3a5f"/>
  <text x="400" y="387" font-family="Arial,sans-serif" font-size="11" fill="#4CC9F0" text-anchor="middle">推論: プロビジョンドスループット</text>

  <rect x="550" y="368" width="220" height="30" rx="4" fill="#1e3a5f"/>
  <text x="660" y="387" font-family="Arial,sans-serif" font-size="11" fill="#4CC9F0" text-anchor="middle">モデル保存: ストレージ料金</text>

  <!-- Bottom note -->
  <text x="400" y="440" font-family="Arial,sans-serif" font-size="12" fill="#aaaaaa" text-anchor="middle">試験ポイント: Bedrock FT は Titan / Cohere が対象 | Claude FT は別途 Anthropic 経由</text>
  <text x="400" y="462" font-family="Arial,sans-serif" font-size="12" fill="#06D6A0" text-anchor="middle">★ Provisioned Throughput 購入後にカスタムモデルへのアクセスが可能</text>
</svg>
