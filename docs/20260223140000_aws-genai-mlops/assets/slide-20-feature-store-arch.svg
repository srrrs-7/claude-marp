<svg viewBox="0 0 800 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <rect width="800" height="500" fill="#0d1117"/>
  <text x="400" y="36" text-anchor="middle" font-family="sans-serif" font-size="19" font-weight="bold" fill="#ffffff">SageMaker Feature Store アーキテクチャ</text>
  <!-- Top: Ingestion -->
  <rect x="80" y="58" width="200" height="55" rx="6" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="180" y="80" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#4CC9F0">ストリーム取込</text>
  <text x="180" y="98" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Kinesis Data Streams</text>
  <text x="180" y="111" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Kinesis Firehose</text>
  <rect x="520" y="58" width="200" height="55" rx="6" fill="#0f3460" stroke="#06D6A0" stroke-width="1.5"/>
  <text x="620" y="80" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#06D6A0">バッチ取込</text>
  <text x="620" y="98" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">SageMaker Processing Jobs</text>
  <text x="620" y="111" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Glue ETL / Spark</text>
  <!-- Arrows down to Feature Store -->
  <line x1="180" y1="113" x2="230" y2="175" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#4CC9F0" transform="translate(230,175) rotate(160)"/>
  <line x1="620" y1="113" x2="570" y2="175" stroke="#06D6A0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#06D6A0" transform="translate(570,175) rotate(20)"/>
  <!-- Feature Store main box -->
  <rect x="80" y="175" width="640" height="190" rx="10" fill="#1a2535" stroke="#4CC9F0" stroke-width="2.5"/>
  <text x="400" y="200" text-anchor="middle" font-family="sans-serif" font-size="16" font-weight="bold" fill="#ffffff">SageMaker Feature Store</text>
  <text x="400" y="220" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#aaaaaa">Feature Group — レコードID + Event Time + 特徴量カラム群</text>
  <!-- Online Store left half -->
  <rect x="100" y="232" width="278" height="118" rx="8" fill="#0f3460" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="239" y="258" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold" fill="#4CC9F0">Online Store</text>
  <text x="239" y="278" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ccddee">バックエンド: DynamoDB</text>
  <text x="239" y="296" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ccddee">レイテンシ: 一桁ミリ秒</text>
  <text x="239" y="314" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">用途: リアルタイム推論</text>
  <text x="239" y="332" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">GetRecord / PutRecord API</text>
  <text x="239" y="343" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">最新レコードのみ保持</text>
  <!-- Offline Store right half -->
  <rect x="422" y="232" width="278" height="118" rx="8" fill="#0a2545" stroke="#06D6A0" stroke-width="1.5"/>
  <text x="561" y="258" text-anchor="middle" font-family="sans-serif" font-size="14" font-weight="bold" fill="#06D6A0">Offline Store</text>
  <text x="561" y="278" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ccddee">バックエンド: S3 + Glue</text>
  <text x="561" y="296" text-anchor="middle" font-family="sans-serif" font-size="12" fill="#ccddee">形式: Parquet (列指向)</text>
  <text x="561" y="314" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">用途: バッチ学習 / 分析</text>
  <text x="561" y="332" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">Athena で SQLクエリ可能</text>
  <text x="561" y="343" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#aaaaaa">履歴データ全件保持</text>
  <!-- Arrows from Feature Store to consumers -->
  <line x1="239" y1="365" x2="190" y2="415" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#4CC9F0" transform="translate(190,415) rotate(160)"/>
  <line x1="561" y1="365" x2="610" y2="415" stroke="#06D6A0" stroke-width="2"/>
  <polygon points="0,-6 -5,5 5,5" fill="#06D6A0" transform="translate(610,415) rotate(20)"/>
  <!-- Bottom: consumers -->
  <rect x="80" y="415" width="220" height="60" rx="6" fill="#0f3460" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="190" y="438" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#4CC9F0">Real-time Inference</text>
  <text x="190" y="456" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">SageMaker Endpoint</text>
  <text x="190" y="468" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Lambda 経由</text>
  <rect x="500" y="415" width="220" height="60" rx="6" fill="#0a2545" stroke="#06D6A0" stroke-width="1.5"/>
  <text x="610" y="438" text-anchor="middle" font-family="sans-serif" font-size="13" font-weight="bold" fill="#06D6A0">ML Training Jobs</text>
  <text x="610" y="456" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">create_dataset() で取得</text>
  <text x="610" y="468" text-anchor="middle" font-family="sans-serif" font-size="11" fill="#ccddee">Point-in-time join 対応</text>
</svg>
