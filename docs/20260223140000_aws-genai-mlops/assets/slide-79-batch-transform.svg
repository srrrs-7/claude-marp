<svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="800" height="500" fill="#0d1117"/>
  <text x="400" y="32" font-family="Arial" font-size="19" fill="#ffffff" text-anchor="middle" font-weight="bold">バッチ変換 (Batch Transform)</text>

  <!-- S3 Input -->
  <rect x="20" y="100" width="140" height="230" rx="10" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="2"/>
  <text x="90" y="128" font-family="Arial" font-size="13" fill="#4CC9F0" text-anchor="middle" font-weight="bold">大量データ</text>
  <text x="90" y="148" font-family="Arial" font-size="11" fill="#aaaaaa" text-anchor="middle">(Amazon S3)</text>
  <!-- file icons -->
  <rect x="35" y="165" width="110" height="22" rx="4" fill="#0a2040" stroke="#4CC9F0" stroke-width="1"/>
  <text x="90" y="180" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">data_001.csv</text>
  <rect x="35" y="192" width="110" height="22" rx="4" fill="#0a2040" stroke="#4CC9F0" stroke-width="1"/>
  <text x="90" y="207" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">data_002.json</text>
  <rect x="35" y="219" width="110" height="22" rx="4" fill="#0a2040" stroke="#4CC9F0" stroke-width="1"/>
  <text x="90" y="234" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">data_003.parquet</text>
  <text x="90" y="270" font-family="Arial" font-size="20" fill="#aaaaaa" text-anchor="middle">...</text>
  <text x="90" y="310" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">数GB〜TB規模</text>

  <!-- Arrow -->
  <line x1="160" y1="215" x2="210" y2="215" stroke="#4CC9F0" stroke-width="2.5"/>
  <polygon points="0,-6 -10,6 10,6" fill="#4CC9F0" transform="translate(210,215) rotate(90)"/>

  <!-- Batch Transform Job -->
  <rect x="215" y="70" width="360" height="295" rx="12" fill="#0f1e35" stroke="#06D6A0" stroke-width="2.5"/>
  <text x="395" y="100" font-family="Arial" font-size="14" fill="#06D6A0" text-anchor="middle" font-weight="bold">SageMaker Batch Transform Job</text>

  <rect x="235" y="115" width="150" height="38" rx="6" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1"/>
  <text x="310" y="131" font-family="Arial" font-size="11" fill="#4CC9F0" text-anchor="middle">Instance Type</text>
  <text x="310" y="147" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">ml.m5.4xlarge × 4台</text>

  <rect x="400" y="115" width="155" height="38" rx="6" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1"/>
  <text x="477" y="131" font-family="Arial" font-size="11" fill="#4CC9F0" text-anchor="middle">並列化</text>
  <text x="477" y="147" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">MaxConcurrentTransforms</text>

  <rect x="235" y="165" width="150" height="38" rx="6" fill="#0f3460" stroke="#4CC9F0" stroke-width="1"/>
  <text x="310" y="181" font-family="Arial" font-size="11" fill="#4CC9F0" text-anchor="middle">バッチサイズ</text>
  <text x="310" y="197" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">MaxPayloadInMB</text>

  <rect x="400" y="165" width="155" height="38" rx="6" fill="#0f3460" stroke="#4CC9F0" stroke-width="1"/>
  <text x="477" y="181" font-family="Arial" font-size="11" fill="#4CC9F0" text-anchor="middle">Split / Join</text>
  <text x="477" y="197" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">Line / RecordIO / None</text>

  <!-- Processing visualization -->
  <rect x="235" y="215" width="320" height="60" rx="8" fill="#0a1e30" stroke="#06D6A0" stroke-width="1.5"/>
  <text x="395" y="240" font-family="Arial" font-size="11" fill="#06D6A0" text-anchor="middle">並列推論処理</text>
  <text x="395" y="260" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">モデルコンテナ × N台で同時バッチ処理</text>

  <!-- Cost note -->
  <rect x="235" y="288" width="320" height="60" rx="8" fill="#1a0a00" stroke="#F77F00" stroke-width="1.5"/>
  <text x="395" y="308" font-family="Arial" font-size="11" fill="#F77F00" text-anchor="middle" font-weight="bold">コスト効率</text>
  <text x="395" y="326" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">推論完了後にインスタンスが自動削除</text>
  <text x="395" y="342" font-family="Arial" font-size="10" fill="#F77F00" text-anchor="middle">オンデマンド課金のみ</text>

  <!-- Arrow to output -->
  <line x1="575" y1="215" x2="625" y2="215" stroke="#06D6A0" stroke-width="2.5"/>
  <polygon points="0,-6 -10,6 10,6" fill="#06D6A0" transform="translate(625,215) rotate(90)"/>

  <!-- S3 Output -->
  <rect x="630" y="100" width="145" height="230" rx="10" fill="#0f3460" stroke="#06D6A0" stroke-width="2"/>
  <text x="703" y="128" font-family="Arial" font-size="13" fill="#06D6A0" text-anchor="middle" font-weight="bold">変換済み</text>
  <text x="703" y="148" font-family="Arial" font-size="11" fill="#aaaaaa" text-anchor="middle">予測結果 (S3)</text>
  <rect x="645" y="165" width="110" height="22" rx="4" fill="#0a2040" stroke="#06D6A0" stroke-width="1"/>
  <text x="700" y="180" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">out_001.csv.out</text>
  <rect x="645" y="192" width="110" height="22" rx="4" fill="#0a2040" stroke="#06D6A0" stroke-width="1"/>
  <text x="700" y="207" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">out_002.json.out</text>
  <rect x="645" y="219" width="110" height="22" rx="4" fill="#0a2040" stroke="#06D6A0" stroke-width="1"/>
  <text x="700" y="234" font-family="Arial" font-size="10" fill="#aaaaaa" text-anchor="middle">out_003.out</text>
  <text x="703" y="300" font-family="Arial" font-size="10" fill="#06D6A0" text-anchor="middle">自動出力</text>

  <!-- Use cases bottom -->
  <text x="400" y="400" font-family="Arial" font-size="12" fill="#4CC9F0" text-anchor="middle" font-weight="bold">主なユースケース</text>
  <rect x="50" y="410" width="200" height="40" rx="8" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="150" y="434" font-family="Arial" font-size="11" fill="#ffffff" text-anchor="middle">オフライン予測・バッチ推論</text>
  <rect x="270" y="410" width="200" height="40" rx="8" fill="#0f3460" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="370" y="434" font-family="Arial" font-size="11" fill="#ffffff" text-anchor="middle">大規模バッチ評価</text>
  <rect x="490" y="410" width="200" height="40" rx="8" fill="#1e3a5f" stroke="#4CC9F0" stroke-width="1.5"/>
  <text x="590" y="434" font-family="Arial" font-size="11" fill="#ffffff" text-anchor="middle">テストデータ評価・検証</text>
</svg>
