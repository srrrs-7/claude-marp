<svg viewBox="0 0 800 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="800" height="500" fill="#0d1b2a"/>

  <!-- Title -->
  <text x="400" y="32" font-family="Arial,sans-serif" font-size="18" font-weight="bold" fill="#4CC9F0" text-anchor="middle">GitOps for ML — Git を唯一の真実の源泉に</text>

  <!-- Left: Git Repository -->
  <rect x="15" y="52" width="220" height="340" rx="10" fill="#1a2a40" stroke="#4CC9F0" stroke-width="2"/>
  <text x="125" y="78" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#4CC9F0" text-anchor="middle">Git Repository</text>
  <text x="125" y="95" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">(唯一の真実の源泉)</text>

  <rect x="28" y="104" width="194" height="44" rx="5" fill="#1e3a5f"/>
  <text x="125" y="122" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">コード</text>
  <text x="125" y="140" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">model.py / train.py / evaluate.py</text>

  <rect x="28" y="156" width="194" height="44" rx="5" fill="#0f3460"/>
  <text x="125" y="174" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">設定ファイル</text>
  <text x="125" y="192" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">config.yaml / hyperparams.json</text>

  <rect x="28" y="208" width="194" height="44" rx="5" fill="#0a2545"/>
  <text x="125" y="226" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">インフラ定義</text>
  <text x="125" y="244" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">CDK / Terraform / CloudFormation</text>

  <rect x="28" y="260" width="194" height="44" rx="5" fill="#1e3a5f"/>
  <text x="125" y="278" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">パイプライン定義</text>
  <text x="125" y="296" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">pipeline.py / buildspec.yml</text>

  <rect x="28" y="312" width="194" height="62" rx="5" fill="#06D6A0" fill-opacity="0.1" stroke="#06D6A0" stroke-width="1"/>
  <text x="125" y="332" font-family="Arial,sans-serif" font-size="10" fill="#06D6A0" text-anchor="middle">PR + Code Review</text>
  <text x="125" y="350" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">すべての変更はGit経由</text>
  <text x="125" y="366" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">監査証跡が自動生成</text>

  <!-- Arrow left → center -->
  <line x1="235" y1="222" x2="280" y2="222" stroke="#4CC9F0" stroke-width="2"/>
  <polygon points="0,-5 -5,5 5,5" fill="#4CC9F0" transform="translate(282,222) rotate(90)"/>
  <text x="257" y="215" font-family="Arial,sans-serif" font-size="8" fill="#aaaaaa" text-anchor="middle">変更検知</text>

  <!-- Center: GitOps Controller -->
  <rect x="280" y="102" width="240" height="270" rx="10" fill="#1a2a40" stroke="#F77F00" stroke-width="2"/>
  <text x="400" y="128" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#F77F00" text-anchor="middle">GitOps Controller</text>
  <text x="400" y="147" font-family="Arial,sans-serif" font-size="10" fill="#aaaaaa" text-anchor="middle">(CodePipeline / ArgoCD / Flux)</text>

  <rect x="292" y="158" width="216" height="50" rx="5" fill="#F77F00" fill-opacity="0.15" stroke="#F77F00" stroke-width="1"/>
  <text x="400" y="178" font-family="Arial,sans-serif" font-size="10" fill="#F77F00" text-anchor="middle">変更を監視</text>
  <text x="400" y="196" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Git diff → 何が変わったか検知</text>

  <rect x="292" y="216" width="216" height="50" rx="5" fill="#1e3a5f"/>
  <text x="400" y="236" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">Desired State 適用</text>
  <text x="400" y="254" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Git の状態 = 実行環境の状態</text>

  <rect x="292" y="274" width="216" height="50" rx="5" fill="#0f3460"/>
  <text x="400" y="294" font-family="Arial,sans-serif" font-size="10" fill="#4CC9F0" text-anchor="middle">継続的調整 (Reconcile)</text>
  <text x="400" y="312" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">ドリフト検知 → 自動修正</text>

  <!-- Sync arrows -->
  <text x="400" y="345" font-family="Arial,sans-serif" font-size="9" fill="#aaaaaa" text-anchor="middle">pull / push モデル対応</text>

  <!-- Arrow center → right -->
  <line x1="520" y1="237" x2="565" y2="237" stroke="#06D6A0" stroke-width="2"/>
  <polygon points="0,-5 -5,5 5,5" fill="#06D6A0" transform="translate(567,237) rotate(90)"/>
  <text x="542" y="230" font-family="Arial,sans-serif" font-size="8" fill="#aaaaaa" text-anchor="middle">デプロイ</text>

  <!-- Right: AWS 実行環境 -->
  <rect x="565" y="52" width="220" height="340" rx="10" fill="#1a2a40" stroke="#06D6A0" stroke-width="2"/>
  <text x="675" y="78" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#06D6A0" text-anchor="middle">実行環境 (AWS)</text>

  <rect x="578" y="90" width="194" height="54" rx="5" fill="#1e3a5f"/>
  <text x="675" y="110" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">SageMaker Pipeline</text>
  <text x="675" y="128" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">学習・評価・登録の実行</text>

  <rect x="578" y="152" width="194" height="54" rx="5" fill="#0f3460"/>
  <text x="675" y="172" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">Endpoints</text>
  <text x="675" y="190" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">推論エンドポイント (本番/ステージ)</text>

  <rect x="578" y="214" width="194" height="54" rx="5" fill="#0a2545"/>
  <text x="675" y="234" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">Monitoring Schedules</text>
  <text x="675" y="252" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Model Monitor スケジュール</text>

  <rect x="578" y="276" width="194" height="54" rx="5" fill="#1e3a5f"/>
  <text x="675" y="296" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#4CC9F0" text-anchor="middle">Infrastructure</text>
  <text x="675" y="314" font-family="Arial,sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">VPC / SG / IAM ロール</text>

  <!-- GitOps Principles -->
  <rect x="15" y="408" width="760" height="78" rx="8" fill="#1a2a40" stroke="#4CC9F0" stroke-width="1"/>
  <text x="400" y="430" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#4CC9F0" text-anchor="middle">GitOps の原則</text>
  <text x="110" y="452" font-family="Arial,sans-serif" font-size="11" fill="#06D6A0" text-anchor="middle">宣言的</text>
  <text x="110" y="468" font-family="Arial,sans-serif" font-size="9" fill="#aaaaaa" text-anchor="middle">望ましい状態をGitで定義</text>
  <text x="290" y="452" font-family="Arial,sans-serif" font-size="11" fill="#06D6A0" text-anchor="middle">バージョン管理</text>
  <text x="290" y="468" font-family="Arial,sans-serif" font-size="9" fill="#aaaaaa" text-anchor="middle">すべての変更を追跡・監査</text>
  <text x="480" y="452" font-family="Arial,sans-serif" font-size="11" fill="#06D6A0" text-anchor="middle">自動同期</text>
  <text x="480" y="468" font-family="Arial,sans-serif" font-size="9" fill="#aaaaaa" text-anchor="middle">PRマージ = 自動デプロイ</text>
  <text x="670" y="452" font-family="Arial,sans-serif" font-size="11" fill="#06D6A0" text-anchor="middle">継続的調整</text>
  <text x="670" y="468" font-family="Arial,sans-serif" font-size="9" fill="#aaaaaa" text-anchor="middle">ドリフト → 自動ロールバック</text>
</svg>
