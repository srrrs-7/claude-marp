<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="800" height="400" fill="#fafafa"/>
  <!-- Title divider -->
  <line x1="400" y1="10" x2="400" y2="390" stroke="#ddd" stroke-width="1" stroke-dasharray="4,3"/>
  <!-- BEFORE (left) -->
  <text x="200" y="30" font-family="Arial,sans-serif" font-size="14" fill="#ef4444" font-weight="bold" text-anchor="middle">Before: インターネット経由</text>
  <!-- VPC left -->
  <rect x="20" y="45" width="170" height="200" rx="6" fill="#f0f4ff" stroke="#7b5ea7" stroke-width="1.5"/>
  <text x="105" y="64" font-family="Arial,sans-serif" font-size="11" fill="#7b5ea7" font-weight="bold" text-anchor="middle">VPC</text>
  <!-- EC2 left -->
  <rect x="35" y="74" width="140" height="50" rx="5" fill="#fff" stroke="#7b5ea7" stroke-width="1.5"/>
  <text x="105" y="103" font-family="Arial,sans-serif" font-size="11" fill="#333" text-anchor="middle" font-weight="bold">EC2</text>
  <!-- NAT GW left -->
  <rect x="35" y="150" width="140" height="50" rx="5" fill="#fff" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="105" y="170" font-family="Arial,sans-serif" font-size="10" fill="#666" text-anchor="middle">NAT Gateway</text>
  <text x="105" y="185" font-family="Arial,sans-serif" font-size="10" fill="#f59e0b" text-anchor="middle">$0.045/hr + data</text>
  <!-- Arrow EC2 to NAT -->
  <line x1="105" y1="124" x2="105" y2="148" stroke="#7b5ea7" stroke-width="2"/>
  <polygon points="99,144 105,156 111,144" fill="#7b5ea7"/>
  <!-- Internet cloud -->
  <ellipse cx="200" cy="290" rx="60" ry="38" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
  <text x="200" y="286" font-family="Arial,sans-serif" font-size="12" fill="#ef4444" font-weight="bold" text-anchor="middle">Internet</text>
  <text x="200" y="303" font-family="Arial,sans-serif" font-size="10" fill="#ef4444" text-anchor="middle">Public</text>
  <!-- Arrow NAT to Internet -->
  <line x1="150" y1="200" x2="175" y2="252" stroke="#ef4444" stroke-width="2"/>
  <polygon points="168,250 178,262 182,249" fill="#ef4444"/>
  <!-- IGW left -->
  <rect x="35" y="216" width="140" height="40" rx="5" fill="#fff" stroke="#ef4444" stroke-width="1.5"/>
  <text x="105" y="241" font-family="Arial,sans-serif" font-size="11" fill="#ef4444" text-anchor="middle">Internet GW (IGW)</text>
  <!-- Arrow NAT to IGW -->
  <line x1="105" y1="200" x2="105" y2="214" stroke="#ef4444" stroke-width="1.5"/>
  <polygon points="99,210 105,216 111,210" fill="#ef4444"/>
  <!-- S3 left -->
  <rect x="315" y="265" width="70" height="50" rx="5" fill="#ff9900" opacity="0.15" stroke="#ff9900" stroke-width="1.5"/>
  <text x="350" y="295" font-family="Arial,sans-serif" font-size="12" fill="#cc7700" font-weight="bold" text-anchor="middle">S3</text>
  <!-- Arrow Internet to S3 -->
  <line x1="260" y1="285" x2="313" y2="286" stroke="#ef4444" stroke-width="2"/>
  <polygon points="309,280 321,286 309,292" fill="#ef4444"/>
  <!-- Cost label -->
  <rect x="20" y="345" width="370" height="38" rx="5" fill="#fee2e2" stroke="#ef4444" stroke-width="1"/>
  <text x="205" y="360" font-family="Arial,sans-serif" font-size="10" fill="#ef4444" text-anchor="middle" font-weight="bold">課題: NAT GW 料金 + インターネット転送料 + セキュリティリスク</text>
  <text x="205" y="376" font-family="Arial,sans-serif" font-size="10" fill="#888" text-anchor="middle">大量データ転送: $0.09/GB (NAT) + パブリック経路のリスク</text>

  <!-- AFTER (right) -->
  <text x="600" y="30" font-family="Arial,sans-serif" font-size="14" fill="#10b981" font-weight="bold" text-anchor="middle">After: VPC Endpoint 経由</text>
  <!-- VPC right -->
  <rect x="415" y="45" width="170" height="200" rx="6" fill="#f0fdf4" stroke="#10b981" stroke-width="1.5"/>
  <text x="500" y="64" font-family="Arial,sans-serif" font-size="11" fill="#10b981" font-weight="bold" text-anchor="middle">VPC</text>
  <!-- EC2 right -->
  <rect x="430" y="74" width="140" height="50" rx="5" fill="#fff" stroke="#10b981" stroke-width="1.5"/>
  <text x="500" y="103" font-family="Arial,sans-serif" font-size="11" fill="#333" text-anchor="middle" font-weight="bold">EC2</text>
  <!-- VPC Endpoint right -->
  <rect x="430" y="150" width="140" height="50" rx="5" fill="#fff" stroke="#10b981" stroke-width="2"/>
  <text x="500" y="170" font-family="Arial,sans-serif" font-size="10" fill="#059669" text-anchor="middle" font-weight="bold">VPC Endpoint</text>
  <text x="500" y="186" font-family="Arial,sans-serif" font-size="10" fill="#10b981" text-anchor="middle">(Gateway / Interface)</text>
  <!-- Arrow EC2 to Endpoint -->
  <line x1="500" y1="124" x2="500" y2="148" stroke="#10b981" stroke-width="2"/>
  <polygon points="494,144 500,156 506,144" fill="#10b981"/>
  <!-- AWS Backbone -->
  <rect x="590" y="100" width="110" height="120" rx="6" fill="#f0fdf4" stroke="#10b981" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="645" y="125" font-family="Arial,sans-serif" font-size="10" fill="#059669" text-anchor="middle" font-weight="bold">AWS</text>
  <text x="645" y="140" font-family="Arial,sans-serif" font-size="10" fill="#059669" text-anchor="middle" font-weight="bold">Backbone</text>
  <text x="645" y="160" font-family="Arial,sans-serif" font-size="10" fill="#888" text-anchor="middle">Private</text>
  <text x="645" y="175" font-family="Arial,sans-serif" font-size="10" fill="#888" text-anchor="middle">Network</text>
  <!-- Arrow Endpoint to Backbone -->
  <line x1="570" y1="175" x2="588" y2="160" stroke="#10b981" stroke-width="2"/>
  <polygon points="583,155 592,164 598,154" fill="#10b981"/>
  <!-- S3 right -->
  <rect x="700" y="130" width="70" height="50" rx="5" fill="#ff9900" opacity="0.15" stroke="#ff9900" stroke-width="1.5"/>
  <text x="735" y="160" font-family="Arial,sans-serif" font-size="12" fill="#cc7700" font-weight="bold" text-anchor="middle">S3</text>
  <!-- Arrow Backbone to S3 -->
  <line x1="700" y1="155" x2="702" y2="155" stroke="#10b981" stroke-width="2"/>
  <line x1="700" y1="155" x2="698" y2="155" stroke="#10b981" stroke-width="2"/>
  <!-- No Internet label -->
  <ellipse cx="600" cy="290" rx="60" ry="38" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="600" y="286" font-family="Arial,sans-serif" font-size="12" fill="#94a3b8" text-anchor="middle">Internet</text>
  <text x="600" y="303" font-family="Arial,sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">不使用</text>
  <line x1="548" y1="253" x2="660" y2="330" stroke="#ef4444" stroke-width="3"/>
  <line x1="660" y1="253" x2="548" y2="330" stroke="#ef4444" stroke-width="3"/>
  <!-- Benefit label -->
  <rect x="415" y="345" width="370" height="38" rx="5" fill="#f0fdf4" stroke="#10b981" stroke-width="1"/>
  <text x="600" y="360" font-family="Arial,sans-serif" font-size="10" fill="#059669" text-anchor="middle" font-weight="bold">メリット: Gateway は無料 / Interface はデータ転送料削減 + セキュリティ向上</text>
  <text x="600" y="376" font-family="Arial,sans-serif" font-size="10" fill="#888" text-anchor="middle">NAT GW 不要 / パブリックアクセス遮断 / VPC Endpoint Policy で制御</text>
</svg>
