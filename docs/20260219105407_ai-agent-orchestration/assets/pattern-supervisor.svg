<svg viewBox="0 0 900 380" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;background:#0f172a;border-radius:12px">
  <!-- User Input -->
  <rect x="350" y="20" width="200" height="44" rx="8" fill="#1e293b" stroke="#64748b" stroke-width="1.5"/>
  <text x="450" y="40" text-anchor="middle" fill="#94a3b8" font-size="13" font-family="sans-serif">User Request</text>
  <text x="450" y="57" text-anchor="middle" fill="#64748b" font-size="11" font-family="sans-serif">「調査レポートを書いて」</text>
  <!-- Arrow down to Supervisor -->
  <line x1="450" y1="64" x2="450" y2="88" stroke="#64748b" stroke-width="2"/>
  <polygon points="444,88 450,100 456,88" fill="#64748b"/>
  <!-- Supervisor -->
  <rect x="310" y="100" width="280" height="60" rx="10" fill="#3b0764" stroke="#c084fc" stroke-width="2.5"/>
  <text x="450" y="126" text-anchor="middle" fill="#c084fc" font-size="16" font-weight="bold" font-family="sans-serif">Supervisor Agent</text>
  <text x="450" y="148" text-anchor="middle" fill="#a78bfa" font-size="12" font-family="sans-serif">意図理解 → タスク分解 → Worker選択 → 結果統合</text>
  <!-- Arrows down to workers -->
  <line x1="140" y1="160" x2="140" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="134,200 140,212 146,200" fill="#64748b"/>
  <line x1="310" y1="160" x2="270" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="263,198 270,210 277,198" fill="#64748b"/>
  <line x1="450" y1="160" x2="450" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="444,200 450,212 456,200" fill="#64748b"/>
  <line x1="590" y1="160" x2="630" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="623,198 630,210 637,198" fill="#64748b"/>
  <line x1="760" y1="160" x2="760" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="754,200 760,212 766,200" fill="#64748b"/>
  <!-- Connect supervisor to arrow starts -->
  <line x1="310" y1="130" x2="140" y2="160" stroke="#64748b" stroke-width="1.5"/>
  <line x1="380" y1="160" x2="270" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <line x1="590" y1="160" x2="630" y2="200" stroke="#64748b" stroke-width="1.5"/>
  <line x1="590" y1="130" x2="760" y2="160" stroke="#64748b" stroke-width="1.5"/>
  <!-- Worker Agents -->
  <rect x="60" y="214" width="160" height="60" rx="8" fill="#1e3a5f" stroke="#38bdf8" stroke-width="1.5"/>
  <text x="140" y="240" text-anchor="middle" fill="#38bdf8" font-size="13" font-weight="bold" font-family="sans-serif">Researcher</text>
  <text x="140" y="258" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">Web検索・文献調査</text>
  <text x="140" y="268" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">tools: search, fetch</text>
  <rect x="250" y="214" width="160" height="60" rx="8" fill="#1e3a5f" stroke="#34d399" stroke-width="1.5"/>
  <text x="330" y="240" text-anchor="middle" fill="#34d399" font-size="13" font-weight="bold" font-family="sans-serif">Analyst</text>
  <text x="330" y="258" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">データ分析・要約</text>
  <text x="330" y="268" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">tools: code_exec, calc</text>
  <rect x="370" y="214" width="160" height="60" rx="8" fill="#1e3a5f" stroke="#c084fc" stroke-width="1.5"/>
  <text x="450" y="240" text-anchor="middle" fill="#c084fc" font-size="13" font-weight="bold" font-family="sans-serif">Writer</text>
  <text x="450" y="258" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">文章生成・整形</text>
  <text x="450" y="268" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">tools: editor, format</text>
  <rect x="550" y="214" width="160" height="60" rx="8" fill="#1e3a5f" stroke="#fdba74" stroke-width="1.5"/>
  <text x="630" y="240" text-anchor="middle" fill="#fdba74" font-size="13" font-weight="bold" font-family="sans-serif">Reviewer</text>
  <text x="630" y="258" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">品質検証・修正提案</text>
  <text x="630" y="268" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">tools: lint, checker</text>
  <rect x="680" y="214" width="160" height="60" rx="8" fill="#1e3a5f" stroke="#f87171" stroke-width="1.5"/>
  <text x="760" y="240" text-anchor="middle" fill="#f87171" font-size="13" font-weight="bold" font-family="sans-serif">Coder</text>
  <text x="760" y="258" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">コード生成・実行</text>
  <text x="760" y="268" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">tools: sandbox, git</text>
  <!-- Arrows back up (results) -->
  <line x1="140" y1="275" x2="380" y2="318" stroke="#34d399" stroke-width="1.5" stroke-dasharray="5,4"/>
  <line x1="330" y1="275" x2="400" y2="320" stroke="#34d399" stroke-width="1.5" stroke-dasharray="5,4"/>
  <line x1="450" y1="275" x2="450" y2="320" stroke="#34d399" stroke-width="1.5" stroke-dasharray="5,4"/>
  <line x1="630" y1="275" x2="490" y2="320" stroke="#34d399" stroke-width="1.5" stroke-dasharray="5,4"/>
  <line x1="760" y1="275" x2="510" y2="318" stroke="#34d399" stroke-width="1.5" stroke-dasharray="5,4"/>
  <!-- Output -->
  <rect x="310" y="322" width="280" height="44" rx="8" fill="#14532d" stroke="#34d399" stroke-width="2"/>
  <text x="450" y="344" text-anchor="middle" fill="#34d399" font-size="13" font-weight="bold" font-family="sans-serif">統合レスポンス</text>
  <text x="450" y="360" text-anchor="middle" fill="#86efac" font-size="11" font-family="sans-serif">Supervisor が各Worker結果を統合して返却</text>
  <!-- Dynamic routing label -->
  <text x="450" y="190" text-anchor="middle" fill="#fbbf24" font-size="11" font-family="sans-serif" font-style="italic">タスク内容に応じてWorkerを動的選択（全員呼ぶとは限らない）</text>
</svg>
