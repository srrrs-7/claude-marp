<svg viewBox="0 0 1000 400" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;background:#0f172a;border-radius:12px">
  <text x="500" y="28" text-anchor="middle" fill="#f1f5f9" font-size="16" font-weight="bold" font-family="sans-serif">カスタマーサポートBot — Supervisorパターン実装例</text>
  <!-- User Input -->
  <rect x="30" y="50" width="140" height="55" rx="8" fill="#1e293b" stroke="#64748b" stroke-width="1.5"/>
  <text x="100" y="74" text-anchor="middle" fill="#94a3b8" font-size="13" font-weight="bold" font-family="sans-serif">ユーザー</text>
  <text x="100" y="92" text-anchor="middle" fill="#64748b" font-size="10" font-family="sans-serif">問い合わせ入力</text>
  <text x="100" y="104" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">（テキスト/音声）</text>
  <!-- Arrow to Router -->
  <line x1="170" y1="77" x2="214" y2="77" stroke="#64748b" stroke-width="2"/>
  <polygon points="214,71 224,77 214,83" fill="#64748b"/>
  <!-- Intent Classifier / Router -->
  <rect x="224" y="50" width="200" height="55" rx="8" fill="#172554" stroke="#60a5fa" stroke-width="2"/>
  <text x="324" y="74" text-anchor="middle" fill="#60a5fa" font-size="13" font-weight="bold" font-family="sans-serif">Intent Classifier</text>
  <text x="324" y="92" text-anchor="middle" fill="#93c5fd" font-size="11" font-family="sans-serif">問い合わせ種別分類</text>
  <text x="324" y="104" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">FAQ / 請求 / 技術 / 苦情 / 人間</text>
  <!-- Arrow to Supervisor -->
  <line x1="424" y1="77" x2="468" y2="77" stroke="#64748b" stroke-width="2"/>
  <polygon points="468,71 478,77 468,83" fill="#64748b"/>
  <!-- Supervisor -->
  <rect x="478" y="44" width="200" height="66" rx="10" fill="#3b0764" stroke="#c084fc" stroke-width="2.5"/>
  <text x="578" y="68" text-anchor="middle" fill="#c084fc" font-size="14" font-weight="bold" font-family="sans-serif">Supervisor Agent</text>
  <text x="578" y="86" text-anchor="middle" fill="#a78bfa" font-size="11" font-family="sans-serif">ルーティング・コンテキスト管理</text>
  <text x="578" y="101" text-anchor="middle" fill="#7c3aed" font-size="9" font-family="sans-serif">顧客履歴参照 / 優先度判定</text>
  <!-- Worker agents below supervisor -->
  <!-- FAQ Agent -->
  <line x1="530" y1="110" x2="140" y2="165" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="133,159 140,171 147,159" fill="#64748b"/>
  <rect x="30" y="172" width="220" height="75" rx="8" fill="#1e3a5f" stroke="#38bdf8" stroke-width="2"/>
  <text x="140" y="196" text-anchor="middle" fill="#38bdf8" font-size="13" font-weight="bold" font-family="sans-serif">FAQ Agent</text>
  <text x="140" y="214" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">ナレッジベース検索</text>
  <text x="140" y="230" text-anchor="middle" fill="#64748b" font-size="10" font-family="sans-serif">RAG + 回答生成</text>
  <text x="140" y="242" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">解決率: ~70%</text>
  <!-- Billing Agent -->
  <line x1="548" y1="110" x2="348" y2="165" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="341,159 348,171 355,159" fill="#64748b"/>
  <rect x="270" y="172" width="156" height="75" rx="8" fill="#14532d" stroke="#34d399" stroke-width="2"/>
  <text x="348" y="196" text-anchor="middle" fill="#34d399" font-size="13" font-weight="bold" font-family="sans-serif">Billing Agent</text>
  <text x="348" y="214" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">請求・支払い確認</text>
  <text x="348" y="230" text-anchor="middle" fill="#64748b" font-size="10" font-family="sans-serif">請求DBアクセス</text>
  <text x="348" y="242" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">返金処理 (HitL)</text>
  <!-- Tech Support Agent -->
  <line x1="578" y1="110" x2="548" y2="165" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="541,159 548,171 555,159" fill="#64748b"/>
  <rect x="446" y="172" width="204" height="75" rx="8" fill="#1e3a5f" stroke="#c084fc" stroke-width="2"/>
  <text x="548" y="196" text-anchor="middle" fill="#c084fc" font-size="13" font-weight="bold" font-family="sans-serif">Tech Support Agent</text>
  <text x="548" y="214" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">技術トラブル診断</text>
  <text x="548" y="230" text-anchor="middle" fill="#64748b" font-size="10" font-family="sans-serif">ログ分析・手順案内</text>
  <text x="548" y="242" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">エスカレーション判定</text>
  <!-- Escalation Agent -->
  <line x1="620" y1="110" x2="760" y2="165" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="753,159 760,171 767,159" fill="#64748b"/>
  <rect x="676" y="172" width="170" height="75" rx="8" fill="#2d1f00" stroke="#fbbf24" stroke-width="2"/>
  <text x="761" y="196" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="bold" font-family="sans-serif">Escalation Agent</text>
  <text x="761" y="214" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">人間オペレーター転送</text>
  <text x="761" y="230" text-anchor="middle" fill="#64748b" font-size="10" font-family="sans-serif">感情分析・優先度付け</text>
  <text x="761" y="242" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">チケット発行</text>
  <!-- Sentiment Monitor -->
  <line x1="640" y1="110" x2="920" y2="165" stroke="#64748b" stroke-width="1.5"/>
  <polygon points="913,159 920,171 927,159" fill="#64748b"/>
  <rect x="860" y="172" width="120" height="75" rx="8" fill="#2d1515" stroke="#f87171" stroke-width="1.5"/>
  <text x="920" y="196" text-anchor="middle" fill="#f87171" font-size="12" font-weight="bold" font-family="sans-serif">Sentiment</text>
  <text x="920" y="213" text-anchor="middle" fill="#f87171" font-size="12" font-weight="bold" font-family="sans-serif">Monitor</text>
  <text x="920" y="230" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">感情検知</text>
  <text x="920" y="246" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">怒り→即エスカレ</text>
  <!-- Response back -->
  <line x1="140" y1="247" x2="140" y2="300" stroke="#34d399" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="348" y1="247" x2="300" y2="300" stroke="#34d399" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="548" y1="247" x2="450" y2="300" stroke="#34d399" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="761" y1="247" x2="600" y2="300" stroke="#34d399" stroke-width="1.5" stroke-dasharray="4,3"/>
  <rect x="100" y="300" width="540" height="50" rx="8" fill="#14532d" stroke="#34d399" stroke-width="2"/>
  <text x="370" y="322" text-anchor="middle" fill="#34d399" font-size="13" font-weight="bold" font-family="sans-serif">統合レスポンス生成 → ユーザーへ返答</text>
  <text x="370" y="340" text-anchor="middle" fill="#86efac" font-size="11" font-family="sans-serif">Supervisorが結果を整形・品質チェック → 送信</text>
  <!-- Stats box -->
  <rect x="700" y="300" width="270" height="76" rx="8" fill="#1e293b" stroke="#60a5fa" stroke-width="1.5"/>
  <text x="835" y="318" text-anchor="middle" fill="#60a5fa" font-size="12" font-weight="bold" font-family="sans-serif">期待効果（実績値）</text>
  <text x="720" y="335" fill="#86efac" font-size="11" font-family="sans-serif">自動解決率: ~75%</text>
  <text x="720" y="350" fill="#7dd3fc" font-size="11" font-family="sans-serif">平均応答時間: 3s → 0.5s</text>
  <text x="720" y="365" fill="#c084fc" font-size="11" font-family="sans-serif">コスト削減: ~60%</text>
</svg>
