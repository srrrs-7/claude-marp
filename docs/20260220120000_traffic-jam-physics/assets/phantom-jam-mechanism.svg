<svg viewBox="0 0 960 460" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;font-family:'Helvetica Neue',Arial,sans-serif">
  <rect width="960" height="460" fill="#f8fafc" rx="12"/>
  <text x="480" y="36" text-anchor="middle" font-size="19" font-weight="bold" fill="#1e293b">幽霊渋滞の発生メカニズム（時空間図）</text>

  <!-- Axis labels -->
  <text x="48" y="420" text-anchor="middle" font-size="13" fill="#475569">時刻 t₀</text>
  <text x="220" y="420" text-anchor="middle" font-size="13" fill="#475569">t₁</text>
  <text x="392" y="420" text-anchor="middle" font-size="13" fill="#475569">t₂</text>
  <text x="564" y="420" text-anchor="middle" font-size="13" fill="#475569">t₃</text>
  <text x="736" y="420" text-anchor="middle" font-size="13" fill="#475569">t₄</text>
  <text x="900" y="420" text-anchor="middle" font-size="13" fill="#475569">t₅</text>

  <!-- Time axis arrow -->
  <line x1="28" y1="410" x2="940" y2="410" stroke="#94a3b8" stroke-width="2"/>
  <polygon points="944,410 934,405 934,415" fill="#94a3b8"/>
  <text x="480" y="448" text-anchor="middle" font-size="12" fill="#64748b">→ 時間</text>

  <!-- Space axis -->
  <line x1="28" y1="410" x2="28" y2="60" stroke="#94a3b8" stroke-width="2"/>
  <polygon points="28,56 23,66 33,66" fill="#94a3b8"/>
  <text x="14" y="240" text-anchor="middle" font-size="12" fill="#64748b" transform="rotate(-90,14,240)">→ 道路（上流方向）</text>

  <!-- Car trajectories (normal flow - light green) -->
  <!-- Cars moving freely at t0 -->
  <line x1="48" y1="380" x2="220" y2="300" stroke="#86efac" stroke-width="2" stroke-dasharray="0"/>
  <line x1="48" y1="360" x2="220" y2="280" stroke="#86efac" stroke-width="2"/>
  <line x1="48" y1="340" x2="170" y2="240" stroke="#86efac" stroke-width="2"/>
  <line x1="48" y1="320" x2="150" y2="220" stroke="#86efac" stroke-width="2"/>
  <line x1="48" y1="300" x2="130" y2="180" stroke="#86efac" stroke-width="2"/>

  <!-- Disturbance at t1 - one car brakes -->
  <circle cx="220" cy="280" r="8" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
  <text x="235" y="275" font-size="11" fill="#92400e" font-weight="bold">急ブレーキ!</text>

  <!-- Wave propagation zone (red shaded) -->
  <polygon points="220,280 392,200 564,130 220,330 392,260 564,200" fill="#fee2e2" opacity="0.6"/>
  <polygon points="220,280 564,130 736,90 220,280" fill="#fecaca" opacity="0.5"/>

  <!-- Jam wave (red) - propagates backward (upstream) -->
  <line x1="220" y1="280" x2="392" y2="210" stroke="#dc2626" stroke-width="3"/>
  <line x1="392" y1="210" x2="564" y2="148" stroke="#dc2626" stroke-width="3"/>
  <line x1="564" y1="148" x2="736" y2="95" stroke="#dc2626" stroke-width="3"/>
  <line x1="736" y1="95" x2="900" y2="50" stroke="#dc2626" stroke-width="3"/>

  <!-- Jam wave label -->
  <text x="640" y="88" font-size="12" font-weight="bold" fill="#dc2626">渋滞波（逆走）</text>
  <text x="640" y="103" font-size="11" fill="#dc2626">~15 km/h 上流へ伝播</text>

  <!-- Cars behind jam - slow trajectories -->
  <line x1="220" y1="300" x2="564" y2="240" stroke="#f97316" stroke-width="2"/>
  <line x1="220" y1="320" x2="564" y2="270" stroke="#f97316" stroke-width="2"/>
  <line x1="220" y1="340" x2="564" y2="300" stroke="#f97316" stroke-width="2"/>

  <!-- Cars exiting jam - resume normal speed -->
  <line x1="392" y1="210" x2="736" y2="130" stroke="#86efac" stroke-width="2"/>
  <line x1="564" y1="200" x2="900" y2="120" stroke="#86efac" stroke-width="2"/>

  <!-- Original cause disappears -->
  <circle cx="564" cy="200" r="6" fill="#16a34a"/>
  <text x="580" y="196" font-size="11" fill="#166534">原因消失</text>
  <text x="580" y="210" font-size="10" fill="#166534">（障害除去）</text>

  <!-- Bottom legend -->
  <rect x="100" y="426" width="16" height="10" fill="#86efac" rx="2"/>
  <text x="122" y="436" font-size="11" fill="#475569">自由走行（高速）</text>
  <rect x="280" y="426" width="16" height="10" fill="#f97316" rx="2"/>
  <text x="302" y="436" font-size="11" fill="#475569">渋滞中（低速）</text>
  <rect x="450" y="426" width="16" height="10" fill="#dc2626" rx="2"/>
  <text x="472" y="436" font-size="11" fill="#475569">渋滞波（上流伝播）</text>
  <circle cx="636" cy="431" r="6" fill="#fbbf24" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="648" y="436" font-size="11" fill="#475569">初期擾乱</text>
</svg>
