<svg viewBox="0 0 900 450" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;max-width:100%;display:block;margin:0 auto;">
  <!-- Background -->
  <rect width="900" height="450" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#333">タスク依存関係による波状実行パターン</text>

  <!-- Wave zones -->
  <g id="waves">
    <rect x="50" y="80" width="200" height="320" rx="12" fill="#E8F5E9" stroke="#4CAF50" stroke-width="3" opacity="0.3"/>
    <text x="150" y="70" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#2E7D32">Wave 1</text>
    <text x="150" y="420" text-anchor="middle" font-family="Arial" font-size="13" fill="#2E7D32">初期フェーズ</text>

    <rect x="320" y="80" width="280" height="320" rx="12" fill="#E3F2FD" stroke="#2196F3" stroke-width="3" opacity="0.3"/>
    <text x="460" y="70" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#1565C0">Wave 2</text>
    <text x="460" y="420" text-anchor="middle" font-family="Arial" font-size="13" fill="#1565C0">並列実行フェーズ</text>

    <rect x="670" y="80" width="200" height="320" rx="12" fill="#FFF3E0" stroke="#FF9800" stroke-width="3" opacity="0.3"/>
    <text x="770" y="70" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="#E65100">Wave 3</text>
    <text x="770" y="420" text-anchor="middle" font-family="Arial" font-size="13" fill="#E65100">統合フェーズ</text>
  </g>

  <!-- Task A -->
  <g id="taskA">
    <rect x="90" y="180" width="120" height="100" rx="10" fill="#4CAF50" stroke="#2E7D32" stroke-width="3"/>
    <text x="150" y="215" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">タスク A</text>
    <text x="150" y="240" text-anchor="middle" font-family="Arial" font-size="13" fill="white">DB設計</text>
    <circle cx="105" cy="195" r="8" fill="#FFD700" stroke="#FFA000" stroke-width="2"/>
    <text x="105" y="199" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">1</text>
  </g>

  <!-- Task B -->
  <g id="taskB">
    <rect x="360" y="140" width="120" height="90" rx="10" fill="#2196F3" stroke="#1565C0" stroke-width="3"/>
    <text x="420" y="172" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">タスク B</text>
    <text x="420" y="195" text-anchor="middle" font-family="Arial" font-size="13" fill="white">API実装</text>
    <circle cx="375" cy="155" r="8" fill="#FFD700" stroke="#FFA000" stroke-width="2"/>
    <text x="375" y="159" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">2</text>
  </g>

  <!-- Task C -->
  <g id="taskC">
    <rect x="360" y="260" width="120" height="90" rx="10" fill="#2196F3" stroke="#1565C0" stroke-width="3"/>
    <text x="420" y="292" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">タスク C</text>
    <text x="420" y="315" text-anchor="middle" font-family="Arial" font-size="13" fill="white">モデル実装</text>
    <circle cx="375" cy="275" r="8" fill="#FFD700" stroke="#FFA000" stroke-width="2"/>
    <text x="375" y="279" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">3</text>
  </g>

  <!-- Task D -->
  <g id="taskD">
    <rect x="710" y="180" width="120" height="100" rx="10" fill="#FF9800" stroke="#E65100" stroke-width="3"/>
    <text x="770" y="215" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold" fill="white">タスク D</text>
    <text x="770" y="240" text-anchor="middle" font-family="Arial" font-size="13" fill="white">結合テスト</text>
    <circle cx="725" cy="195" r="8" fill="#FFD700" stroke="#FFA000" stroke-width="2"/>
    <text x="725" y="199" text-anchor="middle" font-family="Arial" font-size="10" font-weight="bold" fill="#333">4</text>
  </g>

  <!-- Dependencies arrows -->
  <defs>
    <marker id="arrowDep-tasks" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
    </marker>
  </defs>

  <!-- A -> B -->
  <path d="M 210 210 Q 280 165 360 175" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowDep-tasks)"/>
  <text x="275" y="165" font-family="Arial" font-size="11" fill="#333" font-weight="bold">blocks</text>

  <!-- A -> C -->
  <path d="M 210 250 Q 280 275 360 290" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowDep-tasks)"/>
  <text x="275" y="295" font-family="Arial" font-size="11" fill="#333" font-weight="bold">blocks</text>

  <!-- B -> D -->
  <path d="M 480 175 Q 580 165 710 205" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowDep-tasks)"/>
  <text x="580" y="160" font-family="Arial" font-size="11" fill="#333" font-weight="bold">blocks</text>

  <!-- C -> D -->
  <path d="M 480 295 Q 580 280 710 255" stroke="#333" stroke-width="3" fill="none" marker-end="url(#arrowDep-tasks)"/>
  <text x="580" y="300" font-family="Arial" font-size="11" fill="#333" font-weight="bold">blocks</text>

  <!-- Legend -->
  <g id="legend">
    <rect x="20" y="20" width="140" height="30" rx="5" fill="white" stroke="#ddd" stroke-width="1"/>
    <circle cx="35" cy="35" r="6" fill="#FFD700" stroke="#FFA000" stroke-width="1"/>
    <text x="48" y="39" font-family="Arial" font-size="11" fill="#333">実行順序番号</text>
  </g>

  <!-- Parallelism indicator -->
  <path d="M 420 120 L 420 100" stroke="#1565C0" stroke-width="2" fill="none" marker-end="url(#arrowDep-tasks)"/>
  <path d="M 420 360 L 420 380" stroke="#1565C0" stroke-width="2" fill="none" marker-end="url(#arrowDep-tasks)"/>
  <text x="490" y="225" font-family="Arial" font-size="14" font-weight="bold" fill="#1565C0">‖</text>
  <text x="510" y="225" font-family="Arial" font-size="12" fill="#1565C0">並列</text>
</svg>
