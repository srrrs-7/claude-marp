<svg viewBox="0 0 880 380" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;font-family:sans-serif">
  <text x="440" y="28" text-anchor="middle" font-size="17" font-weight="bold" fill="#333">OpenClaw メモリ構造</text>

  <!-- Left: File structure -->
  <rect x="30" y="45" width="360" height="310" rx="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="210" y="70" text-anchor="middle" font-size="14" font-weight="bold" fill="#4a148c">ファイル構造（Markdown as Truth）</text>

  <rect x="50" y="85" width="320" height="32" rx="6" fill="#ce93d8"/>
  <text x="80" y="106" font-size="13" font-weight="bold" fill="white">📁 workspace/</text>

  <rect x="75" y="127" width="280" height="28" rx="6" fill="#ab47bc"/>
  <text x="105" y="146" font-size="12" fill="white">📝 MEMORY.md — メインメモリ</text>

  <rect x="75" y="163" width="280" height="28" rx="6" fill="#9c27b0"/>
  <text x="105" y="182" font-size="12" fill="white">📁 memory/ — サブメモリ</text>

  <rect x="100" y="199" width="240" height="24" rx="4" fill="#7b1fa2"/>
  <text x="125" y="217" font-size="11" fill="white">📄 projects.md</text>

  <rect x="100" y="231" width="240" height="24" rx="4" fill="#7b1fa2"/>
  <text x="125" y="249" font-size="11" fill="white">📄 people.md</text>

  <rect x="100" y="263" width="240" height="24" rx="4" fill="#7b1fa2"/>
  <text x="125" y="281" font-size="11" fill="white">📄 preferences.md</text>

  <rect x="100" y="295" width="240" height="24" rx="4" fill="#6a1b9a"/>
  <text x="125" y="313" font-size="11" fill="white">📄 skills.md</text>

  <text x="210" y="345" text-anchor="middle" font-size="11" fill="#666">〜400トークン単位でチャンク化</text>

  <!-- Center arrow -->
  <line x1="390" y1="200" x2="440" y2="200" stroke="#666" stroke-width="2"/>
  <polygon points="438,194 450,200 438,206" fill="#666"/>
  <text x="415" y="192" text-anchor="middle" font-size="10" fill="#888">インデックス化</text>

  <!-- Right: Search mechanism -->
  <rect x="450" y="45" width="400" height="310" rx="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
  <text x="650" y="70" text-anchor="middle" font-size="14" font-weight="bold" fill="#1b5e20">検索メカニズム</text>

  <!-- Vector Search -->
  <rect x="465" y="85" width="175" height="130" rx="8" fill="#c8e6c9" stroke="#2e7d32" stroke-width="1.5"/>
  <text x="552" y="107" text-anchor="middle" font-size="13" font-weight="bold" fill="#1b5e20">ベクター検索</text>
  <text x="552" y="128" text-anchor="middle" font-size="11" fill="#333">SQLite + 拡張</text>
  <text x="552" y="147" text-anchor="middle" font-size="11" fill="#333">セマンティック類似度</text>
  <text x="552" y="166" text-anchor="middle" font-size="11" fill="#333">〜700文字スニペット</text>
  <text x="552" y="185" text-anchor="middle" font-size="11" fill="#333">スコア付き返却</text>
  <text x="552" y="205" text-anchor="middle" font-size="10" fill="#666">80トークンオーバーラップ</text>

  <!-- FTS5 -->
  <rect x="655" y="85" width="175" height="130" rx="8" fill="#dcedc8" stroke="#558b2f" stroke-width="1.5"/>
  <text x="742" y="107" text-anchor="middle" font-size="13" font-weight="bold" fill="#33691e">FTS5 検索</text>
  <text x="742" y="128" text-anchor="middle" font-size="11" fill="#333">全文テキスト検索</text>
  <text x="742" y="147" text-anchor="middle" font-size="11" fill="#333">完全一致キーワード</text>
  <text x="742" y="166" text-anchor="middle" font-size="11" fill="#333">高速インデックス</text>
  <text x="742" y="185" text-anchor="middle" font-size="11" fill="#333">ファイルパス返却</text>
  <text x="742" y="205" text-anchor="middle" font-size="10" fill="#666">行番号付き</text>

  <!-- Hybrid result -->
  <line x1="552" y1="215" x2="552" y2="250" stroke="#2e7d32" stroke-width="1.5"/>
  <line x1="742" y1="215" x2="742" y2="250" stroke="#558b2f" stroke-width="1.5"/>
  <line x1="552" y1="250" x2="742" y2="250" stroke="#43a047" stroke-width="2"/>
  <line x1="647" y1="250" x2="647" y2="265" stroke="#43a047" stroke-width="2"/>
  <polygon points="641,263 647,275 653,263" fill="#43a047"/>

  <rect x="550" y="275" width="195" height="50" rx="8" fill="#1b5e20"/>
  <text x="647" y="298" text-anchor="middle" font-size="12" fill="white" font-weight="bold">ハイブリッド結果</text>
  <text x="647" y="316" text-anchor="middle" font-size="11" fill="#a5d6a7">関連度スコアでマージ</text>

  <!-- Embedding providers -->
  <text x="650" y="352" text-anchor="middle" font-size="11" fill="#555">Embedding: OpenAI / Gemini / Voyage / ローカル</text>
</svg>
