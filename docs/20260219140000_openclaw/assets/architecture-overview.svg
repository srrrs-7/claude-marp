<svg viewBox="0 0 960 520" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;font-family:sans-serif">
  <text x="480" y="28" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">OpenClaw 全体アーキテクチャ</text>

  <!-- User Interfaces (top) -->
  <rect x="30" y="50" width="880" height="80" rx="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
  <text x="480" y="72" text-anchor="middle" font-size="14" font-weight="bold" fill="#0d47a1">ユーザーインターフェース層</text>
  <rect x="60" y="82" width="110" height="32" rx="6" fill="#1976d2"/>
  <text x="115" y="103" text-anchor="middle" font-size="12" fill="white">📱 WhatsApp</text>
  <rect x="190" y="82" width="110" height="32" rx="6" fill="#1976d2"/>
  <text x="245" y="103" text-anchor="middle" font-size="12" fill="white">✈️ Telegram</text>
  <rect x="320" y="82" width="110" height="32" rx="6" fill="#1976d2"/>
  <text x="375" y="103" text-anchor="middle" font-size="12" fill="white">💬 Discord</text>
  <rect x="450" y="82" width="110" height="32" rx="6" fill="#1976d2"/>
  <text x="505" y="103" text-anchor="middle" font-size="12" fill="white">💼 Slack</text>
  <rect x="580" y="82" width="110" height="32" rx="6" fill="#1976d2"/>
  <text x="635" y="103" text-anchor="middle" font-size="12" fill="white">🌐 Web UI</text>
  <rect x="710" y="82" width="90" height="32" rx="6" fill="#1976d2"/>
  <text x="755" y="103" text-anchor="middle" font-size="12" fill="white">🖥️ CLI</text>
  <rect x="820" y="82" width="70" height="32" rx="6" fill="#1976d2"/>
  <text x="855" y="103" text-anchor="middle" font-size="12" fill="white">🍎 macOS</text>

  <!-- Arrow down -->
  <line x1="480" y1="130" x2="480" y2="155" stroke="#666" stroke-width="2"/>
  <polygon points="474,153 480,165 486,153" fill="#666"/>

  <!-- Gateway -->
  <rect x="280" y="165" width="400" height="65" rx="10" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="480" y="191" text-anchor="middle" font-size="15" font-weight="bold" fill="#e65100">Gateway（コントロールプレーン）</text>
  <text x="480" y="213" text-anchor="middle" font-size="12" fill="#666">認証 / ルーティング / セッション管理 / アクセス制御</text>

  <!-- Arrow down -->
  <line x1="480" y1="230" x2="480" y2="255" stroke="#666" stroke-width="2"/>
  <polygon points="474,253 480,265 486,253" fill="#666"/>

  <!-- Agent Runtime (center) -->
  <rect x="200" y="265" width="560" height="100" rx="10" fill="#e8f5e9" stroke="#388e3c" stroke-width="2.5"/>
  <text x="480" y="290" text-anchor="middle" font-size="15" font-weight="bold" fill="#1b5e20">Agent Runtime</text>
  <text x="480" y="312" text-anchor="middle" font-size="12" fill="#333">コンテキスト組み立て → LLM呼び出し → ツール実行 → 状態保存</text>
  <rect x="225" y="322" width="90" height="26" rx="5" fill="#66bb6a"/>
  <text x="270" y="340" text-anchor="middle" font-size="11" fill="white">Context Assembly</text>
  <rect x="330" y="322" width="90" height="26" rx="5" fill="#66bb6a"/>
  <text x="375" y="340" text-anchor="middle" font-size="11" fill="white">LLM Dispatch</text>
  <rect x="435" y="322" width="90" height="26" rx="5" fill="#66bb6a"/>
  <text x="480" y="340" text-anchor="middle" font-size="11" fill="white">Tool Executor</text>
  <rect x="540" y="322" width="90" height="26" rx="5" fill="#66bb6a"/>
  <text x="585" y="340" text-anchor="middle" font-size="11" fill="white">State Persist</text>
  <rect x="645" y="322" width="90" height="26" rx="5" fill="#43a047"/>
  <text x="690" y="340" text-anchor="middle" font-size="11" fill="white">Scheduler</text>

  <!-- Below: Memory, LLM, Tools -->
  <!-- Memory -->
  <rect x="30" y="405" width="240" height="100" rx="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1.5"/>
  <text x="150" y="428" text-anchor="middle" font-size="13" font-weight="bold" fill="#4a148c">メモリシステム</text>
  <text x="150" y="450" text-anchor="middle" font-size="11" fill="#555">Markdown + Vector DB</text>
  <text x="150" y="468" text-anchor="middle" font-size="11" fill="#555">SQLite + FTS5</text>
  <text x="150" y="486" text-anchor="middle" font-size="11" fill="#555">セマンティック検索</text>
  <line x1="200" y1="370" x2="150" y2="405" stroke="#7b1fa2" stroke-width="1.5" stroke-dasharray="5"/>

  <!-- LLM -->
  <rect x="360" y="405" width="240" height="100" rx="10" fill="#fff9c4" stroke="#f9a825" stroke-width="1.5"/>
  <text x="480" y="428" text-anchor="middle" font-size="13" font-weight="bold" fill="#e65100">LLMプロバイダー</text>
  <text x="480" y="450" text-anchor="middle" font-size="11" fill="#555">Claude (Anthropic)</text>
  <text x="480" y="468" text-anchor="middle" font-size="11" fill="#555">GPT-4o (OpenAI)</text>
  <text x="480" y="486" text-anchor="middle" font-size="11" fill="#555">DeepSeek / Gemini</text>
  <line x1="480" y1="370" x2="480" y2="405" stroke="#f9a825" stroke-width="1.5" stroke-dasharray="5"/>

  <!-- Tools/Skills -->
  <rect x="690" y="405" width="240" height="100" rx="10" fill="#fce4ec" stroke="#c62828" stroke-width="1.5"/>
  <text x="810" y="428" text-anchor="middle" font-size="13" font-weight="bold" fill="#b71c1c">ツール / スキル</text>
  <text x="810" y="450" text-anchor="middle" font-size="11" fill="#555">ブラウザ自動化</text>
  <text x="810" y="468" text-anchor="middle" font-size="11" fill="#555">ファイル操作</text>
  <text x="810" y="486" text-anchor="middle" font-size="11" fill="#555">外部API / ClawHub</text>
  <line x1="760" y1="370" x2="810" y2="405" stroke="#c62828" stroke-width="1.5" stroke-dasharray="5"/>
</svg>
