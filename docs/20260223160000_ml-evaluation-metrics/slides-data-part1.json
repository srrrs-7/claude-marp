{
	"slides": [
		{
			"title": "ML評価指標 完全ガイド",
			"layout": "center",
			"content": [
				"ML評価指標 完全ガイド",
				"分類 / 回帰 / NLP生成 / ランキング / クラスタリング",
				"MLエンジニア・データサイエンティスト 完全リファレンス"
			]
		},
		{
			"title": "目次",
			"layout": "default",
			"content": ["![w:800 center](assets/slide02-toc.svg)"]
		},
		{
			"title": "なぜ指標選びが重要か",
			"layout": "default",
			"content": ["![w:800 center](assets/slide03-why-metrics.svg)"]
		},
		{
			"title": "5カテゴリ 全体マップ",
			"layout": "default",
			"content": ["![w:700 center](assets/slide04-categories-map.svg)"]
		},
		{
			"title": "指標を選ぶための問いかけ",
			"layout": "default",
			"content": ["![w:820 center](assets/slide05-selection-framework.svg)"]
		},
		{
			"title": "Part 1: Classification Metrics",
			"layout": "section",
			"content": ["分類問題の評価指標", "Confusion Matrix を起点に体系的に整理"]
		},
		{
			"title": "混同行列（Confusion Matrix）の構造",
			"layout": "default",
			"content": ["![w:700 center](assets/slide07-confusion-matrix.svg)"]
		},
		{
			"title": "TP / FP / TN / FN の直感的理解",
			"layout": "default",
			"content": ["![w:800 center](assets/slide08-tp-fp-tn-fn.svg)"]
		},
		{
			"title": "Accuracy（正解率）",
			"layout": "default",
			"content": ["![w:800 center](assets/slide09-accuracy.svg)"]
		},
		{
			"title": "Precision（適合率）",
			"layout": "default",
			"content": ["![w:800 center](assets/slide10-precision.svg)"]
		},
		{
			"title": "Recall（再現率・感度）",
			"layout": "default",
			"content": ["![w:800 center](assets/slide11-recall.svg)"]
		},
		{
			"title": "Precision vs Recall トレードオフ",
			"layout": "default",
			"content": [
				"![w:700 center](assets/slide12-precision-recall-tradeoff.svg)"
			]
		},
		{
			"title": "F1-Score（調和平均）",
			"layout": "default",
			"content": ["![w:800 center](assets/slide13-f1-score.svg)"]
		},
		{
			"title": "Fβ-Score — β の使い分け",
			"layout": "default",
			"content": ["![w:800 center](assets/slide14-fbeta.svg)"]
		},
		{
			"title": "ROC曲線の概念",
			"layout": "default",
			"content": ["![w:580 center](assets/slide15-roc-curve.svg)"]
		},
		{
			"title": "AUC-ROC — 解釈と評価",
			"layout": "default",
			"content": ["![w:700 center](assets/slide16-auc-roc.svg)"]
		},
		{
			"title": "PR曲線 vs ROC曲線",
			"layout": "default",
			"content": ["![w:800 center](assets/slide17-pr-vs-roc.svg)"]
		},
		{
			"title": "マルチクラス — Micro / Macro / Weighted 平均",
			"layout": "default",
			"content": ["![w:800 center](assets/slide18-multiclass-avg.svg)"]
		},
		{
			"title": "不均衡データでの指標選び",
			"layout": "default",
			"content": ["![w:800 center](assets/slide19-imbalanced.svg)"]
		},
		{
			"title": "Cohen's Kappa と MCC",
			"layout": "default",
			"content": ["![w:800 center](assets/slide20-kappa-mcc.svg)"]
		},
		{
			"title": "分類指標 比較マトリクス",
			"layout": "default",
			"content": [
				"![w:800 center](assets/slide21-classification-comparison.svg)"
			]
		},
		{
			"title": "分類指標 選択フローチャート",
			"layout": "default",
			"content": [
				"![w:820 center](assets/slide22-classification-flowchart.svg)"
			]
		},
		{
			"title": "実装例（scikit-learn）",
			"layout": "default",
			"content": ["scikit-learn で主要な分類指標をまとめて計算"],
			"code": "from sklearn.metrics import (\n    accuracy_score, precision_score, recall_score,\n    f1_score, roc_auc_score, classification_report,\n    confusion_matrix, matthews_corrcoef\n)\n\n# 基本指標\nprint(f\"Accuracy:  {accuracy_score(y_true, y_pred):.4f}\")\nprint(f\"Precision: {precision_score(y_true, y_pred):.4f}\")\nprint(f\"Recall:    {recall_score(y_true, y_pred):.4f}\")\nprint(f\"F1-Score:  {f1_score(y_true, y_pred):.4f}\")\nprint(f\"AUC-ROC:   {roc_auc_score(y_true, y_prob):.4f}\")\nprint(f\"MCC:       {matthews_corrcoef(y_true, y_pred):.4f}\")\n\n# 詳細レポート\nprint(classification_report(y_true, y_pred,\n      target_names=[\"Negative\", \"Positive\"]))\n\n# 混同行列\ncm = confusion_matrix(y_true, y_pred)\nprint(f\"TN={cm[0,0]}, FP={cm[0,1]}, FN={cm[1,0]}, TP={cm[1,1]}\")",
			"codeLanguage": "python"
		},
		{
			"title": "よくある落とし穴",
			"layout": "default",
			"content": [
				"Accuracy のみで評価（不均衡データで 99% でも使えないモデルの可能性）",
				"テストセットで閾値を最適化 → 過学習（バリデーションセットで行うこと）",
				"クラス不均衡を無視したマクロ平均（小クラスの性能が過大評価される）",
				"ROC曲線とPR曲線の混同（不均衡データは PR 曲線が正直）",
				"単一指標への過信（Precision・Recall・F1 を合わせて見ること）",
				"評価指標とビジネス目標のミスアライン（FNコストとFPコストは異なる）"
			]
		},
		{
			"title": "Part 1 まとめ",
			"layout": "default",
			"content": ["![w:800 center](assets/slide25-classification-summary.svg)"]
		},
		{
			"title": "（コラム）閾値調整と指標の変化",
			"layout": "default",
			"content": ["![w:800 center](assets/slide26-threshold-adjustment.svg)"]
		}
	]
}
