<svg viewBox="0 0 800 440" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <text x="400" y="22" text-anchor="middle" font-size="14" font-weight="bold" fill="#f8f8f8">全評価指標マップ — タスク × 指標 一覧</text>
  <!-- Column headers -->
  <rect x="20" y="30" width="760" height="26" rx="4" fill="rgba(255,255,255,0.08)"/>
  <text x="100" y="47" text-anchor="middle" font-size="10" font-weight="bold" fill="#f8f8f8">タスク</text>
  <text x="240" y="47" text-anchor="middle" font-size="10" font-weight="bold" fill="#f8f8f8">主要指標</text>
  <text x="460" y="47" text-anchor="middle" font-size="10" font-weight="bold" fill="#f8f8f8">補助指標</text>
  <text x="660" y="47" text-anchor="middle" font-size="10" font-weight="bold" fill="#f8f8f8">特性</text>

  <!-- Classification row -->
  <rect x="20" y="56" width="760" height="54" rx="0" fill="rgba(96,165,250,0.06)"/>
  <rect x="20" y="56" width="3" height="54" rx="1" fill="#60a5fa"/>
  <text x="100" y="78" text-anchor="middle" font-size="11" font-weight="bold" fill="#60a5fa">分類</text>
  <text x="100" y="96" text-anchor="middle" font-size="10" fill="#94a3b8">Classification</text>
  <!-- Primary -->
  <rect x="140" y="62" width="60" height="20" rx="4" fill="rgba(96,165,250,0.2)"/>
  <text x="170" y="76" text-anchor="middle" font-size="10" fill="#60a5fa">Accuracy</text>
  <rect x="206" y="62" width="64" height="20" rx="4" fill="rgba(96,165,250,0.2)"/>
  <text x="238" y="76" text-anchor="middle" font-size="10" fill="#60a5fa">Precision</text>
  <rect x="276" y="62" width="48" height="20" rx="4" fill="rgba(96,165,250,0.2)"/>
  <text x="300" y="76" text-anchor="middle" font-size="10" fill="#60a5fa">Recall</text>
  <rect x="140" y="86" width="32" height="20" rx="4" fill="rgba(244,114,182,0.25)"/>
  <text x="156" y="100" text-anchor="middle" font-size="10" fill="#f472b6">F1</text>
  <rect x="178" y="86" width="68" height="20" rx="4" fill="rgba(244,114,182,0.25)"/>
  <text x="212" y="100" text-anchor="middle" font-size="10" fill="#f472b6">AUC-ROC</text>
  <!-- Secondary -->
  <text x="350" y="74" font-size="10" fill="#94a3b8">F-beta / Kappa / MCC /</text>
  <text x="350" y="90" font-size="10" fill="#94a3b8">PR-AUC / LogLoss</text>
  <text x="350" y="104" font-size="10" fill="#94a3b8">混同行列</text>
  <!-- Feature -->
  <text x="570" y="70" font-size="10" fill="#f8f8f8">不均衡データ → F1/AUC</text>
  <text x="570" y="84" font-size="10" fill="#f8f8f8">多クラス → Macro/Micro</text>
  <text x="570" y="98" font-size="10" fill="#f8f8f8">閾値調整で精度制御</text>

  <!-- Regression row -->
  <rect x="20" y="110" width="760" height="54" rx="0" fill="rgba(52,211,153,0.06)"/>
  <rect x="20" y="110" width="3" height="54" rx="1" fill="#34d399"/>
  <text x="100" y="132" text-anchor="middle" font-size="11" font-weight="bold" fill="#34d399">回帰</text>
  <text x="100" y="150" text-anchor="middle" font-size="10" fill="#94a3b8">Regression</text>
  <rect x="140" y="116" width="40" height="20" rx="4" fill="rgba(52,211,153,0.2)"/>
  <text x="160" y="130" text-anchor="middle" font-size="10" fill="#34d399">MAE</text>
  <rect x="186" y="116" width="44" height="20" rx="4" fill="rgba(52,211,153,0.2)"/>
  <text x="208" y="130" text-anchor="middle" font-size="10" fill="#34d399">RMSE</text>
  <rect x="236" y="116" width="24" height="20" rx="4" fill="rgba(52,211,153,0.2)"/>
  <text x="248" y="130" text-anchor="middle" font-size="10" fill="#34d399">R²</text>
  <rect x="140" y="140" width="44" height="20" rx="4" fill="rgba(52,211,153,0.15)"/>
  <text x="162" y="154" text-anchor="middle" font-size="10" fill="#34d399">MAPE</text>
  <text x="350" y="128" font-size="10" fill="#94a3b8">MSE / Adj-R² / Huber</text>
  <text x="350" y="144" font-size="10" fill="#94a3b8">MedAE / MaxError</text>
  <text x="570" y="124" font-size="10" fill="#f8f8f8">外れ値多い → MAE/Huber</text>
  <text x="570" y="138" font-size="10" fill="#f8f8f8">%誤差 → MAPE</text>
  <text x="570" y="152" font-size="10" fill="#f8f8f8">説明力 → R²</text>

  <!-- NLP row -->
  <rect x="20" y="164" width="760" height="54" rx="0" fill="rgba(167,139,250,0.06)"/>
  <rect x="20" y="164" width="3" height="54" rx="1" fill="#a78bfa"/>
  <text x="100" y="186" text-anchor="middle" font-size="11" font-weight="bold" fill="#a78bfa">NLP生成</text>
  <text x="100" y="204" text-anchor="middle" font-size="10" fill="#94a3b8">Generation</text>
  <rect x="140" y="170" width="44" height="20" rx="4" fill="rgba(167,139,250,0.2)"/>
  <text x="162" y="184" text-anchor="middle" font-size="10" fill="#a78bfa">BLEU</text>
  <rect x="190" y="170" width="52" height="20" rx="4" fill="rgba(167,139,250,0.2)"/>
  <text x="216" y="184" text-anchor="middle" font-size="10" fill="#a78bfa">ROUGE</text>
  <rect x="248" y="170" width="76" height="20" rx="4" fill="rgba(167,139,250,0.2)"/>
  <text x="286" y="184" text-anchor="middle" font-size="10" fill="#a78bfa">BERTScore</text>
  <rect x="140" y="194" width="68" height="20" rx="4" fill="rgba(167,139,250,0.15)"/>
  <text x="174" y="208" text-anchor="middle" font-size="10" fill="#a78bfa">Perplexity</text>
  <text x="350" y="182" font-size="10" fill="#94a3b8">METEOR / ChrF /</text>
  <text x="350" y="196" font-size="10" fill="#94a3b8">LLM-Judge / COMET</text>
  <text x="570" y="178" font-size="10" fill="#f8f8f8">翻訳 → BLEU/ChrF</text>
  <text x="570" y="192" font-size="10" fill="#f8f8f8">要約 → ROUGE-L</text>
  <text x="570" y="206" font-size="10" fill="#f8f8f8">対話 → BERTScore</text>

  <!-- Ranking row -->
  <rect x="20" y="218" width="760" height="54" rx="0" fill="rgba(251,146,60,0.06)"/>
  <rect x="20" y="218" width="3" height="54" rx="1" fill="#fb923c"/>
  <text x="100" y="240" text-anchor="middle" font-size="11" font-weight="bold" fill="#fb923c">推薦/検索</text>
  <text x="100" y="258" text-anchor="middle" font-size="10" fill="#94a3b8">Ranking</text>
  <rect x="140" y="224" width="48" height="20" rx="4" fill="rgba(251,146,60,0.2)"/>
  <text x="164" y="238" text-anchor="middle" font-size="10" fill="#fb923c">NDCG</text>
  <rect x="194" y="224" width="40" height="20" rx="4" fill="rgba(251,146,60,0.2)"/>
  <text x="214" y="238" text-anchor="middle" font-size="10" fill="#fb923c">MAP</text>
  <rect x="240" y="224" width="36" height="20" rx="4" fill="rgba(251,146,60,0.2)"/>
  <text x="258" y="238" text-anchor="middle" font-size="10" fill="#fb923c">MRR</text>
  <rect x="140" y="248" width="60" height="20" rx="4" fill="rgba(251,146,60,0.15)"/>
  <text x="170" y="262" text-anchor="middle" font-size="10" fill="#fb923c">P/R @K</text>
  <text x="350" y="236" font-size="10" fill="#94a3b8">Hit Rate / Coverage</text>
  <text x="350" y="250" font-size="10" fill="#94a3b8">Diversity / CTR</text>
  <text x="570" y="232" font-size="10" fill="#f8f8f8">関連度順序 → NDCG</text>
  <text x="570" y="246" font-size="10" fill="#f8f8f8">初回ヒット → MRR</text>
  <text x="570" y="260" font-size="10" fill="#f8f8f8">精度重視 → MAP</text>

  <!-- Clustering row -->
  <rect x="20" y="272" width="760" height="54" rx="0" fill="rgba(251,191,36,0.06)"/>
  <rect x="20" y="272" width="3" height="54" rx="1" fill="#fbbf24"/>
  <text x="100" y="294" text-anchor="middle" font-size="11" font-weight="bold" fill="#fbbf24">クラスタリング</text>
  <text x="100" y="312" text-anchor="middle" font-size="10" fill="#94a3b8">Clustering</text>
  <rect x="140" y="278" width="68" height="20" rx="4" fill="rgba(251,191,36,0.2)"/>
  <text x="174" y="292" text-anchor="middle" font-size="10" fill="#fbbf24">Silhouette</text>
  <rect x="214" y="278" width="32" height="20" rx="4" fill="rgba(251,191,36,0.2)"/>
  <text x="230" y="292" text-anchor="middle" font-size="10" fill="#fbbf24">ARI</text>
  <rect x="252" y="278" width="72" height="20" rx="4" fill="rgba(251,191,36,0.15)"/>
  <text x="288" y="292" text-anchor="middle" font-size="10" fill="#fbbf24">CH (k選択)</text>
  <rect x="140" y="302" width="48" height="20" rx="4" fill="rgba(251,191,36,0.15)"/>
  <text x="164" y="316" text-anchor="middle" font-size="10" fill="#fbbf24">Inertia</text>
  <text x="350" y="290" font-size="10" fill="#94a3b8">DBI / AMI / NMI</text>
  <text x="350" y="304" font-size="10" fill="#94a3b8">Elbow法</text>
  <text x="570" y="286" font-size="10" fill="#f8f8f8">ラベルなし → Sil/CH</text>
  <text x="570" y="300" font-size="10" fill="#f8f8f8">ラベルあり → ARI/AMI</text>
  <text x="570" y="314" font-size="10" fill="#f8f8f8">k探索 → Inertia</text>

  <!-- Legend box -->
  <rect x="20" y="340" width="760" height="88" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1"/>
  <text x="400" y="360" text-anchor="middle" font-size="12" font-weight="bold" fill="#fbbf24">凡例 — 色付きバッジ = よく使う指標の組み合わせ</text>
  <rect x="40" y="372" width="68" height="18" rx="4" fill="rgba(96,165,250,0.2)"/>
  <text x="74" y="385" text-anchor="middle" font-size="10" fill="#60a5fa">1次指標</text>
  <rect x="120" y="372" width="68" height="18" rx="4" fill="rgba(244,114,182,0.25)"/>
  <text x="154" y="385" text-anchor="middle" font-size="10" fill="#f472b6">状況依存1次</text>
  <rect x="200" y="372" width="68" height="18" rx="4" fill="rgba(96,165,250,0.15)"/>
  <text x="234" y="385" text-anchor="middle" font-size="10" fill="#60a5fa">補助指標</text>
  <text x="40" y="412" font-size="10" fill="#94a3b8">* ラベルあり/なし: クラスタリングでは正解ラベルの有無で使う指標が大きく変わる</text>
  <text x="40" y="426" font-size="10" fill="#94a3b8">* スケール依存: RMSE/MAEはスケール依存。MAPE/R²はスケール非依存で比較に有利</text>
</svg>
