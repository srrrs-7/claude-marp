<svg viewBox="0 0 800 360" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <text x="400" y="24" text-anchor="middle" font-size="15" font-weight="bold" fill="#f8f8f8">Calinski-Harabasz Index (CH)</text>
  <!-- Formula -->
  <rect x="20" y="36" width="760" height="60" rx="10" fill="rgba(52,211,153,0.1)" stroke="#34d399" stroke-width="2"/>
  <text x="400" y="58" text-anchor="middle" font-size="12" font-weight="bold" fill="#34d399">CH = [SS_B / (k−1)] / [SS_W / (n−k)]</text>
  <text x="400" y="78" text-anchor="middle" font-size="11" fill="#f8f8f8">SS_B = クラスタ間分散  |  SS_W = クラスタ内分散  |  高いほど良い</text>
  <!-- Two components visual -->
  <rect x="20" y="108" width="370" height="200" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1.5"/>
  <text x="205" y="130" text-anchor="middle" font-size="11" font-weight="bold" fill="#fbbf24">2つの分散の比率</text>
  <!-- SS_B illustration -->
  <text x="60" y="156" font-size="11" fill="#34d399">SS_B (クラスタ間分散):</text>
  <text x="60" y="174" font-size="10" fill="#f8f8f8">各クラスタ重心 ↔ 全体重心 の距離²</text>
  <!-- Dots -->
  <circle cx="130" cy="200" r="4" fill="#60a5fa"/>
  <circle cx="280" cy="200" r="4" fill="#34d399"/>
  <circle cx="205" cy="200" r="3" fill="#fbbf24" stroke="#f8f8f8" stroke-width="1"/>
  <line x1="130" y1="200" x2="205" y2="200" stroke="#60a5fa" stroke-width="2"/>
  <line x1="280" y1="200" x2="205" y2="200" stroke="#34d399" stroke-width="2"/>
  <text x="167" y="195" text-anchor="middle" font-size="9" fill="#60a5fa">d₁</text>
  <text x="242" y="195" text-anchor="middle" font-size="9" fill="#34d399">d₂</text>
  <text x="205" y="224" text-anchor="middle" font-size="9" fill="#fbbf24">全体重心</text>
  <!-- SS_W illustration -->
  <text x="60" y="252" font-size="11" fill="#f472b6">SS_W (クラスタ内分散):</text>
  <text x="60" y="270" font-size="10" fill="#f8f8f8">各点 ↔ 自クラスタ重心 の距離²の和</text>
  <text x="205" y="298" text-anchor="middle" font-size="10" fill="#94a3b8">CH = (SS_B大 / SS_W小) → 大きい値</text>
  <!-- Properties -->
  <rect x="410" y="108" width="370" height="200" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1.5"/>
  <text x="595" y="130" text-anchor="middle" font-size="12" font-weight="bold" fill="#fbbf24">CH の特性</text>
  <text x="426" y="156" font-size="11" fill="#f8f8f8">値の範囲: 0〜∞（高いほど良い）</text>
  <text x="426" y="176" font-size="11" fill="#f8f8f8">計算量: O(k²n) → 高速</text>
  <text x="426" y="200" font-size="11" fill="#34d399">強み:</text>
  <text x="426" y="218" font-size="10" fill="#f8f8f8">✓ k増加でも単調増加しない（k選択に使える）</text>
  <text x="426" y="236" font-size="10" fill="#f8f8f8">✓ Silhouetteよりはるかに高速</text>
  <text x="426" y="254" font-size="10" fill="#f8f8f8">✓ 凸クラスタに最も有効</text>
  <text x="426" y="278" font-size="11" fill="#f472b6">注意:</text>
  <text x="426" y="296" font-size="10" fill="#f8f8f8">✗ 絶対値に意味なし（比較に使う）</text>
  <!-- Comparison -->
  <rect x="20" y="320" width="760" height="32" rx="8" fill="rgba(255,255,255,0.05)"/>
  <text x="200" y="334" text-anchor="middle" font-size="10" fill="#fbbf24">Silhouette:</text>
  <text x="200" y="346" text-anchor="middle" font-size="10" fill="#f8f8f8">O(n²) 遅・意味明確</text>
  <text x="400" y="334" text-anchor="middle" font-size="10" fill="#a78bfa">DBI:</text>
  <text x="400" y="346" text-anchor="middle" font-size="10" fill="#f8f8f8">O(k²n) 速・直感的</text>
  <text x="600" y="334" text-anchor="middle" font-size="10" fill="#34d399">CH:</text>
  <text x="600" y="346" text-anchor="middle" font-size="10" fill="#f8f8f8">O(k²n) 最速・k選択向き</text>
</svg>
