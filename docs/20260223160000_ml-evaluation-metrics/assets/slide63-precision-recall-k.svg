<svg viewBox="0 0 800 420" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <text x="400" y="24" text-anchor="middle" font-size="15" font-weight="bold" fill="#f8f8f8">Precision@K と Recall@K</text>
  <!-- Formulas -->
  <rect x="20" y="36" width="370" height="52" rx="10" fill="rgba(96,165,250,0.1)" stroke="#60a5fa" stroke-width="2"/>
  <text x="205" y="56" text-anchor="middle" font-size="12" font-weight="bold" fill="#60a5fa">Precision@K = |関連∩Top-K| / K</text>
  <text x="205" y="78" text-anchor="middle" font-size="11" fill="#f8f8f8">上位K件中の関連アイテム率</text>
  <rect x="410" y="36" width="370" height="52" rx="10" fill="rgba(52,211,153,0.1)" stroke="#34d399" stroke-width="2"/>
  <text x="595" y="56" text-anchor="middle" font-size="12" font-weight="bold" fill="#34d399">Recall@K = |関連∩Top-K| / |全関連|</text>
  <text x="595" y="78" text-anchor="middle" font-size="11" fill="#f8f8f8">全関連中、K件に含まれた割合</text>
  <!-- Example: ranking list -->
  <text x="400" y="112" text-anchor="middle" font-size="11" font-weight="bold" fill="#94a3b8">例: 全関連アイテム数 = 5、K = 4</text>
  <!-- Rank list -->
  <text x="36" y="136" font-size="11" font-weight="bold" fill="#f8f8f8">順位</text>
  <text x="100" y="136" font-size="11" font-weight="bold" fill="#f8f8f8">アイテム</text>
  <text x="280" y="136" font-size="11" font-weight="bold" fill="#f8f8f8">関連?</text>
  <text x="400" y="136" font-size="11" font-weight="bold" fill="#60a5fa">P@K</text>
  <text x="530" y="136" font-size="11" font-weight="bold" fill="#34d399">R@K</text>
  <line x1="20" y1="144" x2="780" y2="144" stroke="#475569" stroke-width="1"/>
  <!-- Rank 1 -->
  <rect x="20" y="150" width="760" height="28" rx="0" fill="rgba(52,211,153,0.1)"/>
  <text x="52" y="169" text-anchor="middle" font-size="11" fill="#f8f8f8">1</text>
  <text x="180" y="169" text-anchor="middle" font-size="11" fill="#f8f8f8">item_A</text>
  <text x="280" y="169" text-anchor="middle" font-size="12" fill="#34d399">✓ 関連</text>
  <text x="400" y="169" text-anchor="middle" font-size="11" fill="#60a5fa">1/1 = 1.00</text>
  <text x="530" y="169" text-anchor="middle" font-size="11" fill="#34d399">1/5 = 0.20</text>
  <!-- Rank 2 -->
  <rect x="20" y="178" width="760" height="28" rx="0" fill="rgba(255,255,255,0.03)"/>
  <text x="52" y="197" text-anchor="middle" font-size="11" fill="#f8f8f8">2</text>
  <text x="180" y="197" text-anchor="middle" font-size="11" fill="#f8f8f8">item_B</text>
  <text x="280" y="197" text-anchor="middle" font-size="11" fill="#f472b6">✗ 非関連</text>
  <text x="400" y="197" text-anchor="middle" font-size="11" fill="#60a5fa">1/2 = 0.50</text>
  <text x="530" y="197" text-anchor="middle" font-size="11" fill="#34d399">1/5 = 0.20</text>
  <!-- Rank 3 -->
  <rect x="20" y="206" width="760" height="28" rx="0" fill="rgba(52,211,153,0.1)"/>
  <text x="52" y="225" text-anchor="middle" font-size="11" fill="#f8f8f8">3</text>
  <text x="180" y="225" text-anchor="middle" font-size="11" fill="#f8f8f8">item_C</text>
  <text x="280" y="225" text-anchor="middle" font-size="12" fill="#34d399">✓ 関連</text>
  <text x="400" y="225" text-anchor="middle" font-size="11" fill="#60a5fa">2/3 = 0.67</text>
  <text x="530" y="225" text-anchor="middle" font-size="11" fill="#34d399">2/5 = 0.40</text>
  <!-- Rank 4 -->
  <rect x="20" y="234" width="760" height="28" rx="0" fill="rgba(255,255,255,0.03)"/>
  <text x="52" y="253" text-anchor="middle" font-size="11" fill="#f8f8f8">4</text>
  <text x="180" y="253" text-anchor="middle" font-size="11" fill="#f8f8f8">item_D</text>
  <text x="280" y="253" text-anchor="middle" font-size="11" fill="#f472b6">✗ 非関連</text>
  <text x="400" y="253" text-anchor="middle" font-size="11" fill="#60a5fa">2/4 = 0.50 ←</text>
  <text x="530" y="253" text-anchor="middle" font-size="11" fill="#34d399">2/5 = 0.40 ←</text>
  <!-- Results box -->
  <rect x="600" y="148" width="180" height="120" rx="8" fill="rgba(255,255,255,0.05)" stroke="#475569" stroke-width="1.5"/>
  <text x="690" y="168" text-anchor="middle" font-size="11" font-weight="bold" fill="#fbbf24">K=4 のスコア</text>
  <text x="690" y="192" text-anchor="middle" font-size="13" font-weight="bold" fill="#60a5fa">P@4 = 0.50</text>
  <text x="690" y="218" text-anchor="middle" font-size="13" font-weight="bold" fill="#34d399">R@4 = 0.40</text>
  <text x="690" y="244" text-anchor="middle" font-size="10" fill="#94a3b8">（5件中2件をK=4内に回収）</text>
  <!-- Tradeoff chart -->
  <rect x="20" y="282" width="760" height="126" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1.5"/>
  <text x="400" y="302" text-anchor="middle" font-size="12" font-weight="bold" fill="#f8f8f8">P@K と R@K のトレードオフ</text>
  <!-- Chart -->
  <line x1="60" y1="394" x2="380" y2="394" stroke="#475569" stroke-width="1.5"/>
  <line x1="60" y1="320" x2="60" y2="394" stroke="#475569" stroke-width="1.5"/>
  <text x="220" y="410" text-anchor="middle" font-size="10" fill="#94a3b8">K の値</text>
  <text x="36" y="320" font-size="9" fill="#60a5fa">P@K</text>
  <!-- P@K curve (decreasing) -->
  <polyline points="60,332 110,344 160,356 210,360 260,365 310,368 360,370" fill="none" stroke="#60a5fa" stroke-width="2"/>
  <!-- R@K curve (increasing) -->
  <polyline points="60,392 110,380 160,366 210,354 260,346 310,340 360,334" fill="none" stroke="#34d399" stroke-width="2"/>
  <text x="375" y="320" font-size="9" fill="#34d399">R@K</text>
  <!-- Labels -->
  <text x="420" y="330" font-size="11" fill="#60a5fa">P@K: K増加で下がりやすい</text>
  <text x="420" y="354" font-size="11" fill="#34d399">R@K: K増加で上がりやすい</text>
  <text x="420" y="378" font-size="11" fill="#fbbf24">K が小さい → 精度重視</text>
  <text x="420" y="398" font-size="11" fill="#fbbf24">K が大きい → 網羅性重視</text>
</svg>
