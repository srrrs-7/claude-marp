<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <!-- formula -->
  <rect x="50" y="16" width="700" height="56" rx="10" fill="rgba(52,211,153,0.15)" stroke="#34d399" stroke-width="1.5"/>
  <text x="400" y="50" text-anchor="middle" font-size="19" font-weight="bold" fill="#34d399">F1 = 2·P·R / (P + R) = 2TP / (2TP + FP + FN)</text>
  <!-- subtitle -->
  <text x="400" y="92" text-anchor="middle" font-size="13" fill="#94a3b8">Precision と Recall の調和平均（Harmonic Mean）— 片方が低いと大きくペナルティ</text>
  <!-- Two example columns -->
  <!-- Example 1: balanced -->
  <rect x="60" y="110" width="320" height="200" rx="10" fill="rgba(52,211,153,0.1)" stroke="#34d399" stroke-width="1.5"/>
  <text x="220" y="136" text-anchor="middle" font-size="13" font-weight="bold" fill="#34d399">バランス型</text>
  <text x="220" y="154" text-anchor="middle" font-size="12" fill="#94a3b8">P = 0.80,  R = 0.80</text>
  <!-- bars -->
  <rect x="90" y="165" width="180" height="18" rx="4" fill="rgba(167,139,250,0.4)" stroke="#a78bfa" stroke-width="1"/>
  <text x="278" y="178" font-size="11" fill="#a78bfa"> P=0.80</text>
  <rect x="90" y="189" width="180" height="18" rx="4" fill="rgba(96,165,250,0.4)" stroke="#60a5fa" stroke-width="1"/>
  <text x="278" y="202" font-size="11" fill="#60a5fa"> R=0.80</text>
  <text x="220" y="232" text-anchor="middle" font-size="12" fill="#94a3b8">算術平均 = (0.80+0.80)/2 = 0.800</text>
  <text x="220" y="252" text-anchor="middle" font-size="14" font-weight="bold" fill="#34d399">F1 = 0.800</text>
  <text x="220" y="298" text-anchor="middle" font-size="11" fill="#94a3b8">差がないと一致</text>
  <!-- Example 2: imbalanced -->
  <rect x="420" y="110" width="320" height="200" rx="10" fill="rgba(251,146,60,0.1)" stroke="#fb923c" stroke-width="1.5"/>
  <text x="580" y="136" text-anchor="middle" font-size="13" font-weight="bold" fill="#fb923c">アンバランス型</text>
  <text x="580" y="154" text-anchor="middle" font-size="12" fill="#94a3b8">P = 1.00,  R = 0.10</text>
  <!-- bars -->
  <rect x="450" y="165" width="225" height="18" rx="4" fill="rgba(167,139,250,0.4)" stroke="#a78bfa" stroke-width="1"/>
  <text x="683" y="178" font-size="11" fill="#a78bfa"> P=1.00</text>
  <rect x="450" y="189" width="22" height="18" rx="4" fill="rgba(96,165,250,0.4)" stroke="#60a5fa" stroke-width="1"/>
  <text x="480" y="202" font-size="11" fill="#60a5fa">  R=0.10</text>
  <text x="580" y="232" text-anchor="middle" font-size="12" fill="#94a3b8">算術平均 = (1.00+0.10)/2 = 0.550</text>
  <text x="580" y="252" text-anchor="middle" font-size="14" font-weight="bold" fill="#fb923c">F1 = 0.182</text>
  <text x="580" y="298" text-anchor="middle" font-size="11" fill="#fb923c">F1 ≪ 算術平均（低い方を重視）</text>
  <!-- arrow between -->
  <text x="400" y="215" text-anchor="middle" font-size="12" fill="#94a3b8">vs</text>
  <!-- Bottom summary -->
  <rect x="60" y="326" width="680" height="60" rx="10" fill="rgba(52,211,153,0.12)" stroke="#34d399" stroke-width="1.5"/>
  <text x="400" y="350" text-anchor="middle" font-size="13" font-weight="bold" fill="#34d399">調和平均の性質: 小さい方の値に引きずられる</text>
  <text x="400" y="372" text-anchor="middle" font-size="12" fill="#f8f8f8">→ PとR両方が高くないとF1は高くならない。不均衡データや非対称コストに有効</text>
</svg>
