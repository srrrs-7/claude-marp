<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <text x="400" y="24" text-anchor="middle" font-size="15" font-weight="bold" fill="#f8f8f8">LLM-as-Judge — GPT による自動評価</text>
  <!-- Architecture -->
  <rect x="20" y="38" width="200" height="54" rx="8" fill="rgba(96,165,250,0.15)" stroke="#60a5fa" stroke-width="1.5"/>
  <text x="120" y="62" text-anchor="middle" font-size="11" font-weight="bold" fill="#60a5fa">入力</text>
  <text x="120" y="80" text-anchor="middle" font-size="10" fill="#f8f8f8">質問 + 生成テキスト</text>
  <rect x="20" y="104" width="200" height="54" rx="8" fill="rgba(52,211,153,0.15)" stroke="#34d399" stroke-width="1.5"/>
  <text x="120" y="128" text-anchor="middle" font-size="11" font-weight="bold" fill="#34d399">参照（任意）</text>
  <text x="120" y="146" text-anchor="middle" font-size="10" fill="#f8f8f8">参照テキスト（あれば）</text>
  <!-- Arrow -->
  <line x1="220" y1="90" x2="260" y2="110" stroke="#94a3b8" stroke-width="1.5"/>
  <polygon points="257,107 264,116 256,118" fill="#94a3b8"/>
  <line x1="220" y1="140" x2="260" y2="125" stroke="#94a3b8" stroke-width="1.5"/>
  <polygon points="256,122 264,116 257,125" fill="#94a3b8"/>
  <!-- LLM Judge box -->
  <rect x="260" y="80" width="280" height="80" rx="12" fill="rgba(251,191,36,0.15)" stroke="#fbbf24" stroke-width="2"/>
  <text x="400" y="108" text-anchor="middle" font-size="14" font-weight="bold" fill="#fbbf24">LLM Judge</text>
  <text x="400" y="128" text-anchor="middle" font-size="11" fill="#f8f8f8">GPT-4 / Claude / Gemini</text>
  <text x="400" y="148" text-anchor="middle" font-size="10" fill="#94a3b8">評価プロンプトで採点</text>
  <!-- Arrow out -->
  <line x1="540" y1="120" x2="580" y2="120" stroke="#94a3b8" stroke-width="1.5"/>
  <polygon points="578,116 588,120 578,124" fill="#94a3b8"/>
  <!-- Output -->
  <rect x="588" y="90" width="190" height="60" rx="8" fill="rgba(167,139,250,0.15)" stroke="#a78bfa" stroke-width="1.5"/>
  <text x="683" y="114" text-anchor="middle" font-size="11" font-weight="bold" fill="#a78bfa">スコア / 判定</text>
  <text x="683" y="134" text-anchor="middle" font-size="10" fill="#f8f8f8">1〜10点 / A/B比較</text>
  <!-- Types -->
  <rect x="20" y="180" width="370" height="130" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1.5"/>
  <text x="205" y="200" text-anchor="middle" font-size="12" font-weight="bold" fill="#fbbf24">主な評価形式</text>
  <text x="36" y="222" font-size="11" fill="#f8f8f8">Point-wise: 1テキストに1〜10スコア</text>
  <text x="36" y="244" font-size="11" fill="#f8f8f8">Pairwise: A vs B どちらが良い？</text>
  <text x="36" y="266" font-size="11" fill="#f8f8f8">Reference-guided: 参照テキストとの比較評価</text>
  <text x="36" y="288" font-size="11" fill="#f8f8f8">Criteria-based: 正確性・流暢さ・安全性など</text>
  <text x="36" y="308" font-size="10" fill="#94a3b8">例: MT-Bench / Alpaca Eval / Chatbot Arena</text>
  <!-- Risks -->
  <rect x="410" y="180" width="370" height="130" rx="10" fill="rgba(244,114,182,0.08)" stroke="#f472b6" stroke-width="1.5"/>
  <text x="595" y="200" text-anchor="middle" font-size="12" font-weight="bold" fill="#f472b6">既知のバイアス・課題</text>
  <text x="426" y="222" font-size="11" fill="#f8f8f8">位置バイアス: 先に提示したAを好む傾向</text>
  <text x="426" y="244" font-size="11" fill="#f8f8f8">冗長性バイアス: 長い回答を好む傾向</text>
  <text x="426" y="266" font-size="11" fill="#f8f8f8">自己評価バイアス: 自社モデルに有利</text>
  <text x="426" y="288" font-size="11" fill="#f8f8f8">コスト: API費用・レイテンシが高い</text>
  <text x="426" y="308" font-size="10" fill="#94a3b8">対策: Few-shot・位置シャッフル・複数LLMアンサンブル</text>
  <!-- Comparison -->
  <rect x="20" y="322" width="760" height="68" rx="10" fill="rgba(52,211,153,0.08)" stroke="#34d399" stroke-width="1.5"/>
  <text x="400" y="342" text-anchor="middle" font-size="12" font-weight="bold" fill="#34d399">なぜ LLM-as-Judge が注目されるか</text>
  <text x="36" y="364" font-size="11" fill="#f8f8f8">人間評価との相関: GPT-4 Judge ≈ 人間の評価者（相関 r &gt; 0.9）on MT-Bench</text>
  <text x="36" y="384" font-size="11" fill="#f8f8f8">スケール: 数千テストケースを自動で評価。BLEU/ROUGEでは難しい「有用性・安全性」も評価可能</text>
</svg>
