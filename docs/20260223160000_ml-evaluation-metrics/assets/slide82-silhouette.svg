<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <text x="400" y="24" text-anchor="middle" font-size="15" font-weight="bold" fill="#f8f8f8">Silhouette 係数 — 概念</text>
  <!-- Formula -->
  <rect x="20" y="36" width="760" height="56" rx="10" fill="rgba(96,165,250,0.1)" stroke="#60a5fa" stroke-width="2"/>
  <text x="400" y="58" text-anchor="middle" font-size="12" font-weight="bold" fill="#60a5fa">s(i) = (b(i) − a(i)) / max(a(i), b(i))</text>
  <text x="200" y="80" text-anchor="middle" font-size="11" fill="#f8f8f8">a(i) = 同クラスタ内の平均距離</text>
  <text x="600" y="80" text-anchor="middle" font-size="11" fill="#f8f8f8">b(i) = 最近傍クラスタへの平均距離</text>
  <!-- Visual diagram -->
  <rect x="20" y="104" width="370" height="250" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1.5"/>
  <text x="205" y="126" text-anchor="middle" font-size="11" font-weight="bold" fill="#fbbf24">点 i の a(i) と b(i)</text>
  <!-- Cluster A (red) -->
  <circle cx="130" cy="210" r="40" fill="rgba(96,165,250,0.08)" stroke="#60a5fa" stroke-width="1.5" stroke-dasharray="4,3"/>
  <circle cx="110" cy="200" r="4" fill="#60a5fa"/>
  <circle cx="140" cy="195" r="4" fill="#60a5fa"/>
  <circle cx="120" cy="225" r="4" fill="#60a5fa"/>
  <circle cx="150" cy="220" r="4" fill="#60a5fa"/>
  <!-- Point i -->
  <circle cx="130" cy="210" r="7" fill="#fbbf24" stroke="#f8f8f8" stroke-width="1.5"/>
  <text x="143" y="208" font-size="9" fill="#fbbf24">i</text>
  <!-- a(i) lines -->
  <line x1="130" y1="210" x2="110" y2="200" stroke="#60a5fa" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="130" y1="210" x2="140" y2="195" stroke="#60a5fa" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="130" y1="210" x2="120" y2="225" stroke="#60a5fa" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="130" y1="210" x2="150" y2="220" stroke="#60a5fa" stroke-width="1.5" stroke-dasharray="3,2"/>
  <text x="70" y="245" font-size="10" fill="#60a5fa">a(i) = 平均距離</text>
  <!-- Cluster B (green) -->
  <circle cx="270" cy="200" r="40" fill="rgba(52,211,153,0.08)" stroke="#34d399" stroke-width="1.5" stroke-dasharray="4,3"/>
  <circle cx="255" cy="190" r="4" fill="#34d399"/>
  <circle cx="280" cy="185" r="4" fill="#34d399"/>
  <circle cx="260" cy="215" r="4" fill="#34d399"/>
  <circle cx="285" cy="210" r="4" fill="#34d399"/>
  <!-- b(i) line -->
  <line x1="130" y1="210" x2="270" y2="200" stroke="#34d399" stroke-width="2"/>
  <text x="200" y="195" text-anchor="middle" font-size="10" fill="#34d399">b(i)</text>
  <text x="205" y="330" text-anchor="middle" font-size="10" fill="#94a3b8">b(i) = 点iから最近傍クラスタへの平均距離</text>
  <text x="205" y="348" text-anchor="middle" font-size="10" fill="#94a3b8">（最も近い他クラスタを使う）</text>
  <!-- Score interpretation -->
  <rect x="410" y="104" width="370" height="250" rx="10" fill="rgba(255,255,255,0.04)" stroke="#475569" stroke-width="1.5"/>
  <text x="595" y="126" text-anchor="middle" font-size="12" font-weight="bold" fill="#fbbf24">スコアの解釈</text>
  <!-- Score scale -->
  <rect x="430" y="140" width="330" height="22" rx="11" fill="rgba(255,255,255,0.08)"/>
  <rect x="430" y="140" width="55" height="22" rx="11" fill="rgba(244,114,182,0.7)"/>
  <rect x="485" y="140" width="55" height="22" fill="rgba(251,146,60,0.7)"/>
  <rect x="540" y="140" width="55" height="22" fill="rgba(251,191,36,0.7)"/>
  <rect x="595" y="140" width="55" height="22" fill="rgba(52,211,153,0.7)"/>
  <rect x="650" y="140" width="110" height="22" rx="11" fill="rgba(96,165,250,0.7)"/>
  <text x="457" y="155" text-anchor="middle" font-size="9" fill="#f8f8f8">−1〜−0.5</text>
  <text x="512" y="155" text-anchor="middle" font-size="9" fill="#f8f8f8">−0.5〜0</text>
  <text x="567" y="155" text-anchor="middle" font-size="9" fill="#f8f8f8">0〜0.5</text>
  <text x="622" y="155" text-anchor="middle" font-size="9" fill="#f8f8f8">0.5〜0.7</text>
  <text x="705" y="155" text-anchor="middle" font-size="9" fill="#f8f8f8">0.7〜1.0</text>
  <text x="457" y="180" text-anchor="middle" font-size="10" fill="#f472b6">誤分類</text>
  <text x="512" y="180" text-anchor="middle" font-size="10" fill="#fb923c">曖昧</text>
  <text x="567" y="180" text-anchor="middle" font-size="10" fill="#fbbf24">弱い</text>
  <text x="622" y="180" text-anchor="middle" font-size="10" fill="#34d399">合理的</text>
  <text x="705" y="180" text-anchor="middle" font-size="10" fill="#60a5fa">強い</text>
  <!-- Mathematical interpretation -->
  <text x="426" y="214" font-size="11" fill="#fbbf24">s(i) → +1: a(i) ≪ b(i)</text>
  <text x="426" y="232" font-size="10" fill="#f8f8f8">同クラスタに密集し、他クラスタと離れている</text>
  <text x="426" y="258" font-size="11" fill="#94a3b8">s(i) → 0: a(i) ≈ b(i)</text>
  <text x="426" y="276" font-size="10" fill="#f8f8f8">クラスタ境界上に位置している</text>
  <text x="426" y="302" font-size="11" fill="#f472b6">s(i) → −1: a(i) ≫ b(i)</text>
  <text x="426" y="320" font-size="10" fill="#f8f8f8">他クラスタの方が近い（誤分類の疑い）</text>
  <text x="595" y="346" text-anchor="middle" font-size="11" fill="#34d399">平均 Silhouette = 全点のs(i)の平均</text>
</svg>
