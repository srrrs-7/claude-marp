<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 400" style="font-family:Arial,sans-serif;letter-spacing:0">
  <!-- Title -->
  <text x="450" y="28" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">Public VIF アーキテクチャ</text>

  <!-- On-Premises -->
  <rect x="20" y="90" width="160" height="200" rx="10" fill="#2E7D32" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="100" y="118" text-anchor="middle" font-size="14" font-weight="bold" fill="white">On-Premises</text>
  <!-- BGP Router box -->
  <rect x="40" y="135" width="120" height="55" rx="6" fill="white" fill-opacity="0.2"/>
  <text x="100" y="160" text-anchor="middle" font-size="12" fill="white">BGP Router</text>
  <text x="100" y="178" text-anchor="middle" font-size="10" fill="#C8E6C9">AS 65001</text>
  <!-- App Server -->
  <rect x="45" y="205" width="110" height="40" rx="5" fill="white" fill-opacity="0.15"/>
  <text x="100" y="222" text-anchor="middle" font-size="10" fill="white">Application</text>
  <text x="100" y="236" text-anchor="middle" font-size="10" fill="white">Servers</text>

  <!-- DX Connection line -->
  <line x1="180" y1="162" x2="355" y2="162" stroke="#2E7D32" stroke-width="3"/>
  <polygon points="349,156 361,162 349,168" fill="#2E7D32"/>

  <!-- Public VIF label -->
  <rect x="220" y="135" width="90" height="22" rx="4" fill="#2E7D32" style="filter:drop-shadow(1px 1px 2px rgba(0,0,0,0.1))"/>
  <text x="265" y="151" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Public VIF</text>

  <!-- BGP arrows -->
  <line x1="210" y1="195" x2="310" y2="195" stroke="#2E7D32" stroke-width="1" stroke-dasharray="4,2"/>
  <polygon points="304,191 312,195 304,199" fill="#2E7D32"/>
  <polygon points="216,191 208,195 216,199" fill="#2E7D32"/>
  <text x="260" y="210" text-anchor="middle" font-size="9" fill="#2E7D32">BGP Peering</text>

  <!-- DX Location indicator (small) -->
  <rect x="250" y="230" width="80" height="20" rx="4" fill="#FF8F00" fill-opacity="0.15" stroke="#FF8F00" stroke-width="1"/>
  <text x="290" y="244" text-anchor="middle" font-size="8" fill="#FF8F00">DX Location</text>

  <!-- AWS Cloud region box -->
  <rect x="365" y="50" width="515" height="310" rx="12" fill="white" stroke="#1565C0" stroke-width="2.5" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="622" y="78" text-anchor="middle" font-size="15" font-weight="bold" fill="#1565C0">AWS Public Services</text>

  <!-- No VGW label -->
  <rect x="380" y="140" width="90" height="44" rx="6" fill="#ECEFF1" stroke="#BDBDBD" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="425" y="160" text-anchor="middle" font-size="10" fill="#999">VGW 不要</text>
  <text x="425" y="174" text-anchor="middle" font-size="9" fill="#BDBDBD">直接接続</text>

  <!-- Arrow from DX to services area -->
  <line x1="470" y1="162" x2="508" y2="162" stroke="#455A64" stroke-width="2"/>
  <polygon points="508,157 518,162 508,167" fill="#455A64"/>

  <!-- S3 -->
  <rect x="525" y="100" width="120" height="50" rx="8" fill="#FF9900" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="585" y="121" text-anchor="middle" font-size="13" font-weight="bold" fill="white">Amazon S3</text>
  <text x="585" y="138" text-anchor="middle" font-size="9" fill="white">Object Storage</text>

  <!-- DynamoDB -->
  <rect x="665" y="100" width="120" height="50" rx="8" fill="#1565C0" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="725" y="121" text-anchor="middle" font-size="12" font-weight="bold" fill="white">DynamoDB</text>
  <text x="725" y="138" text-anchor="middle" font-size="9" fill="white">NoSQL DB</text>

  <!-- CloudFront -->
  <rect x="525" y="170" width="120" height="50" rx="8" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="585" y="191" text-anchor="middle" font-size="12" font-weight="bold" fill="white">CloudFront</text>
  <text x="585" y="208" text-anchor="middle" font-size="9" fill="white">CDN</text>

  <!-- STS -->
  <rect x="665" y="170" width="120" height="50" rx="8" fill="#C62828" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="725" y="191" text-anchor="middle" font-size="13" font-weight="bold" fill="white">STS</text>
  <text x="725" y="208" text-anchor="middle" font-size="9" fill="white">Token Service</text>

  <!-- Connection lines from arrow to each service -->
  <line x1="518" y1="162" x2="525" y2="125" stroke="#455A64" stroke-width="1.5" stroke-dasharray="3,2"/>
  <line x1="518" y1="162" x2="525" y2="195" stroke="#455A64" stroke-width="1.5" stroke-dasharray="3,2"/>

  <!-- Additional services hint -->
  <rect x="525" y="240" width="260" height="30" rx="5" fill="#FFF3E0" stroke="#FF9900" stroke-width="1"/>
  <text x="655" y="260" text-anchor="middle" font-size="10" fill="#E65100">SNS, SQS, Kinesis, API Gateway なども対応</text>

  <!-- Public IP label at bottom -->
  <rect x="200" y="340" width="500" height="36" rx="8" fill="#ECEFF1" style="filter:drop-shadow(1px 1px 2px rgba(0,0,0,0.1))"/>
  <text x="450" y="364" text-anchor="middle" font-size="13" font-weight="bold" fill="#455A64">パブリック IP アドレスが必要（AWS パブリックエンドポイント経由）</text>

  <!-- Dashed line from label to diagram -->
  <line x1="450" y1="320" x2="450" y2="340" stroke="#455A64" stroke-width="1" stroke-dasharray="4,2"/>
</svg>