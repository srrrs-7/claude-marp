<svg viewBox="0 0 1050 650" xmlns="http://www.w3.org/2000/svg" style="font-family:Arial,sans-serif;letter-spacing:0;background:#fff">
  <!-- Title -->
  <text x="525" y="28" text-anchor="middle" font-size="18" font-weight="bold" fill="#212121">AWS Direct Connect 全体アーキテクチャ</text>

  <!-- ============ ON-PREMISES ============ -->
  <rect x="20" y="200" width="130" height="220" rx="8" fill="#2E7D32" style="filter:drop-shadow(3px 3px 5px rgba(0,0,0,0.2))"/>
  <text x="85" y="230" text-anchor="middle" font-size="13" fill="#fff" font-weight="bold">On-Premises</text>
  <text x="85" y="248" text-anchor="middle" font-size="11" fill="#C8E6C9">データセンター</text>
  <!-- Server icons (simple) -->
  <rect x="45" y="268" width="80" height="20" rx="3" fill="#1B5E20" opacity="0.6"/>
  <text x="85" y="282" text-anchor="middle" font-size="9" fill="#E8F5E9">Router</text>
  <rect x="45" y="296" width="80" height="20" rx="3" fill="#1B5E20" opacity="0.6"/>
  <text x="85" y="310" text-anchor="middle" font-size="9" fill="#E8F5E9">Servers</text>
  <rect x="45" y="324" width="80" height="20" rx="3" fill="#1B5E20" opacity="0.6"/>
  <text x="85" y="338" text-anchor="middle" font-size="9" fill="#E8F5E9">Storage</text>

  <!-- Arrow On-Premises to DX Location -->
  <line x1="150" y1="310" x2="195" y2="310" stroke="#455A64" stroke-width="3"/>
  <polygon points="193,304 205,310 193,316" fill="#455A64"/>
  <text x="178" y="298" font-size="8" fill="#455A64" text-anchor="middle" transform="rotate(-90,178,298)">専用回線</text>

  <!-- ============ DX LOCATION ============ -->
  <rect x="208" y="140" width="135" height="340" rx="8" fill="#FF8F00" style="filter:drop-shadow(3px 3px 5px rgba(0,0,0,0.2))"/>
  <text x="275" y="168" text-anchor="middle" font-size="13" fill="#fff" font-weight="bold">DX Location</text>
  <text x="275" y="184" text-anchor="middle" font-size="10" fill="#FFF8E1">コロケーション施設</text>

  <!-- Cross-connect point -->
  <rect x="225" y="280" width="100" height="26" rx="4" fill="#E65100"/>
  <text x="275" y="297" text-anchor="middle" font-size="9" fill="#fff">Cross Connect</text>

  <!-- VIF branch points inside DX Location -->
  <!-- Private VIF label -->
  <rect x="225" y="200" width="100" height="22" rx="3" fill="#1565C0"/>
  <text x="275" y="215" text-anchor="middle" font-size="9" fill="#fff" font-weight="bold">Private VIF</text>

  <!-- Public VIF label -->
  <rect x="225" y="318" width="100" height="22" rx="3" fill="#2E7D32"/>
  <text x="275" y="333" text-anchor="middle" font-size="9" fill="#fff" font-weight="bold">Public VIF</text>

  <!-- Transit VIF label -->
  <rect x="225" y="410" width="100" height="22" rx="3" fill="#C62828"/>
  <text x="275" y="425" text-anchor="middle" font-size="9" fill="#fff" font-weight="bold">Transit VIF</text>

  <!-- Internal lines from cross-connect to VIFs -->
  <line x1="275" y1="280" x2="275" y2="222" stroke="#fff" stroke-width="1.5" opacity="0.6"/>
  <line x1="275" y1="306" x2="275" y2="318" stroke="#fff" stroke-width="1.5" opacity="0.6"/>
  <line x1="275" y1="306" x2="275" y2="410" stroke="#fff" stroke-width="1.5" opacity="0.6"/>

  <!-- ============ PATH 1: PRIVATE VIF ============ -->
  <!-- Arrow DX Location to DX GW-1 -->
  <line x1="343" y1="211" x2="398" y2="165" stroke="#1565C0" stroke-width="2.5"/>
  <polygon points="396,159 407,164 398,170" fill="#1565C0"/>

  <!-- DX GW-1 -->
  <rect x="410" y="90" width="140" height="50" rx="6" fill="#E65100" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="480" y="112" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">DX Gateway-1</text>
  <text x="480" y="129" text-anchor="middle" font-size="9" fill="#FFE0B2">(Private VIF 用)</text>

  <!-- Arrow DX GW-1 to VGW-1 -->
  <line x1="550" y1="100" x2="610" y2="80" stroke="#455A64" stroke-width="2"/>
  <polygon points="608,74 618,79 609,85" fill="#455A64"/>

  <!-- Arrow DX GW-1 to VGW-2 -->
  <line x1="550" y1="125" x2="610" y2="145" stroke="#455A64" stroke-width="2"/>
  <polygon points="608,140 618,145 608,150" fill="#455A64"/>

  <!-- VGW-1 -->
  <rect x="620" y="52" width="90" height="42" rx="5" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="665" y="77" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">VGW-1</text>

  <!-- VGW-2 -->
  <rect x="620" y="126" width="90" height="42" rx="5" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="665" y="151" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">VGW-2</text>

  <!-- Arrow VGW-1 to VPC-A -->
  <line x1="710" y1="73" x2="760" y2="73" stroke="#455A64" stroke-width="2"/>
  <polygon points="758,68 768,73 758,78" fill="#455A64"/>

  <!-- Arrow VGW-2 to VPC-B -->
  <line x1="710" y1="147" x2="760" y2="147" stroke="#455A64" stroke-width="2"/>
  <polygon points="758,142 768,147 758,152" fill="#455A64"/>

  <!-- VPC-A -->
  <rect x="770" y="48" width="120" height="46" rx="5" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="830" y="67" text-anchor="middle" font-size="11" fill="#1565C0" font-weight="bold">VPC-A</text>
  <text x="830" y="83" text-anchor="middle" font-size="8" fill="#1565C0">Single VPC</text>

  <!-- VPC-B -->
  <rect x="770" y="122" width="120" height="46" rx="5" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="830" y="141" text-anchor="middle" font-size="11" fill="#1565C0" font-weight="bold">VPC-B</text>
  <text x="830" y="157" text-anchor="middle" font-size="8" fill="#1565C0">Multi-region</text>

  <!-- Private VIF path highlight line -->
  <rect x="765" y="42" width="132" height="135" rx="6" fill="none" stroke="#1565C0" stroke-width="1.5" stroke-dasharray="5,3" opacity="0.4"/>

  <!-- ============ PATH 2: PUBLIC VIF ============ -->
  <!-- Arrow DX Location to AWS Services -->
  <line x1="343" y1="329" x2="540" y2="329" stroke="#2E7D32" stroke-width="2.5"/>
  <polygon points="538,324 548,329 538,334" fill="#2E7D32"/>

  <!-- AWS Public Services box -->
  <rect x="555" y="275" width="200" height="108" rx="8" fill="#FF9900" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.18))"/>
  <text x="655" y="298" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">AWS Public Services</text>

  <!-- Service sub-items -->
  <rect x="575" y="308" width="70" height="24" rx="4" fill="#FFB74D"/>
  <text x="610" y="324" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">S3</text>

  <rect x="655" y="308" width="80" height="24" rx="4" fill="#FFB74D"/>
  <text x="695" y="324" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">DynamoDB</text>

  <rect x="575" y="342" width="70" height="24" rx="4" fill="#FFB74D"/>
  <text x="610" y="358" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">SQS</text>

  <rect x="655" y="342" width="80" height="24" rx="4" fill="#FFB74D"/>
  <text x="695" y="358" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">CloudFront</text>

  <!-- ============ PATH 3: TRANSIT VIF ============ -->
  <!-- Arrow DX Location to DX GW-2 -->
  <line x1="343" y1="421" x2="398" y2="460" stroke="#C62828" stroke-width="2.5"/>
  <polygon points="396,455 407,461 397,466" fill="#C62828"/>

  <!-- DX GW-2 -->
  <rect x="410" y="440" width="140" height="50" rx="6" fill="#E65100" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="480" y="462" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">DX Gateway-2</text>
  <text x="480" y="479" text-anchor="middle" font-size="9" fill="#FFE0B2">(Transit VIF 用)</text>

  <!-- Arrow DX GW-2 to TGW -->
  <line x1="550" y1="465" x2="610" y2="465" stroke="#455A64" stroke-width="2"/>
  <polygon points="608,460 618,465 608,470" fill="#455A64"/>

  <!-- TGW -->
  <rect x="620" y="440" width="100" height="50" rx="6" fill="#C62828" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="670" y="462" text-anchor="middle" font-size="10" fill="#fff" font-weight="bold">TGW</text>
  <text x="670" y="478" text-anchor="middle" font-size="8" fill="#FFCDD2">Transit Gateway</text>

  <!-- Arrows TGW to VPCs -->
  <line x1="720" y1="452" x2="770" y2="430" stroke="#455A64" stroke-width="2"/>
  <polygon points="768,425 778,429 769,435" fill="#455A64"/>

  <line x1="720" y1="465" x2="770" y2="475" stroke="#455A64" stroke-width="2"/>
  <polygon points="768,470 778,475 768,480" fill="#455A64"/>

  <line x1="720" y1="478" x2="770" y2="520" stroke="#455A64" stroke-width="2"/>
  <polygon points="768,515 778,520 768,525" fill="#455A64"/>

  <!-- VPC-C -->
  <rect x="780" y="408" width="105" height="40" rx="5" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="832" y="432" text-anchor="middle" font-size="11" fill="#1565C0" font-weight="bold">VPC-C</text>

  <!-- VPC-D -->
  <rect x="780" y="456" width="105" height="40" rx="5" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="832" y="480" text-anchor="middle" font-size="11" fill="#1565C0" font-weight="bold">VPC-D</text>

  <!-- VPC-E -->
  <rect x="780" y="504" width="105" height="40" rx="5" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="832" y="528" text-anchor="middle" font-size="11" fill="#1565C0" font-weight="bold">VPC-E</text>

  <!-- Transit VIF path highlight -->
  <rect x="775" y="402" width="118" height="150" rx="6" fill="none" stroke="#C62828" stroke-width="1.5" stroke-dasharray="5,3" opacity="0.4"/>

  <!-- ============ TGW Peering ============ -->
  <!-- Arrow TGW to TGW (Region 2) -->
  <line x1="670" y1="490" x2="670" y2="555" stroke="#C62828" stroke-width="2" stroke-dasharray="6,3"/>
  <polygon points="665,553 670,563 675,553" fill="#C62828"/>

  <!-- TGW Region 2 -->
  <rect x="620" y="565" width="100" height="42" rx="6" fill="#C62828" opacity="0.7" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.12))"/>
  <text x="670" y="583" text-anchor="middle" font-size="9" fill="#fff" font-weight="bold">TGW (Region 2)</text>
  <text x="670" y="598" text-anchor="middle" font-size="8" fill="#FFCDD2">TGW Peering</text>

  <!-- Peering label -->
  <text x="695" y="535" font-size="8" fill="#C62828" font-style="italic">TGW Peering</text>

  <!-- ============ AWS CLOUD BOUNDARY ============ -->
  <rect x="395" y="38" width="620" height="580" rx="12" fill="none" stroke="#1565C0" stroke-width="2.5" stroke-dasharray="8,4" opacity="0.35"/>
  <text x="705" y="56" text-anchor="middle" font-size="12" fill="#1565C0" font-weight="bold" opacity="0.6">AWS Cloud</text>

  <!-- ============ LEGEND ============ -->
  <rect x="900" y="190" width="140" height="180" rx="6" fill="#FAFAFA" stroke="#BDBDBD" stroke-width="1"/>
  <text x="970" y="210" text-anchor="middle" font-size="10" font-weight="bold" fill="#212121">凡例</text>

  <!-- Private VIF -->
  <line x1="912" y1="228" x2="942" y2="228" stroke="#1565C0" stroke-width="3"/>
  <text x="950" y="232" font-size="9" fill="#455A64">Private VIF</text>

  <!-- Public VIF -->
  <line x1="912" y1="252" x2="942" y2="252" stroke="#2E7D32" stroke-width="3"/>
  <text x="950" y="256" font-size="9" fill="#455A64">Public VIF</text>

  <!-- Transit VIF -->
  <line x1="912" y1="276" x2="942" y2="276" stroke="#C62828" stroke-width="3"/>
  <text x="950" y="280" font-size="9" fill="#455A64">Transit VIF</text>

  <!-- DX Gateway -->
  <rect x="912" y="293" width="28" height="14" rx="2" fill="#E65100"/>
  <text x="950" y="304" font-size="9" fill="#455A64">DX Gateway</text>

  <!-- VGW -->
  <rect x="912" y="315" width="28" height="14" rx="2" fill="#7B1FA2"/>
  <text x="950" y="326" font-size="9" fill="#455A64">VGW</text>

  <!-- TGW -->
  <rect x="912" y="337" width="28" height="14" rx="2" fill="#C62828"/>
  <text x="950" y="348" font-size="9" fill="#455A64">TGW</text>

  <!-- VPC -->
  <rect x="912" y="359" width="28" height="14" rx="2" fill="#E3F2FD" stroke="#1565C0" stroke-width="1"/>
  <text x="950" y="370" font-size="9" fill="#455A64">VPC</text>
</svg>