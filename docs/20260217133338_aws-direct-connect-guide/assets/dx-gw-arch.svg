<svg viewBox="0 0 950 550" xmlns="http://www.w3.org/2000/svg" style="font-family:Arial,sans-serif;letter-spacing:0;background:#fff">
  <!-- Title -->
  <text x="475" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#212121">DX Gateway アーキテクチャ</text>

  <!-- ============ LEFT SIDE: On-Premises ============ -->
  <!-- DX Connection 1 -->
  <rect x="20" y="100" width="150" height="50" rx="6" fill="#2E7D32" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="95" y="121" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">DX Connection 1</text>
  <text x="95" y="137" text-anchor="middle" font-size="10" fill="#E8F5E9">(Private VIF)</text>

  <!-- DX Connection 2 -->
  <rect x="20" y="370" width="150" height="50" rx="6" fill="#2E7D32" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="95" y="391" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">DX Connection 2</text>
  <text x="95" y="407" text-anchor="middle" font-size="10" fill="#E8F5E9">(Transit VIF)</text>

  <!-- ============ Private VIF path arrows to DX GW-1 ============ -->
  <!-- Line from DX Connection 1 to DX GW-1 -->
  <line x1="170" y1="125" x2="295" y2="160" stroke="#1565C0" stroke-width="2.5"/>
  <polygon points="293,155 303,160 293,165" fill="#1565C0"/>
  <text x="220" y="132" font-size="10" fill="#1565C0" font-weight="bold">Private VIF</text>

  <!-- ============ Transit VIF path arrows to DX GW-2 ============ -->
  <!-- Line from DX Connection 2 to DX GW-2 -->
  <line x1="170" y1="395" x2="295" y2="380" stroke="#C62828" stroke-width="2.5"/>
  <polygon points="293,375 303,380 293,385" fill="#C62828"/>
  <text x="215" y="403" font-size="10" fill="#C62828" font-weight="bold">Transit VIF</text>

  <!-- ============ CENTER: DX Gateways ============ -->
  <!-- DX GW-1 (Private VIF) -->
  <rect x="300" y="120" width="180" height="60" rx="8" fill="#E65100" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="390" y="146" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">DX Gateway-1</text>
  <text x="390" y="166" text-anchor="middle" font-size="10" fill="#FFE0B2">(Private VIF 用)</text>

  <!-- DX GW-2 (Transit VIF) -->
  <rect x="300" y="350" width="180" height="60" rx="8" fill="#E65100" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="390" y="376" text-anchor="middle" font-size="12" fill="#fff" font-weight="bold">DX Gateway-2</text>
  <text x="390" y="396" text-anchor="middle" font-size="10" fill="#FFE0B2">(Transit VIF 用)</text>

  <!-- ============ RIGHT SIDE: Private VIF Path ============ -->
  <!-- Arrow DX GW-1 to VGW-1 -->
  <line x1="480" y1="135" x2="545" y2="100" stroke="#455A64" stroke-width="2"/>
  <polygon points="543,95 553,100 543,105" fill="#455A64"/>

  <!-- Arrow DX GW-1 to VGW-2 -->
  <line x1="480" y1="165" x2="545" y2="200" stroke="#455A64" stroke-width="2"/>
  <polygon points="543,195 553,200 543,205" fill="#455A64"/>

  <!-- VGW-1 -->
  <rect x="550" y="72" width="110" height="46" rx="6" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="605" y="99" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">VGW-1</text>

  <!-- VGW-2 -->
  <rect x="550" y="177" width="110" height="46" rx="6" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="605" y="204" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">VGW-2</text>

  <!-- Arrow VGW-1 to VPC-A -->
  <line x1="660" y1="95" x2="725" y2="95" stroke="#455A64" stroke-width="2"/>
  <polygon points="723,90 733,95 723,100" fill="#455A64"/>

  <!-- Arrow VGW-2 to VPC-B -->
  <line x1="660" y1="200" x2="725" y2="200" stroke="#455A64" stroke-width="2"/>
  <polygon points="723,195 733,200 723,205" fill="#455A64"/>

  <!-- VPC-A -->
  <rect x="730" y="70" width="120" height="50" rx="6" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="790" y="92" text-anchor="middle" font-size="12" fill="#1565C0" font-weight="bold">VPC-A</text>
  <text x="790" y="108" text-anchor="middle" font-size="9" fill="#1565C0">ap-northeast-1</text>

  <!-- VPC-B -->
  <rect x="730" y="175" width="120" height="50" rx="6" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="790" y="197" text-anchor="middle" font-size="12" fill="#1565C0" font-weight="bold">VPC-B</text>
  <text x="790" y="213" text-anchor="middle" font-size="9" fill="#1565C0">us-east-1</text>

  <!-- Label: Private VIF 経由 -->
  <text x="790" y="58" text-anchor="middle" font-size="10" fill="#7B1FA2" font-style="italic">Private VIF 経由</text>

  <!-- ============ RIGHT SIDE: Transit VIF Path ============ -->
  <!-- Arrow DX GW-2 to TGW -->
  <line x1="480" y1="380" x2="545" y2="380" stroke="#455A64" stroke-width="2"/>
  <polygon points="543,375 553,380 543,385" fill="#455A64"/>

  <!-- TGW -->
  <rect x="550" y="352" width="110" height="56" rx="6" fill="#C62828" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.15))"/>
  <text x="605" y="376" text-anchor="middle" font-size="11" fill="#fff" font-weight="bold">TGW</text>
  <text x="605" y="396" text-anchor="middle" font-size="9" fill="#FFCDD2">Transit Gateway</text>

  <!-- Arrow TGW to VPC-C -->
  <line x1="660" y1="365" x2="725" y2="330" stroke="#455A64" stroke-width="2"/>
  <polygon points="723,325 733,330 723,335" fill="#455A64"/>

  <!-- Arrow TGW to VPC-D -->
  <line x1="660" y1="380" x2="725" y2="390" stroke="#455A64" stroke-width="2"/>
  <polygon points="723,385 733,390 723,395" fill="#455A64"/>

  <!-- Arrow TGW to VPC-E -->
  <line x1="660" y1="395" x2="725" y2="450" stroke="#455A64" stroke-width="2"/>
  <polygon points="723,445 733,450 723,455" fill="#455A64"/>

  <!-- VPC-C -->
  <rect x="730" y="305" width="120" height="46" rx="6" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="790" y="332" text-anchor="middle" font-size="12" fill="#1565C0" font-weight="bold">VPC-C</text>

  <!-- VPC-D -->
  <rect x="730" y="367" width="120" height="46" rx="6" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="790" y="394" text-anchor="middle" font-size="12" fill="#1565C0" font-weight="bold">VPC-D</text>

  <!-- VPC-E -->
  <rect x="730" y="429" width="120" height="46" rx="6" fill="#E3F2FD" stroke="#1565C0" stroke-width="2" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.1))"/>
  <text x="790" y="456" text-anchor="middle" font-size="12" fill="#1565C0" font-weight="bold">VPC-E</text>

  <!-- Label: Transit VIF 経由 -->
  <text x="790" y="296" text-anchor="middle" font-size="10" fill="#C62828" font-style="italic">Transit VIF 経由</text>

  <!-- ============ NOTE BOX ============ -->
  <rect x="200" y="490" width="550" height="40" rx="6" fill="#FFF8E1" stroke="#F9A825" stroke-width="1.5" stroke-dasharray="6,3"/>
  <text x="475" y="510" text-anchor="middle" font-size="11" fill="#E65100" font-weight="bold">⚠ 同一 DX Gateway に Private VIF と Transit VIF は共存不可</text>
  <text x="475" y="524" text-anchor="middle" font-size="10" fill="#795548">→ 用途ごとに別々の DX Gateway を作成する必要があります</text>

  <!-- ============ Dashed group boxes ============ -->
  <!-- Private VIF group -->
  <rect x="535" y="50" width="330" height="195" rx="8" fill="none" stroke="#7B1FA2" stroke-width="1.5" stroke-dasharray="5,4" opacity="0.5"/>

  <!-- Transit VIF group -->
  <rect x="535" y="285" width="330" height="200" rx="8" fill="none" stroke="#C62828" stroke-width="1.5" stroke-dasharray="5,4" opacity="0.5"/>
</svg>