<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 480" style="letter-spacing:0">
  <!-- Title -->
  <text x="450" y="28" text-anchor="middle" fill="#FF9900" font-family="Arial,sans-serif" font-size="18" font-weight="bold">AWS Client VPN Architecture</text>

  <!-- ====== LEFT: Remote Users ====== -->
  <!-- User 1 -->
  <rect x="20" y="80" width="110" height="60" rx="8" fill="none" stroke="#e0e0e0" stroke-width="1.5" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="75" y="105" text-anchor="middle" fill="#ffffff" font-family="Arial,sans-serif" font-size="11" font-weight="bold">User A</text>
  <rect x="50" y="114" width="50" height="6" rx="2" fill="#78909c"/>
  <rect x="45" y="120" width="60" height="2" rx="1" fill="#607d8b"/>
  <text x="75" y="136" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">OpenVPN Client</text>

  <!-- User 2 -->
  <rect x="20" y="180" width="110" height="60" rx="8" fill="none" stroke="#e0e0e0" stroke-width="1.5" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="75" y="205" text-anchor="middle" fill="#ffffff" font-family="Arial,sans-serif" font-size="11" font-weight="bold">User B</text>
  <rect x="50" y="214" width="50" height="6" rx="2" fill="#78909c"/>
  <rect x="45" y="220" width="60" height="2" rx="1" fill="#607d8b"/>
  <text x="75" y="236" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">OpenVPN Client</text>

  <!-- User 3 -->
  <rect x="20" y="280" width="110" height="60" rx="8" fill="none" stroke="#e0e0e0" stroke-width="1.5" style="filter:drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="75" y="305" text-anchor="middle" fill="#ffffff" font-family="Arial,sans-serif" font-size="11" font-weight="bold">User C</text>
  <rect x="50" y="314" width="50" height="6" rx="2" fill="#78909c"/>
  <rect x="45" y="320" width="60" height="2" rx="1" fill="#607d8b"/>
  <text x="75" y="336" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">OpenVPN Client</text>

  <!-- Remote Users label -->
  <text x="75" y="370" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="11">Remote Users</text>

  <!-- ====== CENTER: Internet Cloud ====== -->
  <ellipse cx="235" cy="210" rx="55" ry="35" fill="none" stroke="#90a4ae" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="235" y="206" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="12" font-weight="bold">Internet</text>
  <text x="235" y="222" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="10">(Public)</text>

  <!-- TLS Tunnel lines from users to internet -->
  <line x1="130" y1="110" x2="180" y2="195" stroke="#00bcd4" stroke-width="1.5" stroke-dasharray="6,3"/>
  <line x1="130" y1="210" x2="180" y2="210" stroke="#00bcd4" stroke-width="1.5" stroke-dasharray="6,3"/>
  <line x1="130" y1="310" x2="180" y2="225" stroke="#00bcd4" stroke-width="1.5" stroke-dasharray="6,3"/>

  <!-- TLS label -->
  <rect x="140" y="155" width="70" height="18" rx="3" fill="rgba(0,188,212,0.15)" stroke="#00bcd4" stroke-width="0.8"/>
  <text x="175" y="167" text-anchor="middle" fill="#00bcd4" font-family="Arial,sans-serif" font-size="9" font-weight="bold">TLS Tunnel</text>

  <!-- Line from internet to Client VPN Endpoint -->
  <line x1="290" y1="210" x2="350" y2="210" stroke="#00bcd4" stroke-width="2" stroke-dasharray="6,3"/>
  <!-- Arrowhead -->
  <polygon points="350,205 360,210 350,215" fill="#00bcd4"/>

  <!-- ====== Client VPN Endpoint ====== -->
  <rect x="362" y="160" width="140" height="100" rx="10" fill="rgba(255,153,0,0.1)" stroke="#FF9900" stroke-width="2" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"/>
  <text x="432" y="190" text-anchor="middle" fill="#FF9900" font-family="Arial,sans-serif" font-size="12" font-weight="bold">Client VPN</text>
  <text x="432" y="206" text-anchor="middle" fill="#FF9900" font-family="Arial,sans-serif" font-size="12" font-weight="bold">Endpoint</text>
  <line x1="382" y1="218" x2="482" y2="218" stroke="#FF9900" stroke-width="0.5" stroke-opacity="0.5"/>
  <text x="432" y="234" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="9">Managed Service</text>
  <text x="432" y="248" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="9">Multi-AZ</text>

  <!-- Authentication box below endpoint -->
  <rect x="355" y="290" width="155" height="65" rx="6" fill="rgba(59,72,204,0.1)" stroke="#3B48CC" stroke-width="1.5"/>
  <text x="432" y="308" text-anchor="middle" fill="#3B48CC" font-family="Arial,sans-serif" font-size="10" font-weight="bold">Authentication</text>
  <text x="432" y="325" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="10">Active Directory</text>
  <text x="432" y="339" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="10">Mutual Certificate</text>
  <text x="432" y="353" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="10">SAML 2.0 (SSO)</text>
  <!-- Connector line -->
  <line x1="432" y1="260" x2="432" y2="290" stroke="#3B48CC" stroke-width="1" stroke-dasharray="3,2"/>

  <!-- Split Tunnel indicator -->
  <rect x="362" y="65" width="140" height="38" rx="5" fill="rgba(0,188,212,0.1)" stroke="#00bcd4" stroke-width="1"/>
  <text x="432" y="80" text-anchor="middle" fill="#00bcd4" font-family="Arial,sans-serif" font-size="9" font-weight="bold">Split Tunnel: ON/OFF</text>
  <text x="432" y="95" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">Route table controls traffic</text>
  <!-- Connector line -->
  <line x1="432" y1="103" x2="432" y2="160" stroke="#00bcd4" stroke-width="0.8" stroke-dasharray="3,2"/>

  <!-- ====== RIGHT: AWS Cloud ====== -->
  <rect x="540" y="50" width="345" height="370" rx="14" fill="rgba(255,153,0,0.04)" stroke="#FF9900" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="712" y="72" text-anchor="middle" fill="#FF9900" font-family="Arial,sans-serif" font-size="13" font-weight="bold">AWS Cloud</text>

  <!-- VPC box -->
  <rect x="555" y="85" width="315" height="230" rx="10" fill="rgba(59,72,204,0.06)" stroke="#3B48CC" stroke-width="1.5"/>
  <text x="712" y="105" text-anchor="middle" fill="#3B48CC" font-family="Arial,sans-serif" font-size="12" font-weight="bold">VPC (10.0.0.0/16)</text>

  <!-- Target Subnet with ENIs -->
  <rect x="570" y="115" width="140" height="110" rx="6" fill="rgba(26,115,232,0.08)" stroke="#1a73e8" stroke-width="1"/>
  <text x="640" y="132" text-anchor="middle" fill="#1a73e8" font-family="Arial,sans-serif" font-size="10" font-weight="bold">Target Subnet</text>
  <text x="640" y="145" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">10.0.1.0/24</text>

  <!-- ENI boxes -->
  <rect x="582" y="155" width="52" height="28" rx="4" fill="rgba(255,153,0,0.12)" stroke="#FF9900" stroke-width="1"/>
  <text x="608" y="173" text-anchor="middle" fill="#FF9900" font-family="Arial,sans-serif" font-size="9" font-weight="bold">ENI</text>

  <rect x="644" y="155" width="52" height="28" rx="4" fill="rgba(255,153,0,0.12)" stroke="#FF9900" stroke-width="1"/>
  <text x="670" y="173" text-anchor="middle" fill="#FF9900" font-family="Arial,sans-serif" font-size="9" font-weight="bold">ENI</text>

  <text x="640" y="205" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">Auto-created per AZ</text>

  <!-- Private Subnet with App Servers -->
  <rect x="730" y="115" width="125" height="110" rx="6" fill="rgba(52,168,83,0.08)" stroke="#34a853" stroke-width="1"/>
  <text x="792" y="132" text-anchor="middle" fill="#34a853" font-family="Arial,sans-serif" font-size="10" font-weight="bold">Private Subnet</text>
  <text x="792" y="145" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">10.0.2.0/24</text>

  <!-- App Server boxes -->
  <rect x="750" y="155" width="85" height="24" rx="4" fill="rgba(52,168,83,0.12)" stroke="#34a853" stroke-width="1"/>
  <text x="792" y="171" text-anchor="middle" fill="#34a853" font-family="Arial,sans-serif" font-size="9">App Server 1</text>

  <rect x="750" y="185" width="85" height="24" rx="4" fill="rgba(52,168,83,0.12)" stroke="#34a853" stroke-width="1"/>
  <text x="792" y="201" text-anchor="middle" fill="#34a853" font-family="Arial,sans-serif" font-size="9">App Server 2</text>

  <!-- Arrow from ENIs to App Servers -->
  <line x1="696" y1="170" x2="745" y2="170" stroke="#e0e0e0" stroke-width="1.5"/>
  <polygon points="745,166 753,170 745,174" fill="#e0e0e0"/>

  <!-- Route to on-premises (dashed) -->
  <rect x="570" y="240" width="290" height="60" rx="6" fill="rgba(156,39,176,0.06)" stroke="#9c27b0" stroke-width="1" stroke-dasharray="5,3"/>
  <text x="715" y="260" text-anchor="middle" fill="#9c27b0" font-family="Arial,sans-serif" font-size="10" font-weight="bold">Peering / TGW / VPN to On-Premises</text>
  <text x="715" y="278" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="9">Route table: 10.100.0.0/16 -> pcx / tgw</text>
  <text x="715" y="292" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="8">(Optional - extend access to corporate DC)</text>

  <!-- Authorization Rules box -->
  <rect x="570" y="330" width="155" height="50" rx="6" fill="rgba(234,67,53,0.08)" stroke="#ea4335" stroke-width="1"/>
  <text x="647" y="350" text-anchor="middle" fill="#ea4335" font-family="Arial,sans-serif" font-size="10" font-weight="bold">Authorization Rules</text>
  <text x="647" y="366" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="9">AD Group / Allow All</text>

  <!-- Connection Logging -->
  <rect x="740" y="330" width="130" height="50" rx="6" fill="rgba(0,188,212,0.08)" stroke="#00bcd4" stroke-width="1"/>
  <text x="805" y="350" text-anchor="middle" fill="#00bcd4" font-family="Arial,sans-serif" font-size="10" font-weight="bold">Connection Log</text>
  <text x="805" y="366" text-anchor="middle" fill="#e0e0e0" font-family="Arial,sans-serif" font-size="9">CloudWatch Logs</text>

  <!-- Arrow from Client VPN Endpoint to ENIs -->
  <line x1="502" y1="210" x2="577" y2="170" stroke="#FF9900" stroke-width="2"/>
  <polygon points="574,164 582,168 574,175" fill="#FF9900"/>

  <!-- Bottom note -->
  <text x="450" y="440" text-anchor="middle" fill="#b0bec5" font-family="Arial,sans-serif" font-size="10">Client CIDR: 172.16.0.0/22 (assigned to VPN clients, must not overlap VPC CIDR)</text>
  <text x="450" y="458" text-anchor="middle" fill="#78909c" font-family="Arial,sans-serif" font-size="9">Max concurrent connections per endpoint: up to 25,000</text>
  <text x="450" y="473" text-anchor="middle" fill="#78909c" font-family="Arial,sans-serif" font-size="9">Protocol: OpenVPN (UDP 443 / TCP 443)</text>
</svg>