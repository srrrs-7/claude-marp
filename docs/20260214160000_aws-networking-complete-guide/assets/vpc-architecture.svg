<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550" style="letter-spacing:0;font-family:'Segoe UI',Arial,sans-serif">
  <!-- VPC Boundary -->
  <rect x="100" y="60" width="700" height="470" rx="12" ry="12" fill="none" stroke="#FF9900" stroke-width="2.5" stroke-dasharray="8 4"/>
  <text x="120" y="88" fill="#FF9900" font-size="14" font-weight="bold">VPC: 10.0.0.0/16</text>

  <!-- Region Label -->
  <rect x="300" y="8" width="300" height="30" rx="6" ry="6" fill="#232f3e" stroke="#527FFF" stroke-width="1.5"/>
  <text x="450" y="28" fill="#e0e0e0" font-size="13" text-anchor="middle" font-weight="bold">ap-northeast-1 (Tokyo Region)</text>

  <!-- Internet -->
  <rect x="370" y="48" width="160" height="32" rx="16" ry="16" fill="#1a73e8" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="450" y="69" fill="white" font-size="12" text-anchor="middle" font-weight="bold">Internet</text>

  <!-- Internet Gateway -->
  <rect x="390" y="105" width="120" height="36" rx="8" ry="8" fill="#FF9900" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="450" y="128" fill="white" font-size="11" text-anchor="middle" font-weight="bold">Internet Gateway</text>

  <!-- Arrow: Internet to IGW -->
  <line x1="450" y1="80" x2="450" y2="105" stroke="#e0e0e0" stroke-width="1.5"/>
  <polygon points="445,105 455,105 450,97" fill="#e0e0e0"/>

  <!-- AZ-a Background -->
  <rect x="120" y="160" width="320" height="350" rx="8" ry="8" fill="rgba(82,127,255,0.08)" stroke="#527FFF" stroke-width="1" stroke-dasharray="5 3"/>
  <text x="280" y="182" fill="#527FFF" font-size="12" text-anchor="middle" font-weight="bold">Availability Zone a</text>

  <!-- AZ-b Background -->
  <rect x="460" y="160" width="320" height="350" rx="8" ry="8" fill="rgba(82,127,255,0.08)" stroke="#527FFF" stroke-width="1" stroke-dasharray="5 3"/>
  <text x="620" y="182" fill="#527FFF" font-size="12" text-anchor="middle" font-weight="bold">Availability Zone b</text>

  <!-- === AZ-a: Public Subnet === -->
  <rect x="140" y="195" width="280" height="130" rx="6" ry="6" fill="rgba(52,168,83,0.12)" stroke="#34a853" stroke-width="1.5"/>
  <text x="155" y="215" fill="#34a853" font-size="11" font-weight="bold">Public Subnet (10.0.1.0/24)</text>

  <!-- NAT Gateway in AZ-a -->
  <rect x="175" y="230" width="110" height="32" rx="6" ry="6" fill="#34a853" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="230" y="250" fill="white" font-size="10" text-anchor="middle" font-weight="bold">NAT Gateway</text>

  <!-- Route Table for AZ-a Public -->
  <rect x="300" y="228" width="105" height="36" rx="4" ry="4" fill="rgba(255,255,255,0.06)" stroke="#e0e0e0" stroke-width="0.8"/>
  <text x="352" y="242" fill="#e0e0e0" font-size="8" text-anchor="middle" font-weight="bold">Route Table</text>
  <text x="352" y="256" fill="#b0b0b0" font-size="7.5" text-anchor="middle">0.0.0.0/0 -> IGW</text>

  <!-- === AZ-a: Private Subnet === -->
  <rect x="140" y="340" width="280" height="150" rx="6" ry="6" fill="rgba(234,67,53,0.08)" stroke="#ea4335" stroke-width="1.5"/>
  <text x="155" y="360" fill="#ea4335" font-size="11" font-weight="bold">Private Subnet (10.0.2.0/24)</text>

  <!-- App Server in AZ-a Private -->
  <rect x="175" y="375" width="100" height="32" rx="6" ry="6" fill="#5c6bc0" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="225" y="395" fill="white" font-size="10" text-anchor="middle" font-weight="bold">App Server</text>

  <!-- Route Table for AZ-a Private -->
  <rect x="300" y="375" width="105" height="36" rx="4" ry="4" fill="rgba(255,255,255,0.06)" stroke="#e0e0e0" stroke-width="0.8"/>
  <text x="352" y="389" fill="#e0e0e0" font-size="8" text-anchor="middle" font-weight="bold">Route Table</text>
  <text x="352" y="403" fill="#b0b0b0" font-size="7.5" text-anchor="middle">0.0.0.0/0 -> NAT GW</text>

  <!-- DB in AZ-a Private -->
  <rect x="200" y="425" width="100" height="32" rx="6" ry="6" fill="#7b1fa2" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="250" y="445" fill="white" font-size="10" text-anchor="middle" font-weight="bold">Database</text>

  <!-- === AZ-b: Public Subnet === -->
  <rect x="480" y="195" width="280" height="130" rx="6" ry="6" fill="rgba(52,168,83,0.12)" stroke="#34a853" stroke-width="1.5"/>
  <text x="495" y="215" fill="#34a853" font-size="11" font-weight="bold">Public Subnet (10.0.3.0/24)</text>

  <!-- NAT Gateway in AZ-b -->
  <rect x="515" y="230" width="110" height="32" rx="6" ry="6" fill="#34a853" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="570" y="250" fill="white" font-size="10" text-anchor="middle" font-weight="bold">NAT Gateway</text>

  <!-- Route Table for AZ-b Public -->
  <rect x="640" y="228" width="105" height="36" rx="4" ry="4" fill="rgba(255,255,255,0.06)" stroke="#e0e0e0" stroke-width="0.8"/>
  <text x="692" y="242" fill="#e0e0e0" font-size="8" text-anchor="middle" font-weight="bold">Route Table</text>
  <text x="692" y="256" fill="#b0b0b0" font-size="7.5" text-anchor="middle">0.0.0.0/0 -> IGW</text>

  <!-- === AZ-b: Private Subnet === -->
  <rect x="480" y="340" width="280" height="150" rx="6" ry="6" fill="rgba(234,67,53,0.08)" stroke="#ea4335" stroke-width="1.5"/>
  <text x="495" y="360" fill="#ea4335" font-size="11" font-weight="bold">Private Subnet (10.0.4.0/24)</text>

  <!-- App Server in AZ-b Private -->
  <rect x="515" y="375" width="100" height="32" rx="6" ry="6" fill="#5c6bc0" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="565" y="395" fill="white" font-size="10" text-anchor="middle" font-weight="bold">App Server</text>

  <!-- Route Table for AZ-b Private -->
  <rect x="640" y="375" width="105" height="36" rx="4" ry="4" fill="rgba(255,255,255,0.06)" stroke="#e0e0e0" stroke-width="0.8"/>
  <text x="692" y="389" fill="#e0e0e0" font-size="8" text-anchor="middle" font-weight="bold">Route Table</text>
  <text x="692" y="403" fill="#b0b0b0" font-size="7.5" text-anchor="middle">0.0.0.0/0 -> NAT GW</text>

  <!-- DB in AZ-b Private -->
  <rect x="540" y="425" width="100" height="32" rx="6" ry="6" fill="#7b1fa2" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="590" y="445" fill="white" font-size="10" text-anchor="middle" font-weight="bold">Database</text>

  <!-- === Traffic Flow Arrows === -->

  <!-- IGW to AZ-a Public (inbound) -->
  <line x1="420" y1="141" x2="280" y2="195" stroke="#34a853" stroke-width="1.5" stroke-dasharray="4 2"/>
  <polygon points="276,190 284,193 279,198" fill="#34a853"/>

  <!-- IGW to AZ-b Public (inbound) -->
  <line x1="480" y1="141" x2="620" y2="195" stroke="#34a853" stroke-width="1.5" stroke-dasharray="4 2"/>
  <polygon points="616,190 624,193 619,198" fill="#34a853"/>

  <!-- AZ-a Private to NAT GW (outbound) -->
  <line x1="225" y1="375" x2="230" y2="262" stroke="#ea4335" stroke-width="1.2" stroke-dasharray="3 2"/>
  <polygon points="225,267 235,267 230,260" fill="#ea4335"/>

  <!-- AZ-a NAT GW to IGW -->
  <line x1="230" y1="230" x2="400" y2="135" stroke="#FF9900" stroke-width="1.2" stroke-dasharray="3 2"/>
  <polygon points="395,132 403,138 397,140" fill="#FF9900"/>

  <!-- AZ-b Private to NAT GW (outbound) -->
  <line x1="565" y1="375" x2="570" y2="262" stroke="#ea4335" stroke-width="1.2" stroke-dasharray="3 2"/>
  <polygon points="565,267 575,267 570,260" fill="#ea4335"/>

  <!-- AZ-b NAT GW to IGW -->
  <line x1="570" y1="230" x2="500" y2="135" stroke="#FF9900" stroke-width="1.2" stroke-dasharray="3 2"/>
  <polygon points="497,132 503,138 505,130" fill="#FF9900"/>

  <!-- Legend -->
  <rect x="120" y="520" width="10" height="10" rx="2" ry="2" fill="#34a853"/>
  <text x="135" y="530" fill="#b0b0b0" font-size="9">Inbound Traffic</text>

  <rect x="250" y="520" width="10" height="10" rx="2" ry="2" fill="#ea4335"/>
  <text x="265" y="530" fill="#b0b0b0" font-size="9">Private Outbound</text>

  <rect x="400" y="520" width="10" height="10" rx="2" ry="2" fill="#FF9900"/>
  <text x="415" y="530" fill="#b0b0b0" font-size="9">NAT to IGW</text>
</svg>