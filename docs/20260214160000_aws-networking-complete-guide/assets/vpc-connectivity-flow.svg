<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550" style="letter-spacing:0">
  <!-- VPC Connectivity Decision Flowchart -->

  <!-- Start node -->
  <rect x="340" y="10" width="220" height="44" rx="22" fill="#FF9900" stroke="#ffffff" stroke-width="1.5"/>
  <text x="450" y="38" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="15" font-weight="bold">VPC接続が必要</text>

  <!-- Arrow: Start → Decision 1 -->
  <line x1="450" y1="54" x2="450" y2="80" stroke="#e0e0e0" stroke-width="2"/>
  <polygon points="445,76 455,76 450,84" fill="#e0e0e0"/>

  <!-- Decision 1: 同一リージョン内? -->
  <polygon points="450,84 570,130 450,176 330,130" fill="none" stroke="#00bcd4" stroke-width="2"/>
  <text x="450" y="126" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13">同一リージョン内?</text>
  <text x="450" y="142" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="11">(Same Region?)</text>

  <!-- Decision 1 → Yes → VPC Peering -->
  <line x1="570" y1="130" x2="730" y2="130" stroke="#34a853" stroke-width="2"/>
  <polygon points="726,125 726,135 734,130" fill="#34a853"/>
  <text x="640" y="120" text-anchor="middle" fill="#34a853" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Yes</text>
  <rect x="736" y="106" width="150" height="48" rx="8" fill="#34a853" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="811" y="127" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">VPC Peering</text>
  <text x="811" y="144" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">低コスト / 高速</text>

  <!-- Decision 1 → No → Decision 2 -->
  <line x1="450" y1="176" x2="450" y2="210" stroke="#e0e0e0" stroke-width="2"/>
  <polygon points="445,206 455,206 450,214" fill="#e0e0e0"/>
  <text x="460" y="198" fill="#ea4335" font-family="Arial, sans-serif" font-size="12" font-weight="bold">No</text>

  <!-- Decision 2: VPC数が多い? -->
  <polygon points="450,214 570,260 450,306 330,260" fill="none" stroke="#1a73e8" stroke-width="2"/>
  <text x="450" y="256" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13">VPC数が多い?</text>
  <text x="450" y="272" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="11">(Many VPCs?)</text>

  <!-- Decision 2 → Yes → Transit Gateway -->
  <line x1="570" y1="260" x2="730" y2="260" stroke="#34a853" stroke-width="2"/>
  <polygon points="726,255 726,265 734,260" fill="#34a853"/>
  <text x="640" y="250" text-anchor="middle" fill="#34a853" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Yes</text>
  <rect x="736" y="236" width="150" height="48" rx="8" fill="#3B48CC" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="811" y="257" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Transit Gateway</text>
  <text x="811" y="274" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">ハブ&amp;スポーク型</text>

  <!-- Decision 2 → No → VPC Peering (cross-region) -->
  <line x1="330" y1="260" x2="170" y2="260" stroke="#ea4335" stroke-width="2"/>
  <polygon points="174,255 174,265 166,260" fill="#ea4335"/>
  <text x="260" y="250" text-anchor="middle" fill="#ea4335" font-family="Arial, sans-serif" font-size="12" font-weight="bold">No</text>
  <rect x="14" y="236" width="154" height="48" rx="8" fill="#34a853" opacity="0.85" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="91" y="255" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">VPC Peering</text>
  <text x="91" y="272" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">(Cross-Region)</text>

  <!-- Arrow: Decision 2 → Decision 3 -->
  <line x1="450" y1="306" x2="450" y2="340" stroke="#e0e0e0" stroke-width="2"/>
  <polygon points="445,336 455,336 450,344" fill="#e0e0e0"/>
  <text x="460" y="328" fill="#ea4335" font-family="Arial, sans-serif" font-size="12" font-weight="bold">No</text>

  <!-- Decision 3: AWSサービスへ接続? -->
  <polygon points="450,344 580,390 450,436 320,390" fill="none" stroke="#9c27b0" stroke-width="2"/>
  <text x="450" y="384" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13">AWSサービスへ</text>
  <text x="450" y="400" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13">プライベート接続?</text>

  <!-- Decision 3 → Yes → Decision 4 -->
  <line x1="580" y1="390" x2="640" y2="390" stroke="#34a853" stroke-width="2"/>
  <text x="604" y="382" text-anchor="middle" fill="#34a853" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Yes</text>

  <!-- Decision 4: S3/DynamoDB? -->
  <polygon points="730,390 820,430 730,470 640,430" fill="none" stroke="#FF9900" stroke-width="2"/>
  <text x="730" y="428" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13">S3 /</text>
  <text x="730" y="444" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13">DynamoDB?</text>

  <!-- Decision 4 → Yes → Gateway Endpoint -->
  <line x1="730" y1="470" x2="730" y2="504" stroke="#34a853" stroke-width="2"/>
  <polygon points="725,500 735,500 730,508" fill="#34a853"/>
  <text x="742" y="492" fill="#34a853" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Yes</text>
  <rect x="640" y="508" width="180" height="40" rx="8" fill="#FF9900" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="730" y="527" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Gateway Endpoint</text>
  <text x="730" y="542" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">無料 / ルートテーブル</text>

  <!-- Decision 4 → No → Interface Endpoint -->
  <line x1="820" y1="430" x2="870" y2="430" stroke="#ea4335" stroke-width="2"/>
  <polygon points="866,425 866,435 874,430" fill="#ea4335"/>
  <text x="844" y="422" text-anchor="middle" fill="#ea4335" font-family="Arial, sans-serif" font-size="12" font-weight="bold">No</text>

  <rect x="718" y="346" width="180" height="40" rx="8" fill="#9c27b0" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="808" y="363" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Interface Endpoint</text>
  <text x="808" y="378" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">(PrivateLink / ENI)</text>

  <!-- Arrow from No to Interface Endpoint box -->
  <line x1="876" y1="430" x2="876" y2="390" stroke="#ea4335" stroke-width="2"/>
  <line x1="876" y1="390" x2="900" y2="390" stroke="#ea4335" stroke-width="2" stroke-dasharray="0"/>
  <line x1="900" y1="390" x2="900" y2="366" stroke="#ea4335" stroke-width="2"/>
  <polygon points="895,370 905,370 900,362" fill="#ea4335"/>

  <!-- Decision 3 → No label -->
  <line x1="320" y1="390" x2="170" y2="390" stroke="#ea4335" stroke-width="2"/>
  <polygon points="174,385 174,395 166,390" fill="#ea4335"/>
  <text x="256" y="382" text-anchor="middle" fill="#ea4335" font-family="Arial, sans-serif" font-size="12" font-weight="bold">No</text>
  <rect x="14" y="366" width="154" height="48" rx="8" fill="#1a73e8" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="91" y="385" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Internet Gateway</text>
  <text x="91" y="402" text-anchor="middle" fill="#e0e0e0" font-family="Arial, sans-serif" font-size="10">/ NAT Gateway</text>
</svg>