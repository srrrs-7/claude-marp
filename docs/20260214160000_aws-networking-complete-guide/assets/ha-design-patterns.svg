<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 520" style="letter-spacing:0;font-family:'Segoe UI',Arial,sans-serif">

  <!-- ============================================ -->
  <!-- Title -->
  <!-- ============================================ -->
  <text x="475" y="28" fill="#ffffff" font-size="16" text-anchor="middle" font-weight="bold">High Availability Design Patterns</text>

  <!-- Column separators (subtle vertical lines) -->
  <line x1="317" y1="45" x2="317" y2="500" stroke="rgba(255,255,255,0.08)" stroke-width="1"/>
  <line x1="634" y1="45" x2="634" y2="500" stroke="rgba(255,255,255,0.08)" stroke-width="1"/>

  <!-- ============================================ -->
  <!-- Pattern 1: DX + VPN Backup (left column)    -->
  <!-- x: 10-307, center: 158                      -->
  <!-- ============================================ -->

  <!-- Pattern 1 Header -->
  <rect x="38" y="48" width="240" height="28" rx="6" ry="6" fill="#3B48CC" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="158" y="67" fill="#ffffff" font-size="12" text-anchor="middle" font-weight="bold">Pattern 1: DX + VPN バックアップ</text>

  <!-- Reliability: 2 stars -->
  <text x="158" y="93" fill="#FF9900" font-size="11" text-anchor="middle">&#9733;&#9733;&#9734; 99.9%</text>
  <text x="158" y="107" fill="#b0b0b0" font-size="10" text-anchor="middle">開発/本番 基本構成</text>

  <!-- AWS VPC box -->
  <rect x="68" y="122" width="180" height="110" rx="8" ry="8" fill="none" stroke="#FF9900" stroke-width="2" stroke-dasharray="6 3"/>
  <text x="78" y="140" fill="#FF9900" font-size="10" font-weight="bold">AWS VPC</text>

  <!-- VGW inside VPC -->
  <rect x="108" y="155" width="100" height="30" rx="6" ry="6" fill="#FF9900" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="158" y="175" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">Virtual Private GW</text>

  <!-- Router icon inside VPC -->
  <rect x="118" y="196" width="80" height="24" rx="4" ry="4" fill="rgba(255,255,255,0.08)" stroke="#e0e0e0" stroke-width="0.8"/>
  <text x="158" y="212" fill="#e0e0e0" font-size="8" text-anchor="middle">Route Table</text>

  <!-- On-premises box -->
  <rect x="78" y="380" width="160" height="60" rx="8" ry="8" fill="#455a64" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="158" y="405" fill="#ffffff" font-size="11" text-anchor="middle" font-weight="bold">On-Premises</text>
  <text x="158" y="420" fill="#b0b0b0" font-size="9" text-anchor="middle">Customer Router</text>

  <!-- Primary DX connection (solid green thick line) -->
  <line x1="130" y1="185" x2="130" y2="380" stroke="#34a853" stroke-width="3.5"/>
  <!-- Arrowhead for DX -->
  <polygon points="125,195 135,195 130,185" fill="#34a853"/>
  <!-- DX label -->
  <rect x="48" y="278" width="72" height="34" rx="4" ry="4" fill="rgba(52,168,83,0.15)" stroke="#34a853" stroke-width="1"/>
  <text x="84" y="293" fill="#34a853" font-size="8" text-anchor="middle" font-weight="bold">Primary</text>
  <text x="84" y="305" fill="#34a853" font-size="8" text-anchor="middle">Direct Connect</text>

  <!-- Backup VPN connection (dashed orange line) -->
  <line x1="186" y1="185" x2="186" y2="380" stroke="#FF9900" stroke-width="2" stroke-dasharray="8 4"/>
  <!-- Arrowhead for VPN -->
  <polygon points="181,195 191,195 186,185" fill="#FF9900"/>
  <!-- VPN label -->
  <rect x="196" y="278" width="72" height="34" rx="4" ry="4" fill="rgba(255,153,0,0.12)" stroke="#FF9900" stroke-width="1"/>
  <text x="232" y="293" fill="#FF9900" font-size="8" text-anchor="middle" font-weight="bold">Backup</text>
  <text x="232" y="305" fill="#FF9900" font-size="8" text-anchor="middle">Site-to-Site VPN</text>

  <!-- Failover arrow indicator -->
  <text x="158" y="355" fill="#e0e0e0" font-size="9" text-anchor="middle">Failover</text>
  <line x1="140" y1="340" x2="176" y2="340" stroke="#e0e0e0" stroke-width="1" stroke-dasharray="3 2"/>
  <polygon points="173,336 179,340 173,344" fill="#e0e0e0"/>

  <!-- ============================================ -->
  <!-- Pattern 2: Dual DX (center column)           -->
  <!-- x: 327-624, center: 475                     -->
  <!-- ============================================ -->

  <!-- Pattern 2 Header -->
  <rect x="355" y="48" width="240" height="28" rx="6" ry="6" fill="#3B48CC" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="475" y="67" fill="#ffffff" font-size="12" text-anchor="middle" font-weight="bold">Pattern 2: デュアル DX</text>

  <!-- Reliability: 3 stars -->
  <text x="475" y="93" fill="#FF9900" font-size="11" text-anchor="middle">&#9733;&#9733;&#9733; 99.99%</text>
  <text x="475" y="107" fill="#b0b0b0" font-size="10" text-anchor="middle">本番 高可用性</text>

  <!-- AWS VPC box -->
  <rect x="385" y="122" width="180" height="80" rx="8" ry="8" fill="none" stroke="#FF9900" stroke-width="2" stroke-dasharray="6 3"/>
  <text x="395" y="140" fill="#FF9900" font-size="10" font-weight="bold">AWS VPC</text>

  <!-- VGW inside VPC -->
  <rect x="425" y="152" width="100" height="30" rx="6" ry="6" fill="#FF9900" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="475" y="172" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">Virtual Private GW</text>

  <!-- DX Location A -->
  <rect x="355" y="240" width="105" height="48" rx="6" ry="6" fill="#1a73e8" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="407" y="261" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">DX ロケーション A</text>
  <text x="407" y="276" fill="rgba(255,255,255,0.7)" font-size="8" text-anchor="middle">at-tokyo-1</text>

  <!-- DX Location B -->
  <rect x="490" y="240" width="105" height="48" rx="6" ry="6" fill="#1a73e8" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="542" y="261" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">DX ロケーション B</text>
  <text x="542" y="276" fill="rgba(255,255,255,0.7)" font-size="8" text-anchor="middle">os-osaka-1</text>

  <!-- On-premises box -->
  <rect x="395" y="380" width="160" height="60" rx="8" ry="8" fill="#455a64" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="475" y="405" fill="#ffffff" font-size="11" text-anchor="middle" font-weight="bold">On-Premises</text>
  <text x="475" y="420" fill="#b0b0b0" font-size="9" text-anchor="middle">Customer Router</text>

  <!-- DX Location A to VPC (solid green) -->
  <line x1="407" y1="240" x2="450" y2="182" stroke="#34a853" stroke-width="3"/>
  <polygon points="445,187 455,187 450,180" fill="#34a853"/>

  <!-- DX Location B to VPC (solid green) -->
  <line x1="542" y1="240" x2="500" y2="182" stroke="#34a853" stroke-width="3"/>
  <polygon points="495,187 505,187 500,180" fill="#34a853"/>

  <!-- On-prem to DX Location A (solid green) -->
  <line x1="440" y1="380" x2="407" y2="288" stroke="#34a853" stroke-width="3"/>
  <polygon points="402,293 412,293 407,286" fill="#34a853"/>

  <!-- On-prem to DX Location B (solid green) -->
  <line x1="510" y1="380" x2="542" y2="288" stroke="#34a853" stroke-width="3"/>
  <polygon points="537,293 547,293 542,286" fill="#34a853"/>

  <!-- Connection labels -->
  <text x="390" y="330" fill="#34a853" font-size="8" text-anchor="middle" font-weight="bold">DX 1</text>
  <text x="560" y="330" fill="#34a853" font-size="8" text-anchor="middle" font-weight="bold">DX 2</text>

  <!-- ============================================ -->
  <!-- Pattern 3: Maximum Resiliency (right column) -->
  <!-- x: 644-940, center: 792                     -->
  <!-- ============================================ -->

  <!-- Pattern 3 Header -->
  <rect x="672" y="48" width="240" height="28" rx="6" ry="6" fill="#9c27b0" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="792" y="67" fill="#ffffff" font-size="12" text-anchor="middle" font-weight="bold">Pattern 3: Maximum Resiliency</text>

  <!-- Reliability: 3 stars + -->
  <text x="792" y="93" fill="#FF9900" font-size="11" text-anchor="middle">&#9733;&#9733;&#9733; 99.999%</text>
  <text x="792" y="107" fill="#b0b0b0" font-size="10" text-anchor="middle">最大回復性 (4接続)</text>

  <!-- AWS Cloud / TGW box -->
  <rect x="702" y="122" width="180" height="80" rx="8" ry="8" fill="none" stroke="#FF9900" stroke-width="2" stroke-dasharray="6 3"/>
  <text x="712" y="140" fill="#FF9900" font-size="10" font-weight="bold">AWS</text>

  <!-- TGW inside -->
  <rect x="732" y="150" width="120" height="34" rx="6" ry="6" fill="#9c27b0" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="792" y="165" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">Transit Gateway</text>
  <text x="792" y="177" fill="rgba(255,255,255,0.7)" font-size="7" text-anchor="middle">(TGW)</text>

  <!-- DX Location A (right column) -->
  <rect x="668" y="240" width="105" height="48" rx="6" ry="6" fill="#1a73e8" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="720" y="261" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">DX ロケーション A</text>
  <text x="720" y="276" fill="rgba(255,255,255,0.7)" font-size="8" text-anchor="middle">at-tokyo-1</text>

  <!-- DX Location B (right column) -->
  <rect x="810" y="240" width="105" height="48" rx="6" ry="6" fill="#1a73e8" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="862" y="261" fill="#ffffff" font-size="9" text-anchor="middle" font-weight="bold">DX ロケーション B</text>
  <text x="862" y="276" fill="rgba(255,255,255,0.7)" font-size="8" text-anchor="middle">os-osaka-1</text>

  <!-- On-premises box -->
  <rect x="712" y="380" width="160" height="60" rx="8" ry="8" fill="#455a64" style="filter: drop-shadow(2px 2px 3px rgba(0,0,0,0.3))"/>
  <text x="792" y="405" fill="#ffffff" font-size="11" text-anchor="middle" font-weight="bold">On-Premises</text>
  <text x="792" y="420" fill="#b0b0b0" font-size="9" text-anchor="middle">Customer Router x 2</text>

  <!-- DX Location A to TGW (2 connections) -->
  <line x1="710" y1="240" x2="762" y2="184" stroke="#34a853" stroke-width="2.5"/>
  <polygon points="758,189 766,189 762,182" fill="#34a853"/>
  <line x1="730" y1="240" x2="775" y2="184" stroke="#00bcd4" stroke-width="2.5"/>
  <polygon points="771,189 779,189 775,182" fill="#00bcd4"/>

  <!-- DX Location B to TGW (2 connections) -->
  <line x1="852" y1="240" x2="810" y2="184" stroke="#34a853" stroke-width="2.5"/>
  <polygon points="806,189 814,189 810,182" fill="#34a853"/>
  <line x1="872" y1="240" x2="822" y2="184" stroke="#00bcd4" stroke-width="2.5"/>
  <polygon points="818,189 826,189 822,182" fill="#00bcd4"/>

  <!-- On-prem to DX Location A (2 connections) -->
  <line x1="755" y1="380" x2="710" y2="288" stroke="#34a853" stroke-width="2.5"/>
  <polygon points="706,293 714,293 710,286" fill="#34a853"/>
  <line x1="770" y1="380" x2="730" y2="288" stroke="#00bcd4" stroke-width="2.5"/>
  <polygon points="726,293 734,293 730,286" fill="#00bcd4"/>

  <!-- On-prem to DX Location B (2 connections) -->
  <line x1="815" y1="380" x2="852" y2="288" stroke="#34a853" stroke-width="2.5"/>
  <polygon points="848,293 856,293 852,286" fill="#34a853"/>
  <line x1="830" y1="380" x2="872" y2="288" stroke="#00bcd4" stroke-width="2.5"/>
  <polygon points="868,293 876,293 872,286" fill="#00bcd4"/>

  <!-- Connection count labels -->
  <text x="690" y="332" fill="#34a853" font-size="7.5" text-anchor="middle" font-weight="bold">DX 1a</text>
  <text x="740" y="348" fill="#00bcd4" font-size="7.5" text-anchor="middle" font-weight="bold">DX 1b</text>
  <text x="852" y="332" fill="#34a853" font-size="7.5" text-anchor="middle" font-weight="bold">DX 2a</text>
  <text x="890" y="348" fill="#00bcd4" font-size="7.5" text-anchor="middle" font-weight="bold">DX 2b</text>

  <!-- ============================================ -->
  <!-- Bottom Legend                                 -->
  <!-- ============================================ -->
  <rect x="10" y="462" width="930" height="52" rx="6" ry="6" fill="rgba(255,255,255,0.04)" stroke="rgba(255,255,255,0.1)" stroke-width="0.8"/>

  <!-- Legend items -->
  <line x1="30" y1="483" x2="60" y2="483" stroke="#34a853" stroke-width="3"/>
  <text x="68" y="487" fill="#e0e0e0" font-size="9">Direct Connect (Primary)</text>

  <line x1="220" y1="483" x2="250" y2="483" stroke="#FF9900" stroke-width="2" stroke-dasharray="8 4"/>
  <text x="258" y="487" fill="#e0e0e0" font-size="9">Site-to-Site VPN (Backup)</text>

  <line x1="440" y1="483" x2="470" y2="483" stroke="#00bcd4" stroke-width="2.5"/>
  <text x="478" y="487" fill="#e0e0e0" font-size="9">Redundant DX (Secondary)</text>

  <rect x="660" y="476" width="14" height="14" rx="3" ry="3" fill="#1a73e8" style="filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.2))"/>
  <text x="682" y="487" fill="#e0e0e0" font-size="9">DX Location</text>

  <!-- Cost indicator -->
  <text x="30" y="505" fill="#b0b0b0" font-size="8.5">Cost:</text>
  <text x="62" y="505" fill="#34a853" font-size="8.5">$ Low</text>
  <text x="260" y="505" fill="#FF9900" font-size="8.5">$$ Medium</text>
  <text x="490" y="505" fill="#ea4335" font-size="8.5">$$$ High</text>

  <!-- SLA note -->
  <text x="880" y="505" fill="rgba(255,255,255,0.4)" font-size="7.5" text-anchor="end">Based on AWS DX SLA</text>

</svg>