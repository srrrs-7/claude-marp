<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="500" fill="#0f172a"/>

  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" fill="#f1f5f9" font-size="16" font-weight="bold" font-family="sans-serif">Real-Time Inference エンドポイント構成</text>

  <!-- Client -->
  <rect x="20" y="200" width="100" height="60" rx="8" fill="#1e293b" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5))"/>
  <text x="70" y="226" text-anchor="middle" fill="#f1f5f9" font-size="11" font-family="sans-serif">Client</text>
  <text x="70" y="244" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">アプリ</text>

  <!-- Arrow Client → API Gateway -->
  <line x1="120" y1="230" x2="158" y2="230" stroke="#3b82f6" stroke-width="2"/>
  <polygon points="158,225 168,230 158,235" fill="#3b82f6"/>
  <text x="139" y="222" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">HTTPS</text>

  <!-- API Gateway (optional) -->
  <rect x="168" y="200" width="110" height="60" rx="8" fill="#1e293b" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5))"/>
  <text x="223" y="226" text-anchor="middle" fill="#f97316" font-size="11" font-family="sans-serif">API Gateway</text>
  <text x="223" y="244" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">(optional)</text>

  <!-- Arrow to SageMaker Endpoint -->
  <line x1="278" y1="230" x2="316" y2="230" stroke="#3b82f6" stroke-width="2"/>
  <polygon points="316,225 326,230 316,235" fill="#3b82f6"/>

  <!-- SageMaker Endpoint box -->
  <rect x="326" y="130" width="540" height="320" rx="10" fill="#1e293b" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5))"/>
  <text x="596" y="158" text-anchor="middle" fill="#22c55e" font-size="14" font-weight="bold" font-family="sans-serif">SageMaker Endpoint (HTTPS)</text>

  <!-- Endpoint Config -->
  <rect x="340" y="168" width="510" height="35" rx="6" fill="#0f172a"/>
  <text x="595" y="183" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">Endpoint Config: Variant weights, Instance type, Model artifacts</text>
  <text x="595" y="197" text-anchor="middle" fill="#64748b" font-size="9" font-family="sans-serif">エンドポイント設定</text>

  <!-- Load Balancer -->
  <rect x="490" y="212" width="110" height="40" rx="6" fill="#14b8a6"/>
  <text x="545" y="230" text-anchor="middle" fill="#fff" font-size="11" font-family="sans-serif">Load Balancer</text>
  <text x="545" y="246" text-anchor="middle" fill="#e0f2f1" font-size="9" font-family="sans-serif">ロードバランサー</text>

  <!-- Arrow to Variant 1 -->
  <line x1="490" y1="232" x2="420" y2="280" stroke="#22c55e" stroke-width="2"/>
  <polygon points="416,277 420,290 426,279" fill="#22c55e"/>
  <text x="430" y="260" text-anchor="middle" fill="#22c55e" font-size="10" font-family="sans-serif">90%</text>

  <!-- Arrow to Variant 2 -->
  <line x1="600" y1="252" x2="660" y2="280" stroke="#f97316" stroke-width="2"/>
  <polygon points="656,277 660,290 666,279" fill="#f97316"/>
  <text x="650" y="268" text-anchor="middle" fill="#f97316" font-size="10" font-family="sans-serif">10%</text>

  <!-- Production Variant 1 -->
  <rect x="340" y="288" width="230" height="100" rx="8" fill="#0f172a"/>
  <text x="455" y="310" text-anchor="middle" fill="#22c55e" font-size="12" font-weight="bold" font-family="sans-serif">Primary Variant (90%)</text>
  <rect x="355" y="320" width="90" height="30" rx="4" fill="#1e293b"/>
  <text x="400" y="337" text-anchor="middle" fill="#f1f5f9" font-size="10" font-family="sans-serif">Container</text>
  <rect x="455" y="320" width="90" height="30" rx="4" fill="#1e293b"/>
  <text x="500" y="337" text-anchor="middle" fill="#f1f5f9" font-size="10" font-family="sans-serif">Container</text>
  <text x="455" y="378" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">ml.m5.xlarge × 2</text>

  <!-- Production Variant 2 -->
  <rect x="590" y="288" width="260" height="100" rx="8" fill="#0f172a"/>
  <text x="720" y="310" text-anchor="middle" fill="#f97316" font-size="12" font-weight="bold" font-family="sans-serif">Shadow / Canary Variant (10%)</text>
  <rect x="608" y="320" width="100" height="30" rx="4" fill="#1e293b"/>
  <text x="658" y="337" text-anchor="middle" fill="#f1f5f9" font-size="10" font-family="sans-serif">Container</text>
  <text x="720" y="378" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">ml.m5.xlarge × 1</text>

  <!-- Auto Scaling badge -->
  <rect x="340" y="400" width="230" height="30" rx="5" fill="#3b82f6" opacity="0.3"/>
  <text x="455" y="418" text-anchor="middle" fill="#3b82f6" font-size="10" font-family="sans-serif">Application Auto Scaling</text>

  <!-- CloudWatch badge -->
  <rect x="590" y="400" width="140" height="30" rx="5" fill="#22c55e" opacity="0.3"/>
  <text x="660" y="418" text-anchor="middle" fill="#22c55e" font-size="10" font-family="sans-serif">CloudWatch Metrics</text>

  <!-- VPC Endpoint option -->
  <rect x="740" y="400" width="110" height="30" rx="5" fill="#a855f7" opacity="0.3"/>
  <text x="795" y="415" text-anchor="middle" fill="#a855f7" font-size="10" font-family="sans-serif">VPC Endpoint</text>
  <text x="795" y="426" text-anchor="middle" fill="#a855f7" font-size="9" font-family="sans-serif">(Private)</text>

  <!-- Legend -->
  <text x="20" y="460" fill="#94a3b8" font-size="10" font-family="sans-serif">* Blue-green/Canary デプロイ対応 | Auto Scaling: InvocationsPerInstance ベース</text>
</svg>
