<svg viewBox="0 0 900 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="500" fill="#0f172a"/>
  <text x="450" y="26" text-anchor="middle" fill="#f1f5f9" font-size="16" font-weight="bold" font-family="sans-serif">ハイブリッド Edge + Cloud 推論</text>

  <!-- Cloud section (left half) -->
  <rect x="15" y="38" width="410" height="295" rx="10" fill="#0d1b2e" stroke="#3b82f6" stroke-width="2"/>
  <text x="220" y="58" text-anchor="middle" fill="#3b82f6" font-size="13" font-weight="bold" font-family="sans-serif">AWS Cloud</text>

  <!-- SageMaker Training -->
  <rect x="30" y="68" width="155" height="50" rx="8" fill="#1e293b" stroke="#a855f7" stroke-width="1.5"/>
  <text x="107" y="89" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">SageMaker Training</text>
  <text x="107" y="105" text-anchor="middle" fill="#a855f7" font-size="9" font-weight="bold" font-family="sans-serif">モデル学習</text>

  <line x1="185" y1="93" x2="215" y2="93" stroke="#a855f7" stroke-width="2"/>
  <polygon points="215,89 223,93 215,97" fill="#a855f7"/>

  <!-- Neo Compilation -->
  <rect x="223" y="68" width="145" height="50" rx="8" fill="#1e293b" stroke="#f97316" stroke-width="1.5"/>
  <text x="295" y="89" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">Neo Compilation</text>
  <text x="295" y="103" text-anchor="middle" fill="#f97316" font-size="9" font-weight="bold" font-family="sans-serif">エッジ最適化コンパイル</text>

  <!-- Edge Manager Fleet -->
  <rect x="30" y="145" width="365" height="75" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="1.5"/>
  <text x="212" y="166" text-anchor="middle" fill="#22c55e" font-size="11" font-weight="bold" font-family="sans-serif">Edge Manager — フリート管理</text>
  <rect x="42" y="175" width="105" height="35" rx="6" fill="#0f172a"/>
  <text x="94" y="191" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">デバイス登録</text>
  <text x="94" y="204" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">フリート管理</text>
  <rect x="157" y="175" width="105" height="35" rx="6" fill="#0f172a"/>
  <text x="209" y="191" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">OTA 更新</text>
  <text x="209" y="204" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">モデル配信</text>
  <rect x="272" y="175" width="113" height="35" rx="6" fill="#0f172a"/>
  <text x="328" y="191" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">メトリクス収集</text>
  <text x="328" y="204" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">パフォーマンス監視</text>

  <!-- S3 / IoT Greengrass -->
  <rect x="30" y="240" width="170" height="50" rx="8" fill="#1e293b" stroke="#14b8a6" stroke-width="1.5"/>
  <text x="115" y="261" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">IoT Greengrass</text>
  <text x="115" y="277" text-anchor="middle" fill="#14b8a6" font-size="9" font-weight="bold" font-family="sans-serif">エッジデータ集約</text>

  <rect x="215" y="240" width="170" height="50" rx="8" fill="#1e293b" stroke="#14b8a6" stroke-width="1.5"/>
  <text x="300" y="261" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">S3 Data Store</text>
  <text x="300" y="277" text-anchor="middle" fill="#14b8a6" font-size="9" font-weight="bold" font-family="sans-serif">収集データ保存</text>

  <!-- Neo arrow down -->
  <line x1="295" y1="118" x2="295" y2="145" stroke="#f97316" stroke-width="2"/>
  <polygon points="291,145 295,153 299,145" fill="#f97316"/>

  <!-- Edge section (right half) -->
  <rect x="445" y="38" width="440" height="295" rx="10" fill="#0d1b2e" stroke="#f97316" stroke-width="2"/>
  <text x="665" y="58" text-anchor="middle" fill="#f97316" font-size="13" font-weight="bold" font-family="sans-serif">Edge デバイス (工場/店舗/車両)</text>

  <!-- Edge Manager Agent -->
  <rect x="460" y="68" width="170" height="55" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="1.5"/>
  <text x="545" y="89" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">Edge Manager Agent</text>
  <text x="545" y="105" text-anchor="middle" fill="#22c55e" font-size="9" font-weight="bold" font-family="sans-serif">Compiled Model 実行</text>
  <text x="545" y="119" text-anchor="middle" fill="#94a3b8" font-size="8" font-family="sans-serif">オフライン推論可能</text>

  <!-- Compiled Model -->
  <rect x="650" y="68" width="215" height="55" rx="8" fill="#1e293b" stroke="#a855f7" stroke-width="1.5"/>
  <text x="757" y="89" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">Compiled Model</text>
  <text x="757" y="105" text-anchor="middle" fill="#a855f7" font-size="9" font-weight="bold" font-family="sans-serif">Neo最適化済みアーティファクト</text>
  <text x="757" y="119" text-anchor="middle" fill="#94a3b8" font-size="8" font-family="sans-serif">TensorRT / TFLite / ONNX</text>

  <line x1="630" y1="95" x2="650" y2="95" stroke="#22c55e" stroke-width="2"/>
  <polygon points="650,91 658,95 650,99" fill="#22c55e"/>

  <!-- Local inference result -->
  <rect x="460" y="150" width="400" height="55" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="660" y="170" text-anchor="middle" fill="#3b82f6" font-size="11" font-weight="bold" font-family="sans-serif">ローカル推論結果</text>
  <text x="660" y="190" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">低レイテンシ (&lt;10ms) / オフライン対応 / 帯域節約</text>

  <line x1="545" y1="123" x2="545" y2="150" stroke="#22c55e" stroke-width="1.5"/>
  <polygon points="541,150 545,158 549,150" fill="#22c55e"/>

  <!-- Data capture -->
  <rect x="460" y="230" width="185" height="50" rx="8" fill="#1e293b" stroke="#14b8a6" stroke-width="1.5"/>
  <text x="552" y="251" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">Data Capture</text>
  <text x="552" y="267" text-anchor="middle" fill="#14b8a6" font-size="9" font-weight="bold" font-family="sans-serif">エッジイベント記録</text>

  <rect x="660" y="230" width="185" height="50" rx="8" fill="#1e293b" stroke="#14b8a6" stroke-width="1.5"/>
  <text x="752" y="251" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">IoT Greengrass</text>
  <text x="752" y="267" text-anchor="middle" fill="#14b8a6" font-size="9" font-weight="bold" font-family="sans-serif">→ S3 同期</text>

  <!-- Decision Logic box -->
  <rect x="15" y="345" width="870" height="140" rx="10" fill="#1e293b"/>
  <text x="450" y="366" text-anchor="middle" fill="#fbbf24" font-size="13" font-weight="bold" font-family="sans-serif">判定ロジック — Edge vs Cloud ルーティング</text>

  <rect x="25" y="378" width="270" height="97" rx="8" fill="#0f172a"/>
  <text x="160" y="397" text-anchor="middle" fill="#22c55e" font-size="11" font-weight="bold" font-family="sans-serif">Edge で処理</text>
  <text x="35" y="415" fill="#94a3b8" font-size="10" font-family="sans-serif">単純/低レイテンシ要求の予測</text>
  <text x="35" y="430" fill="#94a3b8" font-size="10" font-family="sans-serif">ネットワーク切断時</text>
  <text x="35" y="445" fill="#94a3b8" font-size="10" font-family="sans-serif">機密データ (オフプレミス禁止)</text>
  <text x="35" y="460" fill="#94a3b8" font-size="10" font-family="sans-serif">高頻度・低コスト要件</text>

  <rect x="310" y="378" width="270" height="97" rx="8" fill="#0f172a"/>
  <text x="445" y="397" text-anchor="middle" fill="#3b82f6" font-size="11" font-weight="bold" font-family="sans-serif">Cloud へフォールバック</text>
  <text x="320" y="415" fill="#94a3b8" font-size="10" font-family="sans-serif">高精度要求の複雑な推論</text>
  <text x="320" y="430" fill="#94a3b8" font-size="10" font-family="sans-serif">信頼スコア低 (不確実な予測)</text>
  <text x="320" y="445" fill="#94a3b8" font-size="10" font-family="sans-serif">大規模FMの呼び出し</text>
  <text x="320" y="460" fill="#94a3b8" font-size="10" font-family="sans-serif">バッチ処理・再学習</text>

  <rect x="595" y="378" width="290" height="97" rx="8" fill="#0f172a"/>
  <text x="740" y="397" text-anchor="middle" fill="#f97316" font-size="11" font-weight="bold" font-family="sans-serif">帯域最適化のメリット</text>
  <text x="605" y="415" fill="#94a3b8" font-size="10" font-family="sans-serif">Edge不確実ケースのみ Cloud送信</text>
  <text x="605" y="430" fill="#94a3b8" font-size="10" font-family="sans-serif">→ データ転送コスト最大90%削減</text>
  <text x="605" y="445" fill="#94a3b8" font-size="10" font-family="sans-serif">→ レイテンシ改善 (常時接続不要)</text>
  <text x="605" y="460" fill="#94a3b8" font-size="10" font-family="sans-serif">→ プライバシー強化</text>

  <!-- Arrow between cloud and edge -->
  <line x1="425" y1="200" x2="445" y2="200" stroke="#334155" stroke-width="2" stroke-dasharray="4,3"/>
  <polygon points="445,196 453,200 445,204" fill="#334155"/>
  <text x="435" y="192" text-anchor="middle" fill="#94a3b8" font-size="8" font-family="sans-serif">OTA/API</text>
</svg>
