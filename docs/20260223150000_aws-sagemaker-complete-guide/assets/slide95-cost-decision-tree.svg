<svg viewBox="0 0 900 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0" xmlns="http://www.w3.org/2000/svg">
  <rect width="900" height="500" fill="#0f172a"/>
  <text x="450" y="26" text-anchor="middle" fill="#f1f5f9" font-size="16" font-weight="bold" font-family="sans-serif">コスト最適化デシジョンツリー</text>

  <!-- Root -->
  <rect x="330" y="38" width="240" height="36" rx="18" fill="#3b82f6"/>
  <text x="450" y="61" text-anchor="middle" fill="#f1f5f9" font-size="13" font-weight="bold" font-family="sans-serif">何を最適化したいか？</text>

  <!-- Branch connectors from root -->
  <line x1="380" y1="74" x2="160" y2="105" stroke="#475569" stroke-width="1.5"/>
  <line x1="450" y1="74" x2="450" y2="105" stroke="#475569" stroke-width="1.5"/>
  <line x1="520" y1="74" x2="740" y2="105" stroke="#475569" stroke-width="1.5"/>

  <!-- Branch 1: Training -->
  <rect x="60" y="105" width="200" height="32" rx="16" fill="#a855f7"/>
  <text x="160" y="125" text-anchor="middle" fill="#f1f5f9" font-size="12" font-weight="bold" font-family="sans-serif">トレーニング</text>

  <!-- Training sub-branches -->
  <line x1="100" y1="137" x2="80" y2="160" stroke="#475569" stroke-width="1.5"/>
  <line x1="160" y1="137" x2="160" y2="160" stroke="#475569" stroke-width="1.5"/>
  <line x1="220" y1="137" x2="240" y2="160" stroke="#475569" stroke-width="1.5"/>

  <rect x="25" y="160" width="115" height="42" rx="6" fill="#1e293b" stroke="#a855f7" stroke-width="1"/>
  <text x="82" y="177" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">長いジョブ?</text>
  <text x="82" y="195" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">Spot + Checkpoint</text>

  <rect x="100" y="160" width="115" height="42" rx="6" fill="#1e293b" stroke="#a855f7" stroke-width="1"/>
  <text x="157" y="177" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">同データ反復?</text>
  <text x="157" y="195" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">Pipe Mode</text>

  <rect x="180" y="160" width="115" height="42" rx="6" fill="#1e293b" stroke="#a855f7" stroke-width="1"/>
  <text x="237" y="177" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">複数設定?</text>
  <text x="237" y="195" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">HPT+早期終了</text>

  <!-- Branch 2: Inference -->
  <rect x="350" y="105" width="200" height="32" rx="16" fill="#3b82f6"/>
  <text x="450" y="125" text-anchor="middle" fill="#f1f5f9" font-size="12" font-weight="bold" font-family="sans-serif">推論</text>

  <!-- Inference sub-tree -->
  <line x1="450" y1="137" x2="450" y2="160" stroke="#475569" stroke-width="1.5"/>
  <rect x="350" y="160" width="200" height="32" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="450" y="180" text-anchor="middle" fill="#94a3b8" font-size="11" font-family="sans-serif">トラフィックパターン?</text>

  <line x1="370" y1="192" x2="320" y2="218" stroke="#475569" stroke-width="1.5"/>
  <line x1="410" y1="192" x2="400" y2="218" stroke="#475569" stroke-width="1.5"/>
  <line x1="490" y1="192" x2="500" y2="218" stroke="#475569" stroke-width="1.5"/>
  <line x1="530" y1="192" x2="580" y2="218" stroke="#475569" stroke-width="1.5"/>

  <rect x="270" y="218" width="105" height="52" rx="6" fill="#1e293b" stroke="#3b82f6" stroke-width="1"/>
  <text x="322" y="234" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">常時高頻度</text>
  <text x="322" y="248" text-anchor="middle" fill="#3b82f6" font-size="10" font-weight="bold" font-family="sans-serif">Real-time</text>
  <text x="322" y="262" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">+ Savings Plans</text>

  <rect x="355" y="218" width="95" height="52" rx="6" fill="#1e293b" stroke="#22c55e" stroke-width="1"/>
  <text x="402" y="234" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">間欠的</text>
  <text x="402" y="248" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">Serverless</text>
  <text x="402" y="262" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">スケールゼロ</text>

  <rect x="458" y="218" width="90" height="52" rx="6" fill="#1e293b" stroke="#f97316" stroke-width="1"/>
  <text x="503" y="234" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">大ペイロード</text>
  <text x="503" y="248" text-anchor="middle" fill="#f97316" font-size="10" font-weight="bold" font-family="sans-serif">Async</text>
  <text x="503" y="262" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">+ Spot Option</text>

  <rect x="556" y="218" width="90" height="52" rx="6" fill="#1e293b" stroke="#a855f7" stroke-width="1"/>
  <text x="601" y="234" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">バッチオフライン</text>
  <text x="601" y="248" text-anchor="middle" fill="#a855f7" font-size="10" font-weight="bold" font-family="sans-serif">Batch Transform</text>
  <text x="601" y="262" text-anchor="middle" fill="#22c55e" font-size="9" font-family="sans-serif">+ Spot Option</text>

  <!-- Branch 3: Studio/Dev -->
  <rect x="640" y="105" width="200" height="32" rx="16" fill="#14b8a6"/>
  <text x="740" y="125" text-anchor="middle" fill="#f1f5f9" font-size="12" font-weight="bold" font-family="sans-serif">Studio / 開発環境</text>

  <line x1="700" y1="137" x2="680" y2="160" stroke="#475569" stroke-width="1.5"/>
  <line x1="780" y1="137" x2="800" y2="160" stroke="#475569" stroke-width="1.5"/>

  <rect x="615" y="160" width="130" height="42" rx="6" fill="#1e293b" stroke="#14b8a6" stroke-width="1"/>
  <text x="680" y="177" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">アイドル停止</text>
  <text x="680" y="195" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">アイドルタイムアウト</text>

  <rect x="755" y="160" width="130" height="42" rx="6" fill="#1e293b" stroke="#14b8a6" stroke-width="1"/>
  <text x="820" y="177" text-anchor="middle" fill="#94a3b8" font-size="10" font-family="sans-serif">開発はCPU</text>
  <text x="820" y="195" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">GPUは学習のみ</text>

  <!-- Summary recommendations at bottom -->
  <rect x="25" y="295" width="850" height="185" rx="8" fill="#1e293b"/>
  <text x="450" y="316" text-anchor="middle" fill="#f97316" font-size="13" font-weight="bold" font-family="sans-serif">コスト最適化 優先度ガイド</text>

  <!-- Grid layout -->
  <rect x="35" y="325" width="193" height="145" rx="6" fill="#0f172a"/>
  <text x="131" y="343" text-anchor="middle" fill="#a855f7" font-size="11" font-weight="bold" font-family="sans-serif">高インパクト施策</text>
  <text x="45" y="361" fill="#94a3b8" font-size="10" font-family="sans-serif">Spot Training</text>
  <text x="200" y="361" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">〜70%削減</text>
  <text x="45" y="378" fill="#94a3b8" font-size="10" font-family="sans-serif">Serverless推論</text>
  <text x="200" y="378" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">〜80%削減*</text>
  <text x="45" y="395" fill="#94a3b8" font-size="10" font-family="sans-serif">Savings Plans (3yr)</text>
  <text x="200" y="395" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">〜64%割引</text>
  <text x="45" y="412" fill="#94a3b8" font-size="10" font-family="sans-serif">Spot Inference</text>
  <text x="200" y="412" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">〜70%削減</text>
  <text x="45" y="455" fill="#475569" font-size="9" font-family="sans-serif">* 低頻度時 vs 常時稼働比</text>

  <rect x="238" y="325" width="193" height="145" rx="6" fill="#0f172a"/>
  <text x="334" y="343" text-anchor="middle" fill="#3b82f6" font-size="11" font-weight="bold" font-family="sans-serif">クイックウィン</text>
  <text x="248" y="361" fill="#94a3b8" font-size="10" font-family="sans-serif">Studio アイドル停止</text>
  <text x="403" y="361" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">即効性あり</text>
  <text x="248" y="378" fill="#94a3b8" font-size="10" font-family="sans-serif">Inf Recommender活用</text>
  <text x="403" y="378" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">最適インスタンス</text>
  <text x="248" y="395" fill="#94a3b8" font-size="10" font-family="sans-serif">MME/MCEで統合</text>
  <text x="403" y="395" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">エンドポイント削減</text>
  <text x="248" y="412" fill="#94a3b8" font-size="10" font-family="sans-serif">AutoScaling min=0</text>
  <text x="403" y="412" text-anchor="end" fill="#22c55e" font-size="10" font-family="sans-serif">深夜0インスタンス</text>

  <rect x="441" y="325" width="200" height="145" rx="6" fill="#0f172a"/>
  <text x="541" y="343" text-anchor="middle" fill="#14b8a6" font-size="11" font-weight="bold" font-family="sans-serif">モニタリング指標</text>
  <text x="451" y="361" fill="#94a3b8" font-size="10" font-family="sans-serif">CPU/GPU使用率</text>
  <text x="451" y="378" fill="#94a3b8" font-size="10" font-family="sans-serif">InvocationsPerInstance</text>
  <text x="451" y="395" fill="#94a3b8" font-size="10" font-family="sans-serif">エンドポイント稼働時間</text>
  <text x="451" y="412" fill="#94a3b8" font-size="10" font-family="sans-serif">Storage増加率</text>
  <text x="451" y="429" fill="#3b82f6" font-size="10" font-family="sans-serif">→ Cost Explorer で可視化</text>

  <rect x="651" y="325" width="214" height="145" rx="6" fill="#0f172a"/>
  <text x="758" y="343" text-anchor="middle" fill="#f97316" font-size="11" font-weight="bold" font-family="sans-serif">NG パターン</text>
  <text x="661" y="361" fill="#ef4444" font-size="10" font-family="sans-serif">GPU で開発 (高コスト)</text>
  <text x="661" y="378" fill="#ef4444" font-size="10" font-family="sans-serif">Spot+チェックポイント無し</text>
  <text x="661" y="395" fill="#ef4444" font-size="10" font-family="sans-serif">常時RT (低頻度 &lt;1K/日)</text>
  <text x="661" y="412" fill="#ef4444" font-size="10" font-family="sans-serif">Studio放置 (EFS蓄積)</text>
  <text x="661" y="429" fill="#ef4444" font-size="10" font-family="sans-serif">過剰なインスタンスサイズ</text>
</svg>
