<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="500" fill="#0f172a"/>

  <!-- Title -->
  <text x="450" y="28" text-anchor="middle" fill="#f1f5f9" font-size="14" font-weight="bold" font-family="sans-serif">Ground Truth ラベリングパイプライン</text>

  <!-- Main pipeline (top path) -->

  <!-- Step 1: Raw Data -->
  <rect x="20" y="60" width="110" height="70" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <text x="75" y="88" text-anchor="middle" fill="#3b82f6" font-size="11" font-weight="bold" font-family="sans-serif">Raw Data</text>
  <text x="75" y="104" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">Amazon S3</text>
  <text x="75" y="119" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">未ラベルデータ</text>

  <line x1="130" y1="95" x2="168" y2="95" stroke="#3b82f6" stroke-width="2"/>
  <polygon points="168,90 180,95 168,100" fill="#3b82f6"/>

  <!-- Step 2: Labeling Job -->
  <rect x="180" y="60" width="120" height="70" rx="8" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
  <text x="240" y="84" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">Labeling Job</text>
  <text x="240" y="100" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">定義・設定</text>
  <text x="240" y="115" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">タスクテンプレート</text>

  <line x1="300" y1="95" x2="338" y2="95" stroke="#22c55e" stroke-width="2"/>
  <polygon points="338,90 350,95 338,100" fill="#22c55e"/>

  <!-- Step 3: Workforce Selection -->
  <rect x="350" y="42" width="150" height="120" rx="8" fill="#1e293b" stroke="#f97316" stroke-width="2"/>
  <text x="425" y="64" text-anchor="middle" fill="#f97316" font-size="11" font-weight="bold" font-family="sans-serif">Workforce 選択</text>
  <!-- Option 1 -->
  <rect x="360" y="74" width="130" height="26" rx="4" fill="#0f172a" stroke="#f97316" stroke-width="1"/>
  <text x="425" y="91" text-anchor="middle" fill="#f1f5f9" font-size="9" font-family="sans-serif">Mechanical Turk (一般公開)</text>
  <!-- Option 2 -->
  <rect x="360" y="104" width="130" height="26" rx="4" fill="#0f172a" stroke="#f97316" stroke-width="1"/>
  <text x="425" y="121" text-anchor="middle" fill="#f1f5f9" font-size="9" font-family="sans-serif">Private Team (社内)</text>
  <!-- Option 3 -->
  <rect x="360" y="134" width="130" height="22" rx="4" fill="#0f172a" stroke="#f97316" stroke-width="1"/>
  <text x="425" y="149" text-anchor="middle" fill="#f1f5f9" font-size="9" font-family="sans-serif">Marketplace Vendor</text>

  <line x1="500" y1="102" x2="538" y2="102" stroke="#f97316" stroke-width="2"/>
  <polygon points="538,97 550,102 538,107" fill="#f97316"/>

  <!-- Step 4: Human Review -->
  <rect x="550" y="60" width="110" height="70" rx="8" fill="#1e293b" stroke="#a855f7" stroke-width="2"/>
  <text x="605" y="88" text-anchor="middle" fill="#a855f7" font-size="11" font-weight="bold" font-family="sans-serif">Human Review</text>
  <text x="605" y="104" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">アノテーション UI</text>
  <text x="605" y="119" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">複数人でレビュー</text>

  <line x1="660" y1="95" x2="698" y2="95" stroke="#a855f7" stroke-width="2"/>
  <polygon points="698,90 710,95 698,100" fill="#a855f7"/>

  <!-- Step 5: Annotation Consolidation -->
  <rect x="710" y="55" width="120" height="80" rx="8" fill="#1e293b" stroke="#14b8a6" stroke-width="2"/>
  <text x="770" y="78" text-anchor="middle" fill="#14b8a6" font-size="10" font-weight="bold" font-family="sans-serif">アノテーション</text>
  <text x="770" y="93" text-anchor="middle" fill="#14b8a6" font-size="10" font-weight="bold" font-family="sans-serif">統合</text>
  <text x="770" y="111" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">Consolidation</text>
  <text x="770" y="126" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">信頼スコア算出</text>

  <!-- Labeled Dataset -->
  <line x1="830" y1="95" x2="860" y2="95" stroke="#14b8a6" stroke-width="2"/>
  <polygon points="860,90 872,95 860,100" fill="#14b8a6"/>

  <rect x="830" y="60" width="60" height="70" rx="8" fill="#14532d" stroke="#22c55e" stroke-width="2"/>
  <text x="860" y="86" text-anchor="middle" fill="#22c55e" font-size="9" font-weight="bold" font-family="sans-serif">Labeled</text>
  <text x="860" y="100" text-anchor="middle" fill="#22c55e" font-size="9" font-weight="bold" font-family="sans-serif">Dataset</text>
  <text x="860" y="116" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">S3 保存</text>

  <!-- To Training -->
  <line x1="860" y1="130" x2="860" y2="165" stroke="#22c55e" stroke-width="2"/>
  <polygon points="855,165 860,177 865,165" fill="#22c55e"/>
  <rect x="800" y="177" width="120" height="40" rx="6" fill="#1e293b" stroke="#22c55e" stroke-width="1.5"/>
  <text x="860" y="196" text-anchor="middle" fill="#22c55e" font-size="11" font-weight="bold" font-family="sans-serif">Training Job</text>
  <text x="860" y="211" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">SageMaker 学習</text>

  <!-- Auto-labeling loop section -->
  <rect x="20" y="240" width="860" height="230" rx="10" fill="#1e293b" stroke="#f97316" stroke-width="1.5" stroke-dasharray="6,4"/>
  <text x="450" y="263" text-anchor="middle" fill="#f97316" font-size="12" font-weight="bold" font-family="sans-serif">Auto-Labeling ループ (コスト削減)</text>

  <!-- Partial labels -->
  <rect x="50" y="280" width="130" height="60" rx="6" fill="#0f172a" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="115" y="305" text-anchor="middle" fill="#3b82f6" font-size="10" font-weight="bold" font-family="sans-serif">部分的なラベル</text>
  <text x="115" y="322" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">Human ラベル済</text>

  <line x1="180" y1="310" x2="218" y2="310" stroke="#3b82f6" stroke-width="2"/>
  <polygon points="218,305 230,310 218,315" fill="#3b82f6"/>

  <!-- Active Learning Model -->
  <rect x="230" y="280" width="160" height="60" rx="6" fill="#0f172a" stroke="#f97316" stroke-width="2"/>
  <text x="310" y="303" text-anchor="middle" fill="#f97316" font-size="10" font-weight="bold" font-family="sans-serif">Active Learning</text>
  <text x="310" y="319" text-anchor="middle" fill="#f97316" font-size="10" font-weight="bold" font-family="sans-serif">Model 学習</text>
  <text x="310" y="333" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">教師なし → 半教師あり学習</text>

  <line x1="390" y1="310" x2="428" y2="310" stroke="#f97316" stroke-width="2"/>
  <polygon points="428,305 440,310 428,315" fill="#f97316"/>

  <!-- Confidence check -->
  <rect x="440" y="270" width="160" height="80" rx="6" fill="#0f172a" stroke="#a855f7" stroke-width="2"/>
  <text x="520" y="298" text-anchor="middle" fill="#a855f7" font-size="10" font-weight="bold" font-family="sans-serif">信頼スコア判定</text>
  <text x="520" y="314" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">高信頼度 → 自動ラベル付与</text>
  <text x="520" y="329" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">低信頼度 → Human に送信</text>
  <text x="520" y="344" text-anchor="middle" fill="#94a3b8" font-size="8" font-family="sans-serif">(閾値: Confidence Score)</text>

  <!-- High confidence path -->
  <line x1="600" y1="295" x2="650" y2="295" stroke="#22c55e" stroke-width="2"/>
  <polygon points="650,290 662,295 650,300" fill="#22c55e"/>
  <rect x="662" y="270" width="165" height="55" rx="6" fill="#14532d" stroke="#22c55e" stroke-width="1.5"/>
  <text x="744" y="293" text-anchor="middle" fill="#22c55e" font-size="10" font-weight="bold" font-family="sans-serif">自動ラベル付与</text>
  <text x="744" y="309" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">Human Review をバイパス</text>
  <text x="744" y="323" text-anchor="middle" fill="#22c55e" font-size="9" font-weight="bold" font-family="sans-serif">コスト: 最大70%削減</text>

  <!-- Low confidence loop back arrow -->
  <line x1="520" y1="350" x2="520" y2="400" stroke="#ef4444" stroke-width="2" stroke-dasharray="4,3"/>
  <line x1="520" y1="400" x2="200" y2="400" stroke="#ef4444" stroke-width="2" stroke-dasharray="4,3"/>
  <line x1="200" y1="400" x2="200" y2="375" stroke="#ef4444" stroke-width="2" stroke-dasharray="4,3"/>
  <polygon points="195,375 200,363 205,375" fill="#ef4444"/>
  <text x="360" y="418" text-anchor="middle" fill="#ef4444" font-size="9" font-family="sans-serif">低信頼度 → 人間レビューへ再送</text>

  <!-- Model improves loop -->
  <line x1="744" y1="325" x2="744" y2="385" stroke="#f97316" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="744" y1="385" x2="310" y2="385" stroke="#f97316" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="310" y1="385" x2="310" y2="345" stroke="#f97316" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="305,345 310,333 315,345" fill="#f97316"/>
  <text x="600" y="398" text-anchor="middle" fill="#f97316" font-size="9" font-family="sans-serif">自動ラベルでモデルを更新・改善</text>

  <!-- Section label -->
  <rect x="450" y="440" width="440" height="22" rx="4" fill="#0f172a" stroke="#334155" stroke-width="1"/>
  <text x="670" y="456" text-anchor="middle" fill="#94a3b8" font-size="9" font-family="sans-serif">Auto-Labeling によりコスト削減と品質維持を両立</text>
</svg>
