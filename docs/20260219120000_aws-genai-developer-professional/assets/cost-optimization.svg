<svg viewBox="0 0 900 400" style="max-height:70vh;max-width:100%;display:block;margin:0 auto;letter-spacing:0" font-family="Arial,sans-serif">
  <rect width="900" height="400" fill="#F8F9FA"/>
  <text x="450" y="28" text-anchor="middle" font-size="17" font-weight="bold" fill="#232F3E">Bedrock コスト最適化戦略</text>

  <!-- 4 strategies -->
  <!-- Strategy 1: Prompt Caching -->
  <rect x="20" y="55" width="415" height="145" rx="12" fill="#FF9900" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="227" y="82" text-anchor="middle" font-size="14" font-weight="bold" fill="white">① プロンプトキャッシュ</text>
  <text x="40" y="104" font-size="12" fill="white">・同一プロンプトの再実行をキャッシュ</text>
  <text x="40" y="122" font-size="12" fill="white">・最大90%のコスト削減（Claude対応）</text>
  <text x="40" y="140" font-size="12" fill="white">・システムプロンプトや長文コンテキストに有効</text>
  <rect x="40" y="152" width="375" height="36" rx="6" fill="#E67700"/>
  <text x="227" y="167" text-anchor="middle" font-size="11" fill="white">Cache read: 通常の10%の価格 / Cache write: 25%高</text>
  <text x="227" y="181" text-anchor="middle" font-size="11" fill="#FFF3E0">TTL: 5分 (Claude 3.5 Sonnet等)</text>

  <!-- Strategy 2: Model Selection -->
  <rect x="465" y="55" width="415" height="145" rx="12" fill="#1A73E8" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="672" y="82" text-anchor="middle" font-size="14" font-weight="bold" fill="white">② モデル選択の最適化</text>
  <text x="485" y="104" font-size="12" fill="white">・タスク別に最適モデルを選択</text>
  <text x="485" y="122" font-size="12" fill="white">・シンプルタスク → Haiku / Nova Micro</text>
  <text x="485" y="140" font-size="12" fill="white">・複雑推論 → Sonnet / Nova Pro</text>
  <rect x="485" y="152" width="375" height="36" rx="6" fill="#1557B0"/>
  <text x="672" y="167" text-anchor="middle" font-size="11" fill="white">Claude 3 Haiku: Opus比較で最大60倍コスト削減</text>
  <text x="672" y="181" text-anchor="middle" font-size="11" fill="#BBDEFB">Multi-model routing でコスト+品質を自動最適化</text>

  <!-- Strategy 3: Provisioned Throughput -->
  <rect x="20" y="215" width="415" height="145" rx="12" fill="#1A9C3E" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="227" y="242" text-anchor="middle" font-size="14" font-weight="bold" fill="white">③ プロビジョンドスループット</text>
  <text x="40" y="264" font-size="12" fill="white">・月額固定料金で専用容量を確保</text>
  <text x="40" y="282" font-size="12" fill="white">・高スループット利用時にオンデマンドより安価</text>
  <text x="40" y="300" font-size="12" fill="white">・スロットリングなし・低レイテンシ</text>
  <rect x="40" y="315" width="375" height="36" rx="6" fill="#137830"/>
  <text x="227" y="330" text-anchor="middle" font-size="11" fill="white">1 MCU (Model Compute Unit) = 一定のTPSを保証</text>
  <text x="227" y="346" text-anchor="middle" font-size="11" fill="#C8E6C9">1ヶ月 or 6ヶ月コミット割引あり</text>

  <!-- Strategy 4: Batching -->
  <rect x="465" y="215" width="415" height="145" rx="12" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="672" y="242" text-anchor="middle" font-size="14" font-weight="bold" fill="white">④ バッチ推論 (Batch Inference)</text>
  <text x="485" y="264" font-size="12" fill="white">・非同期バッチでコスト50%削減</text>
  <text x="485" y="282" font-size="12" fill="white">・リアルタイム不要なタスクに最適</text>
  <text x="485" y="300" font-size="12" fill="white">・大量文書の分類・要約・分析に活用</text>
  <rect x="485" y="315" width="375" height="36" rx="6" fill="#6A1B9A"/>
  <text x="672" y="330" text-anchor="middle" font-size="11" fill="white">入力: S3 JSONL → 処理 → 出力: S3 JSONL</text>
  <text x="672" y="346" text-anchor="middle" font-size="11" fill="#E1BEE7">処理完了通知: S3イベント / CloudWatch</text>

  <!-- Note -->
  <rect x="20" y="372" width="860" height="22" rx="4" fill="#232F3E"/>
  <text x="450" y="387" text-anchor="middle" font-size="11" fill="#FF9900">試験: コスト削減 → プロンプトキャッシュ・小型モデル選択・バッチ / 高スループット → プロビジョンド</text>
</svg>
