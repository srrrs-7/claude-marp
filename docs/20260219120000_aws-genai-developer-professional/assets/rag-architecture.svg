<svg viewBox="0 0 900 460" style="max-height:70vh;max-width:100%;display:block;margin:0 auto;letter-spacing:0" font-family="Arial,sans-serif">
  <rect width="900" height="460" fill="#F0F4F8"/>
  <text x="450" y="28" text-anchor="middle" font-size="17" font-weight="bold" fill="#232F3E">RAG (Retrieval-Augmented Generation) アーキテクチャ</text>

  <!-- User -->
  <rect x="20" y="180" width="110" height="60" rx="10" fill="#232F3E"/>
  <text x="75" y="207" text-anchor="middle" font-size="13" font-weight="bold" fill="white">ユーザー</text>
  <text x="75" y="227" text-anchor="middle" font-size="11" fill="#FFB74D">質問入力</text>

  <!-- Arrow 1 -->
  <line x1="130" y1="210" x2="175" y2="210" stroke="#1A73E8" stroke-width="2"/>
  <polygon points="175,205 185,210 175,215" fill="#1A73E8"/>
  <text x="157" y="200" text-anchor="middle" font-size="10" fill="#1A73E8">①クエリ</text>

  <!-- Embedding -->
  <rect x="185" y="165" width="130" height="90" rx="10" fill="#1A73E8" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="250" y="195" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Embedding</text>
  <text x="250" y="213" text-anchor="middle" font-size="12" font-weight="bold" fill="white">Model</text>
  <text x="250" y="232" text-anchor="middle" font-size="10" fill="#BBDEFB">クエリ→ベクトル変換</text>
  <text x="250" y="247" text-anchor="middle" font-size="10" fill="#BBDEFB">Titan Embeddings</text>

  <!-- Arrow 2 -->
  <line x1="315" y1="210" x2="355" y2="210" stroke="#1A73E8" stroke-width="2"/>
  <polygon points="355,205 365,210 355,215" fill="#1A73E8"/>
  <text x="340" y="200" text-anchor="middle" font-size="10" fill="#1A73E8">②ベクトル</text>

  <!-- Vector DB -->
  <rect x="365" y="155" width="160" height="110" rx="10" fill="#7B1FA2" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="445" y="182" text-anchor="middle" font-size="12" font-weight="bold" fill="white">ベクターDB</text>
  <text x="445" y="200" text-anchor="middle" font-size="11" fill="#E1BEE7">OpenSearch Serverless</text>
  <text x="445" y="216" text-anchor="middle" font-size="11" fill="#E1BEE7">Amazon Aurora</text>
  <text x="445" y="232" text-anchor="middle" font-size="11" fill="#E1BEE7">Pinecone / Weaviate</text>
  <text x="445" y="248" text-anchor="middle" font-size="11" fill="#E1BEE7">類似度検索 (kNN)</text>

  <!-- Arrow 3 -->
  <line x1="525" y1="210" x2="565" y2="210" stroke="#1A9C3E" stroke-width="2"/>
  <polygon points="565,205 575,210 565,215" fill="#1A9C3E"/>
  <text x="545" y="200" text-anchor="middle" font-size="10" fill="#1A9C3E">③関連文書</text>

  <!-- LLM -->
  <rect x="575" y="150" width="160" height="120" rx="10" fill="#FF9900" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.2))"/>
  <text x="655" y="180" text-anchor="middle" font-size="12" font-weight="bold" fill="white">LLM</text>
  <text x="655" y="198" text-anchor="middle" font-size="11" fill="#FFF3E0">Claude / Titan Nova</text>
  <text x="655" y="216" text-anchor="middle" font-size="11" fill="#FFF3E0">コンテキスト付き</text>
  <text x="655" y="232" text-anchor="middle" font-size="11" fill="#FFF3E0">プロンプト生成</text>
  <text x="655" y="252" text-anchor="middle" font-size="11" fill="#FFF3E0">根拠ある回答を生成</text>

  <!-- Arrow 4 -->
  <line x1="735" y1="210" x2="770" y2="210" stroke="#E53935" stroke-width="2"/>
  <polygon points="770,205 780,210 770,215" fill="#E53935"/>
  <text x="755" y="200" text-anchor="middle" font-size="10" fill="#E53935">④回答</text>

  <!-- Response -->
  <rect x="780" y="180" width="100" height="60" rx="10" fill="#232F3E"/>
  <text x="830" y="205" text-anchor="middle" font-size="12" font-weight="bold" fill="white">ユーザーへ</text>
  <text x="830" y="222" text-anchor="middle" font-size="11" fill="#FFB74D">根拠付き回答</text>

  <!-- Ingestion pipeline (top) -->
  <rect x="20" y="50" width="860" height="85" rx="10" fill="#E3F2FD" style="filter:drop-shadow(1px 1px 3px rgba(0,0,0,0.1))"/>
  <text x="450" y="72" text-anchor="middle" font-size="13" font-weight="bold" fill="#1A73E8">取り込みパイプライン (Ingestion Pipeline) - 事前処理</text>

  <rect x="40" y="82" width="100" height="40" rx="6" fill="#1A73E8"/>
  <text x="90" y="98" text-anchor="middle" font-size="11" fill="white" font-weight="bold">ドキュメント</text>
  <text x="90" y="114" text-anchor="middle" font-size="11" fill="#BBDEFB">S3 / Web等</text>

  <line x1="140" y1="102" x2="175" y2="102" stroke="#1A73E8" stroke-width="2"/>
  <polygon points="175,97 185,102 175,107" fill="#1A73E8"/>

  <rect x="185" y="82" width="100" height="40" rx="6" fill="#1A73E8"/>
  <text x="235" y="98" text-anchor="middle" font-size="11" fill="white" font-weight="bold">チャンキング</text>
  <text x="235" y="114" text-anchor="middle" font-size="11" fill="#BBDEFB">分割・前処理</text>

  <line x1="285" y1="102" x2="320" y2="102" stroke="#1A73E8" stroke-width="2"/>
  <polygon points="320,97 330,102 320,107" fill="#1A73E8"/>

  <rect x="330" y="82" width="100" height="40" rx="6" fill="#1A73E8"/>
  <text x="380" y="98" text-anchor="middle" font-size="11" fill="white" font-weight="bold">Embedding</text>
  <text x="380" y="114" text-anchor="middle" font-size="11" fill="#BBDEFB">ベクトル化</text>

  <line x1="430" y1="102" x2="465" y2="102" stroke="#1A73E8" stroke-width="2"/>
  <polygon points="465,97 475,102 465,107" fill="#1A73E8"/>

  <rect x="475" y="82" width="100" height="40" rx="6" fill="#7B1FA2"/>
  <text x="525" y="98" text-anchor="middle" font-size="11" fill="white" font-weight="bold">ベクターDB</text>
  <text x="525" y="114" text-anchor="middle" font-size="11" fill="#E1BEE7">格納・インデックス</text>

  <text x="650" y="100" font-size="12" fill="#1A73E8">Knowledge Basesが</text>
  <text x="650" y="118" font-size="12" fill="#1A73E8">自動化！</text>

  <!-- Benefits -->
  <rect x="20" y="310" width="860" height="130" rx="10" fill="#F3F4F6"/>
  <text x="450" y="332" text-anchor="middle" font-size="13" font-weight="bold" fill="#232F3E">RAGの主なメリット vs 課題</text>

  <rect x="40" y="345" width="390" height="80" rx="8" fill="#E8F5E9"/>
  <text x="235" y="368" text-anchor="middle" font-size="13" font-weight="bold" fill="#1A9C3E">メリット</text>
  <text x="60" y="386" font-size="12" fill="#232F3E">✓ 最新情報・社内情報を反映できる</text>
  <text x="60" y="403" font-size="12" fill="#232F3E">✓ ハルシネーションを減少</text>
  <text x="60" y="420" font-size="12" fill="#232F3E">✓ ファインチューニング不要で低コスト</text>

  <rect x="460" y="345" width="390" height="80" rx="8" fill="#FFEBEE"/>
  <text x="655" y="368" text-anchor="middle" font-size="13" font-weight="bold" fill="#E53935">課題</text>
  <text x="480" y="386" font-size="12" fill="#232F3E">✗ 検索精度がシステム品質を左右</text>
  <text x="480" y="403" font-size="12" fill="#232F3E">✗ レイテンシが増加（検索+生成）</text>
  <text x="480" y="420" font-size="12" fill="#232F3E">✗ チャンク設計・インデックス管理が必要</text>
</svg>
