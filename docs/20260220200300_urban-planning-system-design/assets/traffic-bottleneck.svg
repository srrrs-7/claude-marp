<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 860 420" style="max-height:70vh;display:block;width:auto;margin:0 auto;letter-spacing:0">
  <!-- Background -->
  <rect width="860" height="420" fill="#fafafa" rx="12"/>

  <!-- Title -->
  <text x="430" y="35" text-anchor="middle" font-size="17" font-weight="bold" fill="#1a237e" font-family="sans-serif">交通渋滞とデータフローのボトルネック</text>

  <!-- ===== LEFT SIDE: Multiple lanes coming in ===== -->

  <!-- Lane labels -->
  <text x="80" y="85" text-anchor="middle" font-size="12" fill="#37474f" font-family="sans-serif">リクエスト流入</text>

  <!-- Lane 1 (top) -->
  <rect x="30" y="95" width="200" height="36" fill="#66bb6a" rx="4"/>
  <text x="130" y="118" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">Webサービス A</text>
  <!-- Arrow body -->
  <rect x="230" y="107" width="80" height="12" fill="#4caf50" rx="2"/>
  <!-- Arrow head -->
  <polygon points="310,101 330,113 310,125" fill="#4caf50"/>

  <!-- Lane 2 -->
  <rect x="30" y="155" width="200" height="36" fill="#42a5f5" rx="4"/>
  <text x="130" y="178" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">APIサービス B</text>
  <rect x="230" y="167" width="80" height="12" fill="#2196f3" rx="2"/>
  <polygon points="310,161 330,173 310,185" fill="#2196f3"/>

  <!-- Lane 3 -->
  <rect x="30" y="215" width="200" height="36" fill="#ffa726" rx="4"/>
  <text x="130" y="238" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">バッチジョブ C</text>
  <rect x="230" y="227" width="80" height="12" fill="#ff9800" rx="2"/>
  <polygon points="310,221 330,233 310,245" fill="#ff9800"/>

  <!-- Lane 4 -->
  <rect x="30" y="275" width="200" height="36" fill="#ab47bc" rx="4"/>
  <text x="130" y="298" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">分析クエリ D</text>
  <rect x="230" y="287" width="80" height="12" fill="#9c27b0" rx="2"/>
  <polygon points="310,281 330,293 310,305" fill="#9c27b0"/>

  <!-- Lane 5 -->
  <rect x="30" y="335" width="200" height="36" fill="#ef5350" rx="4"/>
  <text x="130" y="358" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">ストリームE</text>
  <rect x="230" y="347" width="80" height="12" fill="#f44336" rx="2"/>
  <polygon points="310,341 330,353 310,365" fill="#f44336"/>

  <!-- ===== BOTTLENECK FUNNEL ===== -->
  <!-- Funnel shape -->
  <polygon points="330,90 530,170 530,250 330,380" fill="#eceff1" stroke="#90a4ae" stroke-width="2"/>
  <!-- Inner bottleneck highlight -->
  <polygon points="340,100 520,172 520,248 340,370" fill="#cfd8dc" opacity="0.5"/>

  <!-- Bottleneck label -->
  <rect x="355" y="195" width="150" height="34" fill="#b71c1c" rx="6" style="filter: drop-shadow(1px 1px 3px rgba(0,0,0,0.3))"/>
  <text x="430" y="210" text-anchor="middle" font-size="13" font-weight="bold" fill="white" font-family="sans-serif">単一DB</text>
  <text x="430" y="225" text-anchor="middle" font-size="11" fill="#ffebee" font-family="sans-serif">ボトルネック</text>

  <!-- Congestion dots -->
  <circle cx="360" cy="150" r="7" fill="#ef5350" opacity="0.8"/>
  <circle cx="385" cy="165" r="7" fill="#ef5350" opacity="0.8"/>
  <circle cx="370" cy="180" r="7" fill="#ffa726" opacity="0.8"/>
  <circle cx="400" cy="145" r="7" fill="#ef5350" opacity="0.8"/>
  <circle cx="420" cy="165" r="7" fill="#ffa726" opacity="0.8"/>
  <circle cx="360" cy="290" r="7" fill="#ef5350" opacity="0.8"/>
  <circle cx="385" cy="305" r="7" fill="#ffa726" opacity="0.8"/>
  <circle cx="410" cy="285" r="7" fill="#ef5350" opacity="0.8"/>

  <!-- ===== RIGHT SIDE: Single output ===== -->
  <!-- Output arrow -->
  <rect x="530" y="198" width="110" height="24" fill="#546e7a" rx="4"/>
  <polygon points="640,188 670,210 640,232" fill="#37474f"/>

  <!-- Output label -->
  <rect x="680" y="175" width="160" height="55" fill="#263238" rx="8" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3))"/>
  <text x="760" y="198" text-anchor="middle" font-size="13" font-weight="bold" fill="white" font-family="sans-serif">スループット</text>
  <text x="760" y="216" text-anchor="middle" font-size="13" font-weight="bold" fill="#ef9a9a" font-family="sans-serif">激減</text>
  <text x="760" y="233" text-anchor="middle" font-size="11" fill="#90a4ae" font-family="sans-serif">レイテンシ増大</text>

  <!-- Braess's Paradox note -->
  <rect x="580" y="310" width="255" height="60" fill="#fff3e0" rx="8" stroke="#ff9800" stroke-width="2"/>
  <text x="707" y="334" text-anchor="middle" font-size="12" font-weight="bold" fill="#e65100" font-family="sans-serif">ブラヒェスのパラドックス</text>
  <text x="707" y="352" text-anchor="middle" font-size="11" fill="#bf360c" font-family="sans-serif">レーン追加 → 渋滞増加</text>
  <text x="707" y="367" text-anchor="middle" font-size="11" fill="#bf360c" font-family="sans-serif">スレッド増加 → 競合増加</text>
</svg>
