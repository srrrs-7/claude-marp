<svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;max-width:100%;display:block;margin:0 auto;letter-spacing:0">
  <rect width="800" height="400" fill="#f8f9fa" rx="8"/>
  <text x="400" y="28" text-anchor="middle" font-size="15" font-weight="bold" fill="#2c3e50" font-family="sans-serif">EKS IRSA â€” IAM Roles for Service Accounts</text>

  <!-- Kubernetes cluster -->
  <rect x="15" y="45" width="340" height="220" rx="10" fill="none" stroke="#326ce5" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="30" y="62" font-size="10" font-weight="bold" fill="#326ce5" font-family="sans-serif">EKS Cluster</text>

  <!-- Pod -->
  <rect x="30" y="72" width="140" height="80" rx="8" fill="#326ce5" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.15))"/>
  <text x="45" y="98" font-size="20" fill="white" font-family="sans-serif">ğŸ“¦</text>
  <text x="100" y="103" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">Pod</text>
  <text x="100" y="120" text-anchor="middle" font-size="9" fill="#d6eaf8" font-family="sans-serif">Service Account</text>
  <text x="100" y="135" text-anchor="middle" font-size="9" fill="#d6eaf8" font-family="sans-serif">annotations: irsa-role-arn</text>

  <!-- Service Account token -->
  <rect x="195" y="85" width="145" height="58" rx="6" fill="#2980b9"/>
  <text x="267" y="106" text-anchor="middle" font-size="11" font-weight="bold" fill="white" font-family="sans-serif">Service Account</text>
  <text x="267" y="122" text-anchor="middle" font-size="9" fill="#d6eaf8" font-family="sans-serif">Token (JWT)</text>
  <text x="267" y="136" text-anchor="middle" font-size="9" fill="#d6eaf8" font-family="sans-serif">iss: OIDC Provider URL</text>

  <!-- Token auto-mount -->
  <line x1="170" y1="114" x2="193" y2="114" stroke="#d6eaf8" stroke-width="1.5"/>
  <polygon points="193,114 183,109 183,119" fill="#d6eaf8"/>
  <text x="182" y="107" font-size="8" fill="#95a5a6" font-family="sans-serif">è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆ</text>

  <!-- Node (for comparison) -->
  <rect x="30" y="185" width="300" height="64" rx="6" fill="#7f8c8d" style="filter:drop-shadow(1px 1px 3px rgba(0,0,0,0.1))"/>
  <text x="180" y="206" text-anchor="middle" font-size="11" font-weight="bold" fill="white" font-family="sans-serif">Node (EC2 Instance Profile)</text>
  <text x="180" y="224" text-anchor="middle" font-size="9" fill="#ecf0f1" font-family="sans-serif">âš  å…¨Podå…±é€šã®æ¨©é™ â†’ æœ€å°æ¨©é™ã§ããªã„</text>
  <text x="180" y="238" text-anchor="middle" font-size="9" fill="#f1c40f" font-family="sans-serif">IRSA ãªã‚‰Podå˜ä½ã§æ¨©é™ã‚’åˆ†é›¢ã§ãã‚‹ âœ…</text>

  <!-- OIDC Provider -->
  <rect x="390" y="72" width="160" height="70" rx="8" fill="#e67e22" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.15))"/>
  <text x="405" y="97" font-size="20" fill="white" font-family="sans-serif">ğŸ”’</text>
  <text x="470" y="103" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">OIDC Provider</text>
  <text x="470" y="120" text-anchor="middle" font-size="9" fill="#fdebd0" font-family="sans-serif">EKS è‡ªå‹•ç”Ÿæˆ</text>
  <text x="470" y="134" text-anchor="middle" font-size="9" fill="#fdebd0" font-family="sans-serif">jwks.json ã§å…¬é–‹éµæä¾›</text>

  <!-- STS -->
  <rect x="390" y="180" width="160" height="70" rx="8" fill="#9b59b6" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.15))"/>
  <text x="405" y="205" font-size="20" fill="white" font-family="sans-serif">ğŸ«</text>
  <text x="470" y="211" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">AWS STS</text>
  <text x="470" y="227" text-anchor="middle" font-size="9" fill="#e8d5f5" font-family="sans-serif">AssumeRoleWithWebIdentity</text>
  <text x="470" y="241" text-anchor="middle" font-size="9" fill="#e8d5f5" font-family="sans-serif">JWTæ¤œè¨¼ + Roleç¢ºèª</text>

  <!-- IAM Role -->
  <rect x="600" y="125" width="175" height="80" rx="8" fill="#27ae60" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.15))"/>
  <text x="615" y="152" font-size="20" fill="white" font-family="sans-serif">ğŸ›¡</text>
  <text x="688" y="158" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">IAM Role</text>
  <text x="688" y="174" text-anchor="middle" font-size="9" fill="#d5f5e3" font-family="sans-serif">Trust: oidc.eks.*.amazonaws</text>
  <text x="688" y="188" text-anchor="middle" font-size="9" fill="#d5f5e3" font-family="sans-serif">condition: ServiceAccountå</text>

  <!-- AWS Services -->
  <rect x="600" y="240" width="175" height="60" rx="8" fill="#e74c3c" style="filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.15))"/>
  <text x="688" y="265" text-anchor="middle" font-size="12" font-weight="bold" fill="white" font-family="sans-serif">AWS Services</text>
  <text x="688" y="283" text-anchor="middle" font-size="9" fill="#fdecea" font-family="sans-serif">S3, DynamoDB, Secrets Manager...</text>

  <!-- Flow arrows -->
  <!-- Pod SA token â†’ OIDC Provider -->
  <line x1="341" y1="107" x2="388" y2="107" stroke="#e67e22" stroke-width="2"/>
  <polygon points="388,107 378,102 378,112" fill="#e67e22"/>
  <text x="364" y="100" text-anchor="middle" font-size="8" fill="#e67e22" font-family="sans-serif">JWTé€ä¿¡</text>

  <!-- OIDC â†’ STS -->
  <line x1="470" y1="143" x2="470" y2="178" stroke="#9b59b6" stroke-width="2"/>
  <polygon points="470,178 465,168 475,168" fill="#9b59b6"/>
  <text x="485" y="165" font-size="8" fill="#9b59b6" font-family="sans-serif">æ¤œè¨¼</text>

  <!-- STS â†’ IAM Role -->
  <line x1="551" y1="215" x2="598" y2="175" stroke="#27ae60" stroke-width="2"/>
  <polygon points="598,175 590,175 593,165" fill="#27ae60"/>
  <text x="575" y="195" text-anchor="middle" font-size="8" fill="#27ae60" font-family="sans-serif">æ¤œç´¢ãƒ»ç¢ºèª</text>

  <!-- IAM Role â†’ Temp Creds â†’ AWS Services -->
  <line x1="688" y1="206" x2="688" y2="238" stroke="#e74c3c" stroke-width="2"/>
  <polygon points="688,238 683,228 693,228" fill="#e74c3c"/>
  <text x="715" y="225" font-size="8" fill="#e74c3c" font-family="sans-serif">ä¸€æ™‚èªè¨¼æƒ…å ±</text>

  <!-- Step numbers -->
  <text x="370" y="83" font-size="9" fill="#7f8c8d" font-family="sans-serif">â‘ </text>
  <text x="475" y="167" font-size="9" fill="#7f8c8d" font-family="sans-serif">â‘¡</text>
  <text x="580" y="188" font-size="9" fill="#7f8c8d" font-family="sans-serif">â‘¢</text>
  <text x="713" y="215" font-size="9" fill="#7f8c8d" font-family="sans-serif">â‘£</text>
  <text x="715" y="255" font-size="9" fill="#7f8c8d" font-family="sans-serif">â‘¤</text>

  <!-- Benefit box -->
  <rect x="15" y="275" width="340" height="112" rx="8" fill="#2c3e50"/>
  <text x="185" y="295" text-anchor="middle" font-size="11" font-weight="bold" fill="#f1c40f" font-family="sans-serif">IRSA ã®åˆ©ç‚¹</text>
  <text x="30" y="314" font-size="10" fill="#ecf0f1" font-family="sans-serif">âœ… Pod å˜ä½ã®ç´°ç²’åº¦ IAM Role å‰²ã‚Šå½“ã¦</text>
  <text x="30" y="332" font-size="10" fill="#ecf0f1" font-family="sans-serif">âœ… ä¸€æ™‚èªè¨¼æƒ…å ±ï¼ˆ15åˆ†ã€œï¼‰ã§æ¼æ´©ãƒªã‚¹ã‚¯æœ€å°</text>
  <text x="30" y="350" font-size="10" fill="#ecf0f1" font-family="sans-serif">âœ… AWS Secrets ã‚’ç’°å¢ƒå¤‰æ•°ã«å…¥ã‚Œãªãã¦ã‚ˆã„</text>
  <text x="30" y="370" font-size="10" fill="#ecf0f1" font-family="sans-serif">âš™ è¨­å®š: eksctl create iamserviceaccount</text>
</svg>
