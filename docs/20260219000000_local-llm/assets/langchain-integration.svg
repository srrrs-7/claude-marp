<svg viewBox="0 0 960 480" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;background:#0d1117">
  <text x="480" y="36" text-anchor="middle" font-size="20" font-weight="bold" fill="#e6edf3" font-family="sans-serif">LangChain / LlamaIndex × Ollama 統合パターン</text>

  <!-- User/App -->
  <rect x="30" y="70" width="140" height="70" rx="10" fill="#1f2937" stroke="#4b5563" stroke-width="2"/>
  <text x="100" y="100" text-anchor="middle" font-size="13" font-weight="bold" fill="#f9fafb" font-family="sans-serif">アプリ / ユーザー</text>
  <text x="100" y="120" text-anchor="middle" font-size="11" fill="#9ca3af" font-family="sans-serif">Query</text>

  <!-- Arrow to LangChain -->
  <line x1="170" y1="105" x2="220" y2="105" stroke="#9ca3af" stroke-width="2"/>
  <polygon points="224,105 214,99 214,111" fill="#9ca3af"/>

  <!-- LangChain Box -->
  <rect x="220" y="55" width="200" height="100" rx="10" fill="#14532d" stroke="#22c55e" stroke-width="2" style="filter:drop-shadow(0 3px 8px rgba(22,163,74,0.3))"/>
  <text x="320" y="85" text-anchor="middle" font-size="15" font-weight="bold" fill="#4ade80" font-family="sans-serif">LangChain</text>
  <text x="320" y="105" text-anchor="middle" font-size="11" fill="#86efac" font-family="sans-serif">ChatOllama</text>
  <text x="320" y="120" text-anchor="middle" font-size="11" fill="#86efac" font-family="sans-serif">OllamaEmbeddings</text>
  <text x="320" y="138" text-anchor="middle" font-size="11" fill="#86efac" font-family="sans-serif">ConversationChain / Agents</text>

  <!-- Arrow -->
  <line x1="420" y1="105" x2="480" y2="105" stroke="#9ca3af" stroke-width="2"/>
  <polygon points="484,105 474,99 474,111" fill="#9ca3af"/>

  <!-- Ollama -->
  <rect x="480" y="65" width="170" height="80" rx="10" fill="#7c2d12" stroke="#f97316" stroke-width="2.5" style="filter:drop-shadow(0 4px 12px rgba(249,115,22,0.4))"/>
  <text x="565" y="93" text-anchor="middle" font-size="16" font-weight="bold" fill="#fb923c" font-family="sans-serif">Ollama</text>
  <text x="565" y="113" text-anchor="middle" font-size="11" fill="#fed7aa" font-family="sans-serif">localhost:11434/v1</text>
  <text x="565" y="132" text-anchor="middle" font-size="11" fill="#fed7aa" font-family="sans-serif">OpenAI互換エンドポイント</text>

  <!-- Arrow to models -->
  <line x1="650" y1="105" x2="720" y2="105" stroke="#9ca3af" stroke-width="2"/>
  <polygon points="724,105 714,99 714,111" fill="#9ca3af"/>

  <!-- Local Models -->
  <rect x="720" y="55" width="210" height="100" rx="10" fill="#1e1b4b" stroke="#6366f1" stroke-width="2"/>
  <text x="825" y="80" text-anchor="middle" font-size="14" font-weight="bold" fill="#a5b4fc" font-family="sans-serif">ローカルモデル</text>
  <text x="825" y="100" text-anchor="middle" font-size="12" fill="#c7d2fe" font-family="sans-serif">llama3.2, mistral</text>
  <text x="825" y="117" text-anchor="middle" font-size="12" fill="#c7d2fe" font-family="sans-serif">qwen2.5, phi4...</text>
  <text x="825" y="134" text-anchor="middle" font-size="11" fill="#818cf8" font-family="sans-serif">GGUF Q4_K_M</text>

  <!-- Second row: LlamaIndex path -->
  <rect x="220" y="200" width="200" height="100" rx="10" fill="#1e3a5f" stroke="#3b82f6" stroke-width="2" style="filter:drop-shadow(0 3px 8px rgba(59,130,246,0.3))"/>
  <text x="320" y="228" text-anchor="middle" font-size="15" font-weight="bold" fill="#60a5fa" font-family="sans-serif">LlamaIndex</text>
  <text x="320" y="248" text-anchor="middle" font-size="11" fill="#93c5fd" font-family="sans-serif">Ollama LLM</text>
  <text x="320" y="264" text-anchor="middle" font-size="11" fill="#93c5fd" font-family="sans-serif">OllamaEmbedding</text>
  <text x="320" y="282" text-anchor="middle" font-size="11" fill="#93c5fd" font-family="sans-serif">VectorStoreIndex / RAG</text>

  <!-- Arrow from app to LlamaIndex -->
  <line x1="100" y1="140" x2="100" y2="250" stroke="#4b5563" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="100" y1="250" x2="220" y2="250" stroke="#4b5563" stroke-width="1.5"/>
  <polygon points="224,250 214,244 214,256" fill="#4b5563"/>

  <!-- Arrow from LlamaIndex to Ollama -->
  <line x1="420" y1="250" x2="480" y2="150" stroke="#9ca3af" stroke-width="1.5"/>
  <polygon points="484,146 478,156 490,158" fill="#9ca3af"/>

  <!-- Vector Store -->
  <rect x="480" y="200" width="160" height="100" rx="10" fill="#0c1a14" stroke="#16a34a" stroke-width="1.5"/>
  <text x="560" y="228" text-anchor="middle" font-size="13" font-weight="bold" fill="#4ade80" font-family="sans-serif">ベクトルDB</text>
  <text x="560" y="249" text-anchor="middle" font-size="12" fill="#86efac" font-family="sans-serif">ChromaDB</text>
  <text x="560" y="267" text-anchor="middle" font-size="12" fill="#86efac" font-family="sans-serif">FAISS</text>
  <text x="560" y="285" text-anchor="middle" font-size="12" fill="#86efac" font-family="sans-serif">Qdrant</text>

  <!-- Arrow LlamaIndex to VectorDB -->
  <line x1="420" y1="250" x2="480" y2="250" stroke="#22c55e" stroke-width="1.5"/>
  <polygon points="484,250 474,244 474,256" fill="#22c55e"/>

  <!-- Documents -->
  <rect x="720" y="200" width="210" height="100" rx="10" fill="#374151" stroke="#6b7280" stroke-width="1.5"/>
  <text x="825" y="230" text-anchor="middle" font-size="14" font-weight="bold" fill="#f9fafb" font-family="sans-serif">ドキュメント</text>
  <text x="825" y="252" text-anchor="middle" font-size="12" fill="#d1d5db" font-family="sans-serif">PDF / Markdown</text>
  <text x="825" y="270" text-anchor="middle" font-size="12" fill="#d1d5db" font-family="sans-serif">Notion / Confluence</text>
  <text x="825" y="288" text-anchor="middle" font-size="12" fill="#d1d5db" font-family="sans-serif">社内Wiki・コード</text>

  <!-- Arrow documents to vectordb -->
  <line x1="720" y1="250" x2="640" y2="250" stroke="#6b7280" stroke-width="1.5"/>
  <polygon points="636,250 646,244 646,256" fill="#6b7280"/>
  <text x="680" y="243" text-anchor="middle" font-size="11" fill="#9ca3af" font-family="sans-serif">埋め込み</text>

  <!-- Feature boxes -->
  <rect x="30" y="340" width="440" height="110" rx="8" fill="#1f2937" stroke="#374151" stroke-width="1"/>
  <text x="250" y="368" text-anchor="middle" font-size="14" font-weight="bold" fill="#f9fafb" font-family="sans-serif">LangChainの強み</text>
  <text x="50" y="393" font-size="12" fill="#d1d5db" font-family="sans-serif">✅ 豊富な組み込みコンポーネント（Retriever, Tool等）</text>
  <text x="50" y="413" font-size="12" fill="#d1d5db" font-family="sans-serif">✅ エージェント・プランナーが充実</text>
  <text x="50" y="433" font-size="12" fill="#d1d5db" font-family="sans-serif">✅ ChatOllama で既存コードをほぼそのまま流用可能</text>

  <rect x="490" y="340" width="440" height="110" rx="8" fill="#1f2937" stroke="#374151" stroke-width="1"/>
  <text x="710" y="368" text-anchor="middle" font-size="14" font-weight="bold" fill="#f9fafb" font-family="sans-serif">LlamaIndexの強み</text>
  <text x="510" y="393" font-size="12" fill="#d1d5db" font-family="sans-serif">✅ ドキュメントインデックス構築が得意</text>
  <text x="510" y="413" font-size="12" fill="#d1d5db" font-family="sans-serif">✅ RAGパイプラインが簡単に構築できる</text>
  <text x="510" y="433" font-size="12" fill="#d1d5db" font-family="sans-serif">✅ OllamaEmbedding で完全ローカルRAGが実現</text>
</svg>
