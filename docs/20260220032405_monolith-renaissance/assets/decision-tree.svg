<svg viewBox="0 0 900 460" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;font-family:sans-serif">
  <rect width="900" height="460" fill="#1a1a2e" rx="12"/>
  <text x="450" y="28" text-anchor="middle" fill="#ecf0f1" font-size="15" font-weight="bold">アーキテクチャ選択 — 意思決定ツリー</text>

  <!-- Root question -->
  <rect x="310" y="45" width="280" height="50" rx="8" fill="#1a3a5c" stroke="#3498db" stroke-width="2"/>
  <text x="450" y="68" text-anchor="middle" fill="#ecf0f1" font-size="13" font-weight="bold">チームサイズは？</text>
  <text x="450" y="84" text-anchor="middle" fill="#85c1e9" font-size="11">エンジニア人数を確認</text>

  <!-- Arrow down: left (small team) -->
  <line x1="370" y1="95" x2="210" y2="145" stroke="#7f8c8d" stroke-width="1.5"/>
  <polygon points="207,139 212,149 218,141" fill="#7f8c8d"/>
  <text x="270" y="128" text-anchor="middle" fill="#2ecc71" font-size="11" font-weight="bold">〜50人</text>

  <!-- Arrow down: right (large team) -->
  <line x1="530" y1="95" x2="690" y2="145" stroke="#7f8c8d" stroke-width="1.5"/>
  <polygon points="685,139 692,149 696,141" fill="#7f8c8d"/>
  <text x="630" y="128" text-anchor="middle" fill="#e74c3c" font-size="11" font-weight="bold">100人超</text>

  <!-- Level 2 left: PMF達成？ -->
  <rect x="100" y="150" width="220" height="50" rx="8" fill="#1e3d1e" stroke="#2ecc71" stroke-width="1.5"/>
  <text x="210" y="173" text-anchor="middle" fill="#ecf0f1" font-size="12" font-weight="bold">PMF達成済み？</text>
  <text x="210" y="188" text-anchor="middle" fill="#a9dfbf" font-size="10">ドメインモデルは安定か</text>

  <!-- Level 2 right: 独立スケール必要？ -->
  <rect x="580" y="150" width="220" height="50" rx="8" fill="#3d1a1a" stroke="#e74c3c" stroke-width="1.5"/>
  <text x="690" y="173" text-anchor="middle" fill="#ecf0f1" font-size="12" font-weight="bold">独立SLA/スケール必要？</text>
  <text x="690" y="188" text-anchor="middle" fill="#f1948a" font-size="10">サービス間で要件が大きく異なるか</text>

  <!-- Left branch: No PMF -->
  <line x1="155" y1="200" x2="105" y2="255" stroke="#7f8c8d" stroke-width="1.5"/>
  <polygon points="102,249 107,259 113,251" fill="#7f8c8d"/>
  <text x="120" y="235" text-anchor="middle" fill="#7f8c8d" font-size="10">No</text>

  <!-- Left branch: PMF achieved -->
  <line x1="265" y1="200" x2="315" y2="255" stroke="#7f8c8d" stroke-width="1.5"/>
  <polygon points="313,249 318,259 324,251" fill="#7f8c8d"/>
  <text x="305" y="235" text-anchor="middle" fill="#7f8c8d" font-size="10">Yes</text>

  <!-- Right branch: No indep scale -->
  <line x1="635" y1="200" x2="585" y2="255" stroke="#7f8c8d" stroke-width="1.5"/>
  <polygon points="581,249 587,259 592,251" fill="#7f8c8d"/>
  <text x="600" y="235" text-anchor="middle" fill="#7f8c8d" font-size="10">No</text>

  <!-- Right branch: Yes indep scale -->
  <line x1="745" y1="200" x2="795" y2="255" stroke="#7f8c8d" stroke-width="1.5"/>
  <polygon points="793,249 798,259 804,251" fill="#7f8c8d"/>
  <text x="782" y="235" text-anchor="middle" fill="#7f8c8d" font-size="10">Yes</text>

  <!-- Result boxes level 3 -->
  <!-- Monolith start -->
  <rect x="30" y="255" width="155" height="70" rx="8" fill="#145a32" stroke="#2ecc71" stroke-width="2"/>
  <text x="107" y="280" text-anchor="middle" fill="#2ecc71" font-size="13" font-weight="bold">Simple Monolith</text>
  <text x="107" y="296" text-anchor="middle" fill="#a9dfbf" font-size="10">まず動かす</text>
  <text x="107" y="312" text-anchor="middle" fill="#a9dfbf" font-size="10">スピード最優先</text>

  <!-- Modular Monolith -->
  <rect x="240" y="255" width="155" height="70" rx="8" fill="#1e4d2b" stroke="#27ae60" stroke-width="2"/>
  <text x="317" y="276" text-anchor="middle" fill="#2ecc71" font-size="12" font-weight="bold">Modular Monolith</text>
  <text x="317" y="292" text-anchor="middle" fill="#a9dfbf" font-size="10">明確なモジュール境界</text>
  <text x="317" y="308" text-anchor="middle" fill="#a9dfbf" font-size="10">将来の分割に備える</text>

  <!-- Modular Monolith (large team no indep) -->
  <rect x="510" y="255" width="155" height="70" rx="8" fill="#1e4d2b" stroke="#27ae60" stroke-width="2"/>
  <text x="587" y="276" text-anchor="middle" fill="#2ecc71" font-size="12" font-weight="bold">Modular Monolith</text>
  <text x="587" y="292" text-anchor="middle" fill="#a9dfbf" font-size="10">組織・コード境界整備</text>
  <text x="587" y="308" text-anchor="middle" fill="#a9dfbf" font-size="10">Strangler Figで段階移行</text>

  <!-- Microservices -->
  <rect x="720" y="255" width="155" height="70" rx="8" fill="#4a1a1a" stroke="#e74c3c" stroke-width="2"/>
  <text x="797" y="276" text-anchor="middle" fill="#e74c3c" font-size="12" font-weight="bold">Microservices</text>
  <text x="797" y="292" text-anchor="middle" fill="#f1948a" font-size="10">組織規模・ノウハウが</text>
  <text x="797" y="308" text-anchor="middle" fill="#f1948a" font-size="10">前提条件</text>

  <!-- Arrows to final results -->
  <!-- Modular -> potential split -->
  <line x1="317" y1="325" x2="317" y2="360" stroke="#27ae60" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="797" y1="325" x2="797" y2="360" stroke="#e74c3c" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="317" y="375" text-anchor="middle" fill="#27ae60" font-size="10">境界が明確になったら</text>
  <text x="317" y="388" text-anchor="middle" fill="#27ae60" font-size="10">必要なら分割を検討</text>

  <text x="797" y="375" text-anchor="middle" fill="#e74c3c" font-size="10">CI/CD・Service Mesh・</text>
  <text x="797" y="388" text-anchor="middle" fill="#e74c3c" font-size="10">分散システムスキルが必須</text>

  <!-- Bottom golden rule -->
  <rect x="50" y="405" width="800" height="42" fill="#2c2c1a" rx="8" stroke="#f39c12" stroke-width="1.5"/>
  <text x="450" y="424" text-anchor="middle" fill="#f39c12" font-size="13" font-weight="bold">黄金律: まずシンプルに始め、明確な痛みが生じてから複雑さを足す</text>
  <text x="450" y="440" text-anchor="middle" fill="#f5cba7" font-size="11">「将来への備え」は最も高価な技術的負債になる</text>
</svg>
