<svg viewBox="0 0 900 420" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0;font-family:sans-serif">
  <rect width="900" height="420" fill="#f8fffe" rx="10"/>
  <text x="450" y="26" text-anchor="middle" font-size="13" font-weight="bold" fill="#333">Direct Connect Gateway (DXGW) アーキテクチャ</text>

  <!-- On-premises -->
  <rect x="15" y="170" width="110" height="70" fill="#ECEFF1" stroke="#607D8B" stroke-width="2" rx="6"/>
  <text x="70" y="195" text-anchor="middle" font-size="11" font-weight="bold" fill="#37474F">オンプレ</text>
  <text x="70" y="210" text-anchor="middle" font-size="10" fill="#546E7A">Customer</text>
  <text x="70" y="224" text-anchor="middle" font-size="10" fill="#546E7A">Router</text>

  <!-- DX Connection -->
  <rect x="140" y="195" width="70" height="22" fill="#90A4AE" rx="3"/>
  <text x="175" y="210" text-anchor="middle" font-size="9" fill="white">DX + Transit VIF</text>

  <!-- DXGW -->
  <rect x="225" y="155" width="160" height="100" fill="#E0F2F1" stroke="#00796B" stroke-width="2.5" rx="8"/>
  <text x="305" y="180" text-anchor="middle" font-size="12" font-weight="bold" fill="#004D40">Direct Connect</text>
  <text x="305" y="196" text-anchor="middle" font-size="12" font-weight="bold" fill="#004D40">Gateway</text>
  <text x="305" y="212" text-anchor="middle" font-size="10" fill="#00695C">(DXGW)</text>
  <text x="305" y="228" text-anchor="middle" font-size="9" fill="#26A69A">グローバルリソース</text>
  <text x="305" y="242" text-anchor="middle" font-size="9" fill="#26A69A">ASN: 64512（デフォルト）</text>

  <!-- Arrow on-prem to DXGW -->
  <line x1="125" y1="205" x2="222" y2="205" stroke="#607D8B" stroke-width="2"/>
  <polygon points="222,200 232,205 222,210" fill="#00796B"/>

  <!-- TGW connection -->
  <line x1="385" y1="200" x2="435" y2="160" stroke="#00796B" stroke-width="2"/>
  <polygon points="435,155 443,162 437,170" fill="#00796B"/>

  <!-- Region 1 -->
  <rect x="445" y="45" width="420" height="155" fill="#e8f5e9" stroke="#4CAF50" stroke-width="1.5" rx="8"/>
  <text x="655" y="68" text-anchor="middle" font-size="11" font-weight="bold" fill="#1B5E20">AWS リージョン A（例: ap-northeast-1）</text>
  <!-- TGW -->
  <rect x="460" y="78" width="120" height="50" fill="#C8E6C9" stroke="#388E3C" stroke-width="1.5" rx="6"/>
  <text x="520" y="98" text-anchor="middle" font-size="11" font-weight="bold" fill="#1B5E20">Transit</text>
  <text x="520" y="113" text-anchor="middle" font-size="11" fill="#2E7D32">Gateway</text>
  <!-- VPCs under TGW -->
  <rect x="460" y="143" width="65" height="40" fill="#DCEDC8" stroke="#689F38" stroke-width="1" rx="4"/>
  <text x="492" y="160" text-anchor="middle" font-size="9" fill="#33691E">VPC-A</text>
  <text x="492" y="174" text-anchor="middle" font-size="8" fill="#558B2F">10.0.0.0/16</text>
  <rect x="540" y="143" width="65" height="40" fill="#DCEDC8" stroke="#689F38" stroke-width="1" rx="4"/>
  <text x="572" y="160" text-anchor="middle" font-size="9" fill="#33691E">VPC-B</text>
  <text x="572" y="174" text-anchor="middle" font-size="8" fill="#558B2F">10.1.0.0/16</text>
  <!-- VGW -->
  <rect x="620" y="78" width="115" height="50" fill="#C8E6C9" stroke="#388E3C" stroke-width="1.5" rx="6"/>
  <text x="677" y="98" text-anchor="middle" font-size="11" font-weight="bold" fill="#1B5E20">Virtual</text>
  <text x="677" y="113" text-anchor="middle" font-size="11" fill="#2E7D32">Private GW</text>
  <!-- VPC under VGW -->
  <rect x="620" y="143" width="115" height="40" fill="#DCEDC8" stroke="#689F38" stroke-width="1" rx="4"/>
  <text x="677" y="160" text-anchor="middle" font-size="9" fill="#33691E">VPC-C</text>
  <text x="677" y="174" text-anchor="middle" font-size="8" fill="#558B2F">172.16.0.0/16</text>
  <!-- Lines -->
  <line x1="520" y1="128" x2="492" y2="143" stroke="#388E3C" stroke-width="1"/>
  <line x1="520" y1="128" x2="572" y2="143" stroke="#388E3C" stroke-width="1"/>
  <line x1="677" y1="128" x2="677" y2="143" stroke="#388E3C" stroke-width="1"/>
  <!-- DXGW to TGW and VGW lines -->
  <line x1="520" y1="78" x2="520" y2="70" stroke="#00796B" stroke-width="1.5"/>
  <line x1="677" y1="78" x2="677" y2="70" stroke="#00796B" stroke-width="1.5"/>

  <!-- Region 2 -->
  <rect x="445" y="215" width="420" height="155" fill="#fce4ec" stroke="#E91E63" stroke-width="1.5" rx="8"/>
  <text x="655" y="238" text-anchor="middle" font-size="11" font-weight="bold" fill="#880E4F">AWS リージョン B（例: us-east-1）</text>
  <!-- TGW -->
  <rect x="460" y="248" width="120" height="50" fill="#F8BBD0" stroke="#E91E63" stroke-width="1.5" rx="6"/>
  <text x="520" y="268" text-anchor="middle" font-size="11" font-weight="bold" fill="#880E4F">Transit</text>
  <text x="520" y="283" text-anchor="middle" font-size="11" fill="#AD1457">Gateway</text>
  <!-- VPCs -->
  <rect x="460" y="313" width="65" height="40" fill="#FCE4EC" stroke="#F06292" stroke-width="1" rx="4"/>
  <text x="492" y="330" text-anchor="middle" font-size="9" fill="#880E4F">VPC-D</text>
  <text x="492" y="344" text-anchor="middle" font-size="8" fill="#AD1457">10.2.0.0/16</text>
  <rect x="540" y="313" width="65" height="40" fill="#FCE4EC" stroke="#F06292" stroke-width="1" rx="4"/>
  <text x="572" y="330" text-anchor="middle" font-size="9" fill="#880E4F">VPC-E</text>
  <text x="572" y="344" text-anchor="middle" font-size="8" fill="#AD1457">10.3.0.0/16</text>
  <!-- Lines -->
  <line x1="520" y1="298" x2="492" y2="313" stroke="#E91E63" stroke-width="1"/>
  <line x1="520" y1="298" x2="572" y2="313" stroke="#E91E63" stroke-width="1"/>

  <!-- DXGW to Region 2 -->
  <line x1="385" y1="215" x2="435" y2="270" stroke="#00796B" stroke-width="2"/>
  <polygon points="435,265 443,272 437,280" fill="#00796B"/>
  <line x1="520" y1="248" x2="490" y2="220" stroke="#00796B" stroke-width="1.5"/>

  <!-- Limitation box -->
  <rect x="15" y="355" width="880" height="55" fill="#FFEBEE" stroke="#EF5350" stroke-width="1.5" rx="6"/>
  <text x="450" y="374" text-anchor="middle" font-size="11" font-weight="bold" fill="#C62828">重要制約: DXGW は推移ルーティング（Transitive Routing）非対応</text>
  <text x="450" y="392" text-anchor="middle" font-size="10" fill="#D32F2F">オンプレ → DXGW → TGW-A（VPC-A/B）は可能 | しかし VPC-A ↔ VPC-B（TGW経由）はDXGW経由では不可</text>
  <text x="450" y="404" text-anchor="middle" font-size="9" fill="#888">DXGW 経由で接続された VPC 間の通信は TGW のルーティング機能で制御（DXGW はハブとして機能しない）</text>
</svg>
