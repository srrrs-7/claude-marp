<svg viewBox="0 0 800 340" xmlns="http://www.w3.org/2000/svg" style="max-height:65vh;width:auto;display:block;margin:0 auto;letter-spacing:0;font-family:sans-serif">
  <rect width="800" height="340" fill="#fafafa" rx="10"/>
  <text x="400" y="26" text-anchor="middle" font-size="13" font-weight="bold" fill="#333">LAG (Link Aggregation Group) — 複数接続の束ね</text>

  <!-- Without LAG -->
  <rect x="20" y="45" width="340" height="270" fill="#fff3e0" stroke="#EF6C00" stroke-width="2" rx="8"/>
  <text x="190" y="68" text-anchor="middle" font-size="12" font-weight="bold" fill="#E65100">LAG なし（個別接続）</text>
  <!-- Router left -->
  <rect x="40" y="85" width="80" height="110" fill="#FFE0B2" stroke="#FF9800" stroke-width="1.5" rx="4"/>
  <text x="80" y="108" text-anchor="middle" font-size="10" font-weight="bold" fill="#E65100">Customer</text>
  <text x="80" y="122" text-anchor="middle" font-size="10" fill="#E65100">Router</text>
  <!-- 3 individual lines -->
  <line x1="120" y1="100" x2="230" y2="100" stroke="#FF9800" stroke-width="2"/>
  <line x1="120" y1="130" x2="230" y2="130" stroke="#FF9800" stroke-width="2"/>
  <line x1="120" y1="160" x2="230" y2="160" stroke="#FF9800" stroke-width="2"/>
  <text x="175" y="94" text-anchor="middle" font-size="9" fill="#555">10G #1</text>
  <text x="175" y="124" text-anchor="middle" font-size="9" fill="#555">10G #2</text>
  <text x="175" y="154" text-anchor="middle" font-size="9" fill="#555">10G #3</text>
  <!-- AWS DX Router right -->
  <rect x="230" y="85" width="80" height="110" fill="#FFE0B2" stroke="#FF9800" stroke-width="1.5" rx="4"/>
  <text x="270" y="108" text-anchor="middle" font-size="10" font-weight="bold" fill="#E65100">AWS DX</text>
  <text x="270" y="122" text-anchor="middle" font-size="10" fill="#E65100">Router</text>
  <!-- Problem note -->
  <rect x="40" y="210" width="300" height="85" fill="#ffccbc" stroke="#E64A19" stroke-width="1" rx="4"/>
  <text x="190" y="226" text-anchor="middle" font-size="10" font-weight="bold" fill="#BF360C">課題:</text>
  <text x="190" y="241" text-anchor="middle" font-size="9" fill="#BF360C">• 接続ごとに個別 BGP セッション管理</text>
  <text x="190" y="255" text-anchor="middle" font-size="9" fill="#BF360C">• 障害時の自動フェイルオーバーなし</text>
  <text x="190" y="269" text-anchor="middle" font-size="9" fill="#BF360C">• 帯域は最大 1接続分のみ利用</text>
  <text x="190" y="283" text-anchor="middle" font-size="9" fill="#BF360C">• 管理が煩雑（3つの接続を個別管理）</text>

  <!-- With LAG -->
  <rect x="440" y="45" width="340" height="270" fill="#e8f5e9" stroke="#388E3C" stroke-width="2" rx="8"/>
  <text x="610" y="68" text-anchor="middle" font-size="12" font-weight="bold" fill="#1B5E20">LAG あり（束ね）</text>
  <!-- Router left -->
  <rect x="460" y="85" width="80" height="110" fill="#C8E6C9" stroke="#4CAF50" stroke-width="1.5" rx="4"/>
  <text x="500" y="108" text-anchor="middle" font-size="10" font-weight="bold" fill="#1B5E20">Customer</text>
  <text x="500" y="122" text-anchor="middle" font-size="10" fill="#1B5E20">Router</text>
  <!-- LAG bundle -->
  <rect x="555" y="118" width="60" height="48" fill="#A5D6A7" stroke="#2E7D32" stroke-width="2" rx="4"/>
  <text x="585" y="137" text-anchor="middle" font-size="9" font-weight="bold" fill="#1B5E20">LAG</text>
  <text x="585" y="151" text-anchor="middle" font-size="9" fill="#1B5E20">Bundle</text>
  <!-- 3 lines to LAG -->
  <line x1="540" y1="100" x2="555" y2="128" stroke="#4CAF50" stroke-width="1.5"/>
  <line x1="540" y1="130" x2="555" y2="142" stroke="#4CAF50" stroke-width="1.5"/>
  <line x1="540" y1="160" x2="555" y2="156" stroke="#4CAF50" stroke-width="1.5"/>
  <!-- LAG to AWS -->
  <line x1="615" y1="142" x2="650" y2="142" stroke="#2E7D32" stroke-width="3"/>
  <polygon points="650,137 660,142 650,147" fill="#2E7D32"/>
  <!-- AWS DX Router right -->
  <rect x="660" y="85" width="80" height="110" fill="#C8E6C9" stroke="#4CAF50" stroke-width="1.5" rx="4"/>
  <text x="700" y="108" text-anchor="middle" font-size="10" font-weight="bold" fill="#1B5E20">AWS DX</text>
  <text x="700" y="122" text-anchor="middle" font-size="10" fill="#1B5E20">Router</text>
  <!-- Benefit note -->
  <rect x="460" y="210" width="300" height="85" fill="#c8e6c9" stroke="#388E3C" stroke-width="1" rx="4"/>
  <text x="610" y="226" text-anchor="middle" font-size="10" font-weight="bold" fill="#1B5E20">メリット:</text>
  <text x="610" y="241" text-anchor="middle" font-size="9" fill="#1B5E20">• 単一 BGP セッションで全回線を管理</text>
  <text x="610" y="255" text-anchor="middle" font-size="9" fill="#1B5E20">• 回線障害時に自動フェイルオーバー</text>
  <text x="610" y="269" text-anchor="middle" font-size="9" fill="#1B5E20">• 帯域を集約（3×10G = 最大 30G）</text>
  <text x="610" y="283" text-anchor="middle" font-size="9" fill="#1B5E20">• LACP で物理回線を論理的に1本化</text>

  <!-- Arrow between -->
  <polygon points="405,155 425,150 405,145" fill="#666"/>
  <line x1="395" y1="152" x2="425" y2="152" stroke="#666" stroke-width="2"/>
  <text x="409" y="170" text-anchor="middle" font-size="11" font-weight="bold" fill="#666">LAG化</text>
</svg>
