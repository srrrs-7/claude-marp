<svg viewBox="0 0 900 400" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="400" fill="#1a0a2e" rx="12"/>
  <text x="450" y="32" text-anchor="middle" font-family="Arial,sans-serif" font-size="17" font-weight="bold" fill="#ffffff">Amazon OpenSearch Serverless での実装</text>
  <text x="450" y="52" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a78bfa">Bedrock Knowledge Bases のデフォルトVector Store</text>

  <!-- Setup flow -->
  <rect x="15" y="65" width="870" height="90" rx="8" fill="#172554" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="450" y="83" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#60a5fa">セットアップフロー</text>
  <!-- Steps -->
  <rect x="25" y="90" width="145" height="55" rx="5" fill="#1e3a8a"/>
  <text x="98" y="108" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#93c5fd">① コレクション作成</text>
  <text x="98" y="124" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#60a5fa">タイプ: Vector Search</text>
  <text x="98" y="138" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#60a5fa">暗号化/ネットワーク設定</text>
  <polygon points="173,117 185,113 185,121" fill="#6d28d9"/>
  <rect x="188" y="90" width="155" height="55" rx="5" fill="#1d4ed8"/>
  <text x="266" y="108" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#bfdbfe">② インデックス設定</text>
  <text x="266" y="124" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#93c5fd">次元数: 1024</text>
  <text x="266" y="138" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#93c5fd">類似度: cosine/L2</text>
  <polygon points="346,117 358,113 358,121" fill="#6d28d9"/>
  <rect x="361" y="90" width="155" height="55" rx="5" fill="#3b0764"/>
  <text x="439" y="108" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#e9d5ff">③ データ取り込み</text>
  <text x="439" y="124" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#c4b5fd">S3からドキュメント</text>
  <text x="439" y="138" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#c4b5fd">→ 自動チャンク+Emb</text>
  <polygon points="519,117 531,113 531,121" fill="#6d28d9"/>
  <rect x="534" y="90" width="155" height="55" rx="5" fill="#064e3b"/>
  <text x="612" y="108" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#a7f3d0">④ KNN 検索</text>
  <text x="612" y="124" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#6ee7b7">クエリベクターで</text>
  <text x="612" y="138" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#6ee7b7">近傍チャンク取得</text>
  <polygon points="692,117 704,113 704,121" fill="#6d28d9"/>
  <rect x="707" y="90" width="168" height="55" rx="5" fill="#78350f"/>
  <text x="791" y="108" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#fde68a">⑤ LLM 生成</text>
  <text x="791" y="124" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">取得文書を基に</text>
  <text x="791" y="138" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">Bedrock FMが回答</text>

  <!-- HNSW Algorithm -->
  <rect x="15" y="168" width="430" height="120" rx="8" fill="#0f172a" stroke="#6d28d9" stroke-width="1.5"/>
  <text x="230" y="188" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#a78bfa">HNSW アルゴリズム</text>
  <text x="230" y="206" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#8b5cf6">Hierarchical Navigable Small World</text>
  <rect x="25" y="215" width="190" height="60" rx="5" fill="#1e1b4b"/>
  <text x="120" y="233" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#c4b5fd">特徴</text>
  <text x="120" y="249" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#a78bfa">グラフベースの近傍探索</text>
  <text x="120" y="263" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#a78bfa">O(log N)の検索効率</text>
  <text x="120" y="277" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#a78bfa">精度・速度のバランス</text>
  <rect x="228" y="215" width="200" height="60" rx="5" fill="#1e1b4b"/>
  <text x="328" y="233" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#6ee7b7">パラメータ</text>
  <text x="328" y="249" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">ef_construction: インデックス精度</text>
  <text x="328" y="263" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">m: グラフ接続数</text>
  <text x="328" y="277" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">高精度=インデックス時間増</text>

  <!-- Cost model -->
  <rect x="458" y="168" width="427" height="120" rx="8" fill="#0f172a" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="672" y="188" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#fbbf24">コスト・スケーリング</text>
  <rect x="468" y="198" width="200" height="78" rx="5" fill="#1f2937"/>
  <text x="568" y="215" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#fde68a">OCU 課金</text>
  <text x="568" y="231" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fbbf24">OpenSearch Compute Unit</text>
  <text x="568" y="247" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">Indexing OCU: 書き込み</text>
  <text x="568" y="263" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">Search OCU: 読み取り</text>
  <text x="568" y="279" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">最小: 2 OCU (Indexing+Search)</text>
  <rect x="678" y="198" width="196" height="78" rx="5" fill="#1f2937"/>
  <text x="776" y="215" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#fde68a">自動スケーリング</text>
  <text x="776" y="231" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fbbf24">負荷に応じ自動拡張</text>
  <text x="776" y="247" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">プロビジョニング不要</text>
  <text x="776" y="263" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">高可用性・マルチAZ</text>
  <text x="776" y="279" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">起動時間: 数分</text>

  <!-- KB Integration -->
  <rect x="15" y="300" width="870" height="90" rx="8" fill="#1e1b4b"/>
  <text x="450" y="320" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#fbbf24">Bedrock Knowledge Bases との自動統合</text>
  <rect x="30" y="332" width="265" height="46" rx="5" fill="#0f172a"/>
  <text x="163" y="350" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#60a5fa">KB作成時にOSSコレクションを自動作成</text>
  <text x="163" y="368" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#475569">インデックス設定・IAMロールも自動</text>
  <rect x="310" y="332" width="265" height="46" rx="5" fill="#0f172a"/>
  <text x="443" y="350" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#6ee7b7">S3→チャンク→Emb→OSS 全自動</text>
  <text x="443" y="368" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#475569">Sync APIで更新を手動/スケジュール実行</text>
  <rect x="590" y="332" width="290" height="46" rx="5" fill="#0f172a"/>
  <text x="735" y="350" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#c4b5fd">既存OSSへの接続も可能（BYOD）</text>
  <text x="735" y="368" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#475569">外部データ→Bedrock KBで検索・生成</text>
</svg>
