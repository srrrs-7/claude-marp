<svg viewBox="0 0 900 400" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="400" fill="#1a0a2e" rx="12"/>
  <text x="450" y="32" text-anchor="middle" font-family="Arial,sans-serif" font-size="17" font-weight="bold" fill="#ffffff">Amazon SageMaker Clarify</text>
  <text x="450" y="52" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a78bfa">バイアス検出・説明可能性・本番ドリフト監視の統合サービス</text>

  <!-- 3 capabilities -->
  <rect x="15" y="65" width="278" height="200" rx="8" fill="#172554" stroke="#3b82f6" stroke-width="2"/>
  <rect x="15" y="65" width="278" height="28" rx="8" fill="#1d4ed8"/>
  <text x="154" y="83" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#ffffff">① 学習前バイアス分析</text>
  <text x="154" y="103" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#93c5fd">データセット段階でのバイアス定量化</text>
  <!-- metrics table -->
  <rect x="25" y="110" width="258" height="145" rx="5" fill="#0f172a"/>
  <text x="154" y="128" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" font-weight="bold" fill="#fbbf24">主要バイアス指標</text>
  <!-- metric rows -->
  <rect x="30" y="133" width="120" height="18" rx="3" fill="#1e3a8a"/>
  <text x="90" y="145" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#93c5fd">CI (Class Imbalance)</text>
  <text x="220" y="145" font-family="Arial,sans-serif" font-size="8" fill="#60a5fa">クラス不均衡</text>
  <rect x="30" y="155" width="120" height="18" rx="3" fill="#1e3a8a"/>
  <text x="90" y="167" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#93c5fd">DPL (Difference in PL)</text>
  <text x="220" y="167" font-family="Arial,sans-serif" font-size="8" fill="#60a5fa">ラベル差異</text>
  <rect x="30" y="177" width="120" height="18" rx="3" fill="#1e3a8a"/>
  <text x="90" y="189" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#93c5fd">KL / JS 距離</text>
  <text x="220" y="189" font-family="Arial,sans-serif" font-size="8" fill="#60a5fa">分布差異</text>
  <rect x="30" y="199" width="120" height="18" rx="3" fill="#1e3a8a"/>
  <text x="90" y="211" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#93c5fd">TVD (Total Variation)</text>
  <text x="220" y="211" font-family="Arial,sans-serif" font-size="8" fill="#60a5fa">合計変動距離</text>
  <text x="154" y="240" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">Processing Job として実行（スケーラブル）</text>

  <!-- Post-training bias -->
  <rect x="308" y="65" width="278" height="200" rx="8" fill="#3b0764" stroke="#a855f7" stroke-width="2"/>
  <rect x="308" y="65" width="278" height="28" rx="8" fill="#6d28d9"/>
  <text x="447" y="83" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#ffffff">② 学習後バイアス分析</text>
  <text x="447" y="103" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#c4b5fd">予測結果の公平性を多指標で測定</text>
  <rect x="318" y="110" width="258" height="145" rx="5" fill="#0f172a"/>
  <text x="447" y="128" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" font-weight="bold" fill="#fbbf24">公平性指標</text>
  <rect x="323" y="133" width="120" height="18" rx="3" fill="#4c1d95"/>
  <text x="383" y="145" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#c4b5fd">DPPL (Demographic P.)</text>
  <text x="510" y="145" font-family="Arial,sans-serif" font-size="8" fill="#a78bfa">予測率差異</text>
  <rect x="323" y="155" width="120" height="18" rx="3" fill="#4c1d95"/>
  <text x="383" y="167" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#c4b5fd">DI (Disparate Impact)</text>
  <text x="510" y="167" font-family="Arial,sans-serif" font-size="8" fill="#a78bfa">比率比較</text>
  <rect x="323" y="177" width="120" height="18" rx="3" fill="#4c1d95"/>
  <text x="383" y="189" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#c4b5fd">DCR (Class Rate)</text>
  <text x="510" y="189" font-family="Arial,sans-serif" font-size="8" fill="#a78bfa">拒否率差異</text>
  <rect x="323" y="199" width="120" height="18" rx="3" fill="#4c1d95"/>
  <text x="383" y="211" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#c4b5fd">TE (Treatment Equity)</text>
  <text x="510" y="211" font-family="Arial,sans-serif" font-size="8" fill="#a78bfa">処遇均等</text>
  <text x="447" y="240" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">Bias Report として自動生成・可視化</text>

  <!-- Production monitoring -->
  <rect x="601" y="65" width="284" height="200" rx="8" fill="#064e3b" stroke="#10b981" stroke-width="2"/>
  <rect x="601" y="65" width="284" height="28" rx="8" fill="#065f46"/>
  <text x="743" y="83" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#ffffff">③ 本番モニタリング</text>
  <text x="743" y="103" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#6ee7b7">継続的なドリフト・バイアス検出</text>
  <rect x="611" y="110" width="264" height="145" rx="5" fill="#0f172a"/>
  <!-- monitoring flow -->
  <rect x="621" y="118" width="110" height="25" rx="4" fill="#052e16"/>
  <text x="676" y="134" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">本番予測データ</text>
  <polygon points="676,145 671,153 681,153" fill="#10b981"/>
  <rect x="621" y="155" width="110" height="25" rx="4" fill="#052e16"/>
  <text x="676" y="171" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">Clarify 分析</text>
  <polygon points="676,182 671,190 681,190" fill="#10b981"/>
  <rect x="621" y="192" width="110" height="22" rx="4" fill="#052e16"/>
  <text x="676" y="207" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">アラート・報告</text>
  <!-- right panel -->
  <text x="748" y="130" font-family="Arial,sans-serif" font-size="9" fill="#a7f3d0">検出対象:</text>
  <text x="748" y="146" font-family="Arial,sans-serif" font-size="8" fill="#6ee7b7">• データドリフト</text>
  <text x="748" y="160" font-family="Arial,sans-serif" font-size="8" fill="#6ee7b7">• 予測バイアス変化</text>
  <text x="748" y="174" font-family="Arial,sans-serif" font-size="8" fill="#6ee7b7">• モデル精度劣化</text>
  <text x="748" y="188" font-family="Arial,sans-serif" font-size="8" fill="#6ee7b7">• 特徴量分布変化</text>
  <text x="743" y="240" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">CloudWatch → SNS アラート連携</text>

  <!-- SHAP section -->
  <rect x="15" y="278" width="870" height="112" rx="8" fill="#0f172a"/>
  <text x="450" y="296" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#fbbf24">SHAP 説明可能性レポート — Clarify 統合</text>
  <rect x="30" y="306" width="195" height="72" rx="5" fill="#172554"/>
  <text x="128" y="322" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#60a5fa">グローバル説明</text>
  <text x="128" y="338" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#93c5fd">モデル全体の</text>
  <text x="128" y="354" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#93c5fd">特徴量重要度</text>
  <text x="128" y="370" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">平均 |SHAP| 値</text>
  <rect x="238" y="306" width="195" height="72" rx="5" fill="#3b0764"/>
  <text x="336" y="322" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#c4b5fd">ローカル説明</text>
  <text x="336" y="338" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#a78bfa">個別予測への</text>
  <text x="336" y="354" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#a78bfa">各特徴量寄与</text>
  <text x="336" y="370" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">ウォーターフォールチャート</text>
  <rect x="446" y="306" width="195" height="72" rx="5" fill="#064e3b"/>
  <text x="544" y="322" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#6ee7b7">PDPM 対応</text>
  <text x="544" y="338" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">部分依存プロット</text>
  <text x="544" y="354" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">特徴量間の相互作用</text>
  <text x="544" y="370" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">ノンパラメトリック</text>
  <rect x="654" y="306" width="216" height="72" rx="5" fill="#78350f"/>
  <text x="762" y="322" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" font-weight="bold" fill="#fde68a">試験ポイント</text>
  <text x="762" y="338" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">Processing Job で実行</text>
  <text x="762" y="354" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">Studio で可視化</text>
  <text x="762" y="370" text-anchor="middle" font-family="Arial,sans-serif" font-size="8" fill="#475569">バイアス ≠ 説明可能性</text>
</svg>
