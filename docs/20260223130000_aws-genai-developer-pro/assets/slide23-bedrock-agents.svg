<svg viewBox="0 0 900 430" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="430" fill="#1a0a2e" rx="12"/>
  <text x="450" y="35" text-anchor="middle" font-family="Arial,sans-serif" font-size="17" font-weight="bold" fill="#ffffff">Bedrock Agents: 概要と仕組み</text>
  <text x="450" y="55" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a78bfa">ReActパターンで自律的にタスクを実行するマネージドAIエージェント</text>

  <!-- ReAct Loop -->
  <rect x="15" y="68" width="400" height="230" rx="8" fill="#1e1b4b" stroke="#7c3aed" stroke-width="2"/>
  <text x="215" y="90" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#e9d5ff">ReAct ループ（エージェントの思考サイクル）</text>

  <!-- User input -->
  <rect x="30" y="100" width="370" height="28" rx="5" fill="#172554"/>
  <text x="215" y="119" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#93c5fd">ユーザー: 「先月の売上レポートを作成して」</text>

  <!-- Thought -->
  <rect x="30" y="138" width="160" height="40" rx="5" fill="#3b0764"/>
  <text x="110" y="155" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#e9d5ff">Thought 🧠</text>
  <text x="110" y="172" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#c4b5fd">何をすべきか推論</text>

  <!-- Action -->
  <polygon points="196,158 214,153 214,163" fill="#a855f7"/>
  <rect x="215" y="138" width="160" height="40" rx="5" fill="#4c1d95"/>
  <text x="295" y="155" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#ffffff">Action ⚡</text>
  <text x="295" y="172" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#c4b5fd">ツール/APIを実行</text>

  <!-- Observation -->
  <polygon points="110,183 105,178 115,178" fill="#a855f7"/>
  <polygon points="295,183 290,178 300,178" fill="#a855f7"/>
  <rect x="30" y="188" width="370" height="36" rx="5" fill="#1f2937"/>
  <text x="215" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#fbbf24">Observation 👁</text>
  <text x="215" y="220" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#d1d5db">ツール実行結果を観察し次のアクションを決定</text>

  <!-- Loop back -->
  <text x="215" y="248" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a78bfa">↑ 完了するまで繰り返す ↑</text>

  <!-- Final answer -->
  <rect x="30" y="258" width="370" height="28" rx="5" fill="#065f46"/>
  <text x="215" y="276" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#6ee7b7">Final Answer: レポート生成完了・S3に保存</text>

  <!-- Components -->
  <rect x="430" y="68" width="455" height="230" rx="8" fill="#1f2937" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="658" y="90" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#60a5fa">Bedrock Agent コンポーネント</text>

  <rect x="445" y="100" width="200" height="90" rx="6" fill="#172554"/>
  <text x="545" y="120" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#93c5fd">アクショングループ</text>
  <text x="545" y="140" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#bfdbfe">Lambda + OpenAPIスキーマ</text>
  <text x="545" y="158" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#bfdbfe">外部API・DB・AWSサービス</text>
  <text x="545" y="174" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#bfdbfe">組み込みアクション</text>
  <text x="545" y="184" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#60a5fa">例: 在庫照会、注文処理</text>

  <rect x="665" y="100" width="205" height="90" rx="6" fill="#3b0764"/>
  <text x="768" y="120" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#c4b5fd">Knowledge Bases連携</text>
  <text x="768" y="140" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#e9d5ff">RAGで社内ドキュメント参照</text>
  <text x="768" y="158" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#e9d5ff">複数KBをアタッチ可能</text>
  <text x="768" y="174" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#e9d5ff">メタデータフィルタリング</text>
  <text x="768" y="184" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#a78bfa">例: 製品マニュアル参照</text>

  <rect x="445" y="200" width="200" height="85" rx="6" fill="#064e3b"/>
  <text x="545" y="220" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#6ee7b7">メモリ管理</text>
  <text x="545" y="238" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">セッションメモリ（短期）</text>
  <text x="545" y="254" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">長期メモリ（要設定）</text>
  <text x="545" y="270" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">セッションID管理</text>
  <text x="545" y="280" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#34d399">会話継続性の確保</text>

  <rect x="665" y="200" width="205" height="85" rx="6" fill="#78350f"/>
  <text x="768" y="220" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#fcd34d">プロンプト設定</text>
  <text x="768" y="238" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">システムプロンプト（役割定義）</text>
  <text x="768" y="254" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">オーケストレーター指示</text>
  <text x="768" y="270" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">ガードレール設定</text>
  <text x="768" y="280" text-anchor="middle" font-family="Arial,sans-serif" font-size="9" fill="#fbbf24">エラーハンドリング設定</text>

  <!-- Bottom tips -->
  <rect x="15" y="312" width="870" height="105" rx="8" fill="#1e1b4b"/>
  <text x="450" y="332" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#fbbf24">Bedrock Agents の重要ポイント（試験頻出）</text>
  <rect x="30" y="344" width="260" height="62" rx="5" fill="#0f172a"/>
  <text x="160" y="364" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#60a5fa">マルチエージェント</text>
  <text x="160" y="382" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#93c5fd">スーパーバイザーエージェントが</text>
  <text x="160" y="396" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#93c5fd">サブエージェントを呼び出して並列実行</text>
  <rect x="310" y="344" width="260" height="62" rx="5" fill="#0f172a"/>
  <text x="440" y="364" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#34d399">Code Interpreter</text>
  <text x="440" y="382" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#6ee7b7">Pythonコードを安全な</text>
  <text x="440" y="396" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#6ee7b7">サンドボックスで実行可能</text>
  <rect x="590" y="344" width="280" height="62" rx="5" fill="#0f172a"/>
  <text x="730" y="364" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#d8b4fe">Inline Agent</text>
  <text x="730" y="382" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#c4b5fd">コード内でエージェントを動的に</text>
  <text x="730" y="396" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#c4b5fd">定義・実行（Managed Prompt不要）</text>
</svg>
