<svg viewBox="0 0 900 430" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="430" fill="#1a0a2e" rx="12"/>
  <text x="450" y="35" text-anchor="middle" font-family="Arial,sans-serif" font-size="17" font-weight="bold" fill="#ffffff">ハルシネーション（Hallucination）</text>
  <text x="450" y="55" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ef4444">LLMが事実と異なる情報を、自信を持って生成する現象 — 最重要課題</text>

  <!-- Definition -->
  <rect x="15" y="68" width="870" height="46" rx="8" fill="#450a0a"/>
  <text x="450" y="88" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#fca5a5">例: 「AWS Bedrockは2018年にリリースされた」（実際は2023年）/ 存在しないAPIメソッドの生成</text>
  <text x="450" y="106" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#f87171">モデルは確率的に次トークンを予測するため、知識の欠如 → 「それらしい」情報を補完してしまう</text>

  <!-- Causes -->
  <rect x="15" y="125" width="415" height="140" rx="8" fill="#1f2937" stroke="#ef4444" stroke-width="1.5"/>
  <text x="228" y="147" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#ef4444">主な原因</text>
  <rect x="30" y="158" width="390" height="28" rx="5" fill="#374151"/>
  <text x="225" y="177" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fca5a5">① 学習データの偏り・欠如（知識カットオフ）</text>
  <rect x="30" y="193" width="390" height="28" rx="5" fill="#374151"/>
  <text x="225" y="212" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fca5a5">② 確率的生成（Softmax）による誤推測</text>
  <rect x="30" y="228" width="390" height="28" rx="5" fill="#374151"/>
  <text x="225" y="247" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fca5a5">③ 高Temperature設定（創造的すぎる出力）</text>

  <!-- Solutions -->
  <rect x="465" y="125" width="415" height="140" rx="8" fill="#064e3b" stroke="#10b981" stroke-width="1.5"/>
  <text x="673" y="147" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#34d399">対策手法（試験重要）</text>
  <rect x="480" y="158" width="385" height="28" rx="5" fill="#065f46"/>
  <text x="673" y="177" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a7f3d0">① RAG — 根拠ドキュメントから情報を取得</text>
  <rect x="480" y="193" width="385" height="28" rx="5" fill="#065f46"/>
  <text x="673" y="212" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a7f3d0">② Bedrock Guardrails — グラウンディングチェック</text>
  <rect x="480" y="228" width="385" height="28" rx="5" fill="#065f46"/>
  <text x="673" y="247" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a7f3d0">③ Temperature低下 + 引用明示の指示</text>

  <!-- Grounding check flow -->
  <rect x="15" y="278" width="870" height="140" rx="8" fill="#1e1b4b"/>
  <text x="450" y="298" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#fbbf24">Bedrock Guardrails: Grounding Check（ハルシネーション検出）</text>
  <!-- Flow -->
  <rect x="35" y="312" width="140" height="40" rx="6" fill="#172554"/>
  <text x="105" y="330" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#93c5fd">ユーザー質問</text>
  <text x="105" y="346" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#60a5fa">+ RAG検索結果</text>
  <polygon points="182,332 200,327 200,337" fill="#6d28d9"/>
  <rect x="202" y="312" width="140" height="40" rx="6" fill="#172554"/>
  <text x="272" y="330" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#93c5fd">LLM生成</text>
  <text x="272" y="346" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#60a5fa">回答テキスト</text>
  <polygon points="349,332 367,327 367,337" fill="#6d28d9"/>
  <rect x="369" y="312" width="160" height="40" rx="6" fill="#4c1d95"/>
  <text x="449" y="330" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#e9d5ff">Grounding Check</text>
  <text x="449" y="346" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#c4b5fd">ソースと回答を比較</text>
  <polygon points="536,332 554,327 554,337" fill="#6d28d9"/>
  <!-- Branch -->
  <rect x="556" y="305" width="130" height="32" rx="5" fill="#065f46"/>
  <text x="621" y="325" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#6ee7b7">✅ 一致 → 通過</text>
  <rect x="556" y="345" width="130" height="32" rx="5" fill="#450a0a"/>
  <text x="621" y="365" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fca5a5">❌ 不一致 → ブロック</text>
  <polygon points="694,332 712,327 712,337" fill="#6d28d9"/>
  <rect x="714" y="312" width="155" height="60" rx="5" fill="#374151"/>
  <text x="792" y="332" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#d1d5db">スコア閾値設定</text>
  <text x="792" y="350" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#9ca3af">HIGH / MEDIUM / LOW</text>
  <text x="792" y="366" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#9ca3af">ユースケースで調整</text>
  <text x="450" y="400" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#64748b">Faithfulness（忠実性）スコア：回答がソース文書に根拠があるか定量評価</text>
</svg>
