<svg viewBox="0 0 900 420" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="420" fill="#1a0a2e" rx="12"/>
  <text x="450" y="36" text-anchor="middle" font-family="Arial,sans-serif" font-size="18" font-weight="bold" fill="#ffffff">トークン化（Tokenization）</text>

  <!-- BPE explanation -->
  <rect x="20" y="58" width="860" height="52" rx="8" fill="#1e1b4b"/>
  <text x="450" y="78" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#a5b4fc">BPE（Byte Pair Encoding）— サブワードトークナイザー</text>
  <text x="450" y="98" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#818cf8">頻出する文字の組み合わせをサブワード単位で学習。未知語にも対応でき、語彙サイズとモデル効率のバランスを最適化</text>

  <!-- English example -->
  <rect x="20" y="122" width="415" height="120" rx="8" fill="#172554" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="228" y="142" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#93c5fd">英語テキストの例</text>
  <text x="228" y="162" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#bfdbfe">"Amazon Web Services"</text>
  <text x="228" y="180" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#60a5fa">↓</text>
  <!-- Tokens -->
  <rect x="40" y="188" width="72" height="26" rx="5" fill="#1d4ed8"/>
  <text x="76" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">"Amazon"</text>
  <rect x="122" y="188" width="58" height="26" rx="5" fill="#2563eb"/>
  <text x="151" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">" Web"</text>
  <rect x="190" y="188" width="74" height="26" rx="5" fill="#3b82f6"/>
  <text x="227" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">"Services"</text>
  <text x="295" y="205" font-family="Arial,sans-serif" font-size="14" fill="#60a5fa">→ 3 tokens</text>
  <text x="228" y="232" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#475569">1 token ≈ 0.75単語（英語）</text>

  <!-- Japanese example -->
  <rect x="465" y="122" width="415" height="120" rx="8" fill="#2e1065" stroke="#a855f7" stroke-width="1.5"/>
  <text x="673" y="142" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#c4b5fd">日本語テキストの例</text>
  <text x="673" y="162" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#e9d5ff">"クラウドコンピューティング"</text>
  <text x="673" y="180" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#a78bfa">↓</text>
  <!-- Japanese tokens -->
  <rect x="485" y="188" width="42" height="26" rx="5" fill="#6d28d9"/>
  <text x="506" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">クラ</text>
  <rect x="532" y="188" width="42" height="26" rx="5" fill="#7c3aed"/>
  <text x="553" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">ウド</text>
  <rect x="579" y="188" width="42" height="26" rx="5" fill="#8b5cf6"/>
  <text x="600" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">コン</text>
  <rect x="626" y="188" width="42" height="26" rx="5" fill="#7c3aed"/>
  <text x="647" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">ピュ</text>
  <rect x="673" y="188" width="42" height="26" rx="5" fill="#6d28d9"/>
  <text x="694" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">ーテ</text>
  <rect x="720" y="188" width="42" height="26" rx="5" fill="#8b5cf6"/>
  <text x="741" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">ィン</text>
  <rect x="767" y="188" width="42" height="26" rx="5" fill="#7c3aed"/>
  <text x="788" y="205" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#ffffff">グ</text>
  <text x="840" y="205" font-family="Arial,sans-serif" font-size="11" fill="#a78bfa">7t</text>
  <text x="673" y="232" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#475569">日本語: 1token ≈ 1〜2文字（英語の約2倍）</text>

  <!-- Token ID section -->
  <rect x="20" y="258" width="860" height="70" rx="8" fill="#1f2937"/>
  <text x="450" y="278" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#fbbf24">トークン ID への変換</text>
  <text x="120" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#e5e7eb">"AWS"</text>
  <polygon points="155,299 175,294 175,304" fill="#6b7280"/>
  <text x="210" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#fbbf24">12045</text>
  <text x="310" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#e5e7eb">"Cloud"</text>
  <polygon points="358,299 378,294 378,304" fill="#6b7280"/>
  <text x="416" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#fbbf24">8234</text>
  <text x="510" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#e5e7eb">"は"</text>
  <polygon points="542,299 562,294 562,304" fill="#6b7280"/>
  <text x="596" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#fbbf24">31672</text>
  <text x="700" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#e5e7eb">[EOS]</text>
  <polygon points="742,299 762,294 762,304" fill="#6b7280"/>
  <text x="810" y="300" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#fbbf24">2</text>
  <text x="450" y="318" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#4b5563">各トークンは辞書(Vocabulary)のインデックスID。語彙サイズは通常32K〜100K</text>

  <!-- Cost impact -->
  <rect x="20" y="340" width="415" height="62" rx="8" fill="#064e3b"/>
  <text x="228" y="360" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#34d399">コストへの影響（試験重要）</text>
  <text x="228" y="380" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#6ee7b7">Bedrock課金: 入力/出力トークン数で決定</text>
  <text x="228" y="396" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#6ee7b7">日本語アプリは英語の約2倍のトークンコスト</text>

  <rect x="465" y="340" width="415" height="62" rx="8" fill="#1e3a8a"/>
  <text x="673" y="360" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" font-weight="bold" fill="#93c5fd">コンテキスト制限との関係</text>
  <text x="673" y="380" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#bfdbfe">モデルのコンテキストウィンドウ = 最大トークン数</text>
  <text x="673" y="396" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#bfdbfe">長いプロンプト → ウィンドウ内に収まるか確認</text>
</svg>
