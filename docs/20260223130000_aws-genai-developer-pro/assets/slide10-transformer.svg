<svg viewBox="0 0 900 450" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="450" fill="#1a0a2e" rx="12"/>
  <text x="450" y="35" text-anchor="middle" font-family="Arial,sans-serif" font-size="17" font-weight="bold" fill="#ffffff">Transformer アーキテクチャ概要</text>
  <text x="450" y="56" text-anchor="middle" font-family="Arial,sans-serif" font-size="12" fill="#a78bfa">2017 "Attention Is All You Need" — Google Brain</text>

  <!-- 3 types header -->
  <text x="175" y="85" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#60a5fa">Encoder-Only</text>
  <text x="450" y="85" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#34d399">Encoder-Decoder</text>
  <text x="725" y="85" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#f59e0b">Decoder-Only</text>

  <!-- Encoder Only -->
  <rect x="30" y="95" width="290" height="240" rx="8" fill="#172554" stroke="#3b82f6" stroke-width="1.5"/>
  <rect x="55" y="110" width="240" height="32" rx="5" fill="#1e40af"/>
  <text x="175" y="131" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#bfdbfe">Input Embedding + Pos Encoding</text>
  <polygon points="175,148 170,143 180,143" fill="#60a5fa"/>
  <rect x="55" y="150" width="240" height="32" rx="5" fill="#1d4ed8"/>
  <text x="175" y="171" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#e0f2fe">Multi-Head Self-Attention</text>
  <polygon points="175,188 170,183 180,183" fill="#60a5fa"/>
  <rect x="55" y="190" width="240" height="32" rx="5" fill="#1d4ed8"/>
  <text x="175" y="211" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#e0f2fe">Feed Forward + LayerNorm</text>
  <text x="175" y="238" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#60a5fa">× N layers</text>
  <polygon points="175,248 170,243 180,243" fill="#60a5fa"/>
  <rect x="55" y="252" width="240" height="30" rx="5" fill="#0f172a"/>
  <text x="175" y="272" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#93c5fd">Output: [CLS] Representation</text>
  <text x="175" y="318" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#64748b">用途: 分類・エンベディング</text>
  <text x="175" y="334" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#3b82f6">例: BERT / Titan Embeddings</text>

  <!-- Encoder-Decoder -->
  <rect x="305" y="95" width="290" height="240" rx="8" fill="#064e3b" stroke="#10b981" stroke-width="1.5"/>
  <!-- Encoder -->
  <rect x="325" y="108" width="115" height="100" rx="5" fill="#065f46"/>
  <text x="383" y="126" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#6ee7b7">Encoder</text>
  <text x="383" y="144" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">Self-Attention</text>
  <text x="383" y="160" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">FFN + Norm</text>
  <text x="383" y="200" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#34d399">Source Text</text>
  <!-- Cross Attention arrow -->
  <polygon points="447,155 460,150 460,160" fill="#10b981"/>
  <rect x="439" y="153" width="21" height="6" fill="#10b981"/>
  <!-- Decoder -->
  <rect x="462" y="108" width="115" height="100" rx="5" fill="#065f46"/>
  <text x="520" y="126" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#6ee7b7">Decoder</text>
  <text x="520" y="144" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">Masked Att</text>
  <text x="520" y="160" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">Cross-Att</text>
  <text x="520" y="176" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#a7f3d0">FFN + Norm</text>
  <text x="520" y="200" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#34d399">Target Text</text>
  <polygon points="450" y="215"/>
  <text x="450" y="234" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#6b7280">Cross-Attention: Enc→Dec</text>
  <rect x="345" y="250" width="200" height="30" rx="5" fill="#0f172a"/>
  <text x="450" y="270" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#6ee7b7">Generated Output</text>
  <text x="450" y="318" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#64748b">用途: 翻訳・要約</text>
  <text x="450" y="334" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#10b981">例: T5 / BART</text>

  <!-- Decoder Only -->
  <rect x="580" y="95" width="290" height="240" rx="8" fill="#78350f" stroke="#f59e0b" stroke-width="2"/>
  <text x="725" y="114" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fbbf24">★ LLM の主流アーキテクチャ</text>
  <rect x="600" y="120" width="250" height="32" rx="5" fill="#92400e"/>
  <text x="725" y="141" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fde68a">Input Embedding + Pos Encoding</text>
  <polygon points="725,158 720,153 730,153" fill="#f59e0b"/>
  <rect x="600" y="162" width="250" height="32" rx="5" fill="#b45309"/>
  <text x="725" y="183" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fef3c7">Masked Multi-Head Self-Attention</text>
  <polygon points="725,200 720,195 730,195" fill="#f59e0b"/>
  <rect x="600" y="203" width="250" height="32" rx="5" fill="#b45309"/>
  <text x="725" y="224" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fef3c7">Feed Forward + LayerNorm</text>
  <text x="725" y="248" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#f59e0b">× N layers (12〜96+)</text>
  <polygon points="725,258 720,253 730,253" fill="#f59e0b"/>
  <rect x="600" y="260" width="250" height="30" rx="5" fill="#0f172a"/>
  <text x="725" y="280" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fcd34d">Next Token Probability</text>
  <text x="725" y="316" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#64748b">用途: テキスト生成・対話</text>
  <text x="725" y="334" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" font-weight="bold" fill="#f59e0b">例: Claude / GPT / Llama</text>

  <!-- Bottom summary -->
  <rect x="30" y="356" width="840" height="78" rx="8" fill="#1e1b4b"/>
  <text x="450" y="376" text-anchor="middle" font-family="Arial,sans-serif" font-size="13" font-weight="bold" fill="#fbbf24">Transformer の革新的要素（試験重要）</text>
  <rect x="45" y="386" width="190" height="38" rx="5" fill="#0f172a"/>
  <text x="140" y="403" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#a5b4fc">Self-Attention</text>
  <text x="140" y="418" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#818cf8">全トークン間の関係を計算</text>
  <rect x="250" y="386" width="190" height="38" rx="5" fill="#0f172a"/>
  <text x="345" y="403" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#6ee7b7">位置エンコーディング</text>
  <text x="345" y="418" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#34d399">順序情報をベクターに付与</text>
  <rect x="455" y="386" width="190" height="38" rx="5" fill="#0f172a"/>
  <text x="550" y="403" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#fcd34d">並列学習可能</text>
  <text x="550" y="418" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fde68a">RNNの逐次処理を克服</text>
  <rect x="660" y="386" width="195" height="38" rx="5" fill="#0f172a"/>
  <text x="758" y="403" text-anchor="middle" font-family="Arial,sans-serif" font-size="11" fill="#f9a8d4">スケーラビリティ</text>
  <text x="758" y="418" text-anchor="middle" font-family="Arial,sans-serif" font-size="10" fill="#fbcfe8">数十億パラメータへ拡張可能</text>
</svg>
