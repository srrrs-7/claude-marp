<svg viewBox="0 0 1050 520" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="1050" height="520" fill="#1e1e2e"/>

  <!-- Title -->
  <text x="525" y="25" text-anchor="middle" font-size="16" font-weight="bold" fill="#89b4fa" font-family="sans-serif">SAML Assertion 構造</text>

  <!-- SAMLResponse root box -->
  <rect x="20" y="42" width="220" height="50" fill="#313244" stroke="#89b4fa" stroke-width="2" rx="6"/>
  <text x="130" y="62" text-anchor="middle" font-size="13" font-weight="bold" fill="#89b4fa" font-family="sans-serif">&lt;SAMLResponse&gt;</text>
  <text x="130" y="82" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">ID, IssueInstant, Destination</text>

  <!-- Assertion box -->
  <line x1="240" y1="67" x2="295" y2="67" stroke="#45475a" stroke-width="1.5"/>
  <line x1="295" y1="67" x2="295" y2="92" stroke="#45475a" stroke-width="1.5"/>
  <line x1="295" y1="92" x2="320" y2="92" stroke="#45475a" stroke-width="1.5"/>
  <rect x="320" y="67" width="200" height="50" fill="#313244" stroke="#cba6f7" stroke-width="2" rx="6"/>
  <text x="420" y="87" text-anchor="middle" font-size="13" font-weight="bold" fill="#cba6f7" font-family="sans-serif">&lt;Assertion&gt;</text>
  <text x="420" y="107" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">ID, IssueInstant, Version="2.0"</text>

  <!-- Issuer -->
  <line x1="520" y1="92" x2="580" y2="92" stroke="#45475a" stroke-width="1.5"/>
  <rect x="580" y="68" width="190" height="46" fill="#2a2a3e" stroke="#6c7086" stroke-width="1" rx="4"/>
  <text x="675" y="86" text-anchor="middle" font-size="12" font-weight="bold" fill="#f9e2af" font-family="sans-serif">&lt;Issuer&gt;</text>
  <text x="675" y="103" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">https://idp.example.com</text>

  <!-- Subject block -->
  <line x1="520" y1="92" x2="545" y2="92" stroke="#45475a" stroke-width="1.5"/>
  <line x1="545" y1="92" x2="545" y2="160" stroke="#45475a" stroke-width="1.5"/>
  <line x1="545" y1="160" x2="580" y2="160" stroke="#45475a" stroke-width="1.5"/>
  <rect x="580" y="135" width="190" height="50" fill="#2a2a3e" stroke="#a6e3a1" stroke-width="1.5" rx="4"/>
  <text x="675" y="155" text-anchor="middle" font-size="12" font-weight="bold" fill="#a6e3a1" font-family="sans-serif">&lt;Subject&gt;</text>
  <text x="675" y="173" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">認証対象のユーザー</text>
  <!-- NameID -->
  <line x1="770" y1="160" x2="810" y2="160" stroke="#45475a" stroke-width="1.5"/>
  <rect x="810" y="140" width="220" height="42" fill="#1e2a1e" stroke="#a6e3a1" stroke-width="1" rx="4"/>
  <text x="920" y="158" text-anchor="middle" font-size="11" font-weight="bold" fill="#a6e3a1" font-family="sans-serif">&lt;NameID Format="email"&gt;</text>
  <text x="920" y="175" text-anchor="middle" font-size="10" fill="#cdd6f4" font-family="sans-serif">user@example.com</text>

  <!-- Conditions block -->
  <line x1="545" y1="92" x2="545" y2="235" stroke="#45475a" stroke-width="1.5"/>
  <line x1="545" y1="235" x2="580" y2="235" stroke="#45475a" stroke-width="1.5"/>
  <rect x="580" y="210" width="190" height="50" fill="#2a2a3e" stroke="#fab387" stroke-width="1.5" rx="4"/>
  <text x="675" y="230" text-anchor="middle" font-size="12" font-weight="bold" fill="#fab387" font-family="sans-serif">&lt;Conditions&gt;</text>
  <text x="675" y="248" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">NotBefore / NotOnOrAfter</text>
  <!-- AudienceRestriction -->
  <line x1="770" y1="235" x2="810" y2="235" stroke="#45475a" stroke-width="1.5"/>
  <rect x="810" y="212" width="220" height="46" fill="#2a1a0e" stroke="#fab387" stroke-width="1" rx="4"/>
  <text x="920" y="230" text-anchor="middle" font-size="11" font-weight="bold" fill="#fab387" font-family="sans-serif">&lt;AudienceRestriction&gt;</text>
  <text x="920" y="247" text-anchor="middle" font-size="10" fill="#cdd6f4" font-family="sans-serif">&lt;Audience&gt;https://sp.example.com</text>

  <!-- AuthnStatement block -->
  <line x1="545" y1="92" x2="545" y2="310" stroke="#45475a" stroke-width="1.5"/>
  <line x1="545" y1="310" x2="580" y2="310" stroke="#45475a" stroke-width="1.5"/>
  <rect x="580" y="285" width="190" height="50" fill="#2a2a3e" stroke="#94e2d5" stroke-width="1.5" rx="4"/>
  <text x="675" y="305" text-anchor="middle" font-size="12" font-weight="bold" fill="#94e2d5" font-family="sans-serif">&lt;AuthnStatement&gt;</text>
  <text x="675" y="323" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">AuthnInstant, SessionIndex</text>
  <!-- AuthnContext -->
  <line x1="770" y1="310" x2="810" y2="310" stroke="#45475a" stroke-width="1.5"/>
  <rect x="810" y="287" width="220" height="46" fill="#1a2a2a" stroke="#94e2d5" stroke-width="1" rx="4"/>
  <text x="920" y="305" text-anchor="middle" font-size="11" font-weight="bold" fill="#94e2d5" font-family="sans-serif">&lt;AuthnContext&gt;</text>
  <text x="920" y="322" text-anchor="middle" font-size="10" fill="#cdd6f4" font-family="sans-serif">PasswordProtectedTransport</text>

  <!-- AttributeStatement block -->
  <line x1="545" y1="310" x2="545" y2="385" stroke="#45475a" stroke-width="1.5"/>
  <line x1="545" y1="385" x2="580" y2="385" stroke="#45475a" stroke-width="1.5"/>
  <rect x="580" y="360" width="190" height="50" fill="#2a2a3e" stroke="#f5c2e7" stroke-width="1.5" rx="4"/>
  <text x="675" y="380" text-anchor="middle" font-size="12" font-weight="bold" fill="#f5c2e7" font-family="sans-serif">&lt;AttributeStatement&gt;</text>
  <text x="675" y="398" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">ユーザー属性のコレクション</text>
  <!-- Attributes -->
  <line x1="770" y1="385" x2="810" y2="385" stroke="#45475a" stroke-width="1.5"/>
  <line x1="810" y1="355" x2="810" y2="445" stroke="#45475a" stroke-width="1.5"/>
  <line x1="810" y1="355" x2="835" y2="355" stroke="#45475a" stroke-width="1.5"/>
  <rect x="835" y="335" width="195" height="30" fill="#2a1a2a" stroke="#f5c2e7" stroke-width="1" rx="3"/>
  <text x="932" y="354" text-anchor="middle" font-size="10" fill="#f5c2e7" font-family="sans-serif">email: user@example.com</text>
  <line x1="810" y1="385" x2="835" y2="385" stroke="#45475a" stroke-width="1.5"/>
  <rect x="835" y="371" width="195" height="30" fill="#2a1a2a" stroke="#f5c2e7" stroke-width="1" rx="3"/>
  <text x="932" y="390" text-anchor="middle" font-size="10" fill="#f5c2e7" font-family="sans-serif">displayName: John Doe</text>
  <line x1="810" y1="415" x2="835" y2="415" stroke="#45475a" stroke-width="1.5"/>
  <rect x="835" y="401" width="195" height="30" fill="#2a1a2a" stroke="#f5c2e7" stroke-width="1" rx="3"/>
  <text x="932" y="420" text-anchor="middle" font-size="10" fill="#f5c2e7" font-family="sans-serif">groups: admin, developers</text>
  <line x1="810" y1="445" x2="835" y2="445" stroke="#45475a" stroke-width="1.5"/>
  <rect x="835" y="431" width="195" height="30" fill="#2a1a2a" stroke="#f5c2e7" stroke-width="1" rx="3"/>
  <text x="932" y="450" text-anchor="middle" font-size="10" fill="#f5c2e7" font-family="sans-serif">department: Engineering</text>

  <!-- Signature block -->
  <line x1="545" y1="385" x2="545" y2="470" stroke="#45475a" stroke-width="1.5"/>
  <line x1="545" y1="470" x2="580" y2="470" stroke="#45475a" stroke-width="1.5"/>
  <rect x="580" y="447" width="190" height="46" fill="#2a1a1a" stroke="#f38ba8" stroke-width="1.5" rx="4"/>
  <text x="675" y="465" text-anchor="middle" font-size="12" font-weight="bold" fill="#f38ba8" font-family="sans-serif">&lt;Signature&gt;</text>
  <text x="675" y="483" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">XML Digital Signature (RSA-SHA256)</text>

  <!-- Size note -->
  <rect x="20" y="470" width="250" height="40" fill="#181825" stroke="#45475a" stroke-width="1" rx="4"/>
  <text x="145" y="486" text-anchor="middle" font-size="10" fill="#f38ba8" font-family="sans-serif">⚠ 典型的サイズ: 5KB〜20KB</text>
  <text x="145" y="502" text-anchor="middle" font-size="10" fill="#a6adc8" font-family="sans-serif">（JWT の10倍以上になることも）</text>
</svg>
