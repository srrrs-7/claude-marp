<svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg" style="max-height:70vh;width:auto;display:block;margin:0 auto;letter-spacing:0">
  <rect width="900" height="500" fill="#0f0e17" rx="12"/>
  <text x="450" y="35" text-anchor="middle" fill="#fffffe" font-size="18" font-family="sans-serif" font-weight="bold">菌糸ネットワークの耐障害性 vs P2Pネットワーク</text>

  <!-- Before: Network with all nodes -->
  <text x="225" y="70" text-anchor="middle" fill="#52b788" font-size="14" font-family="sans-serif" font-weight="bold">正常時：冗長経路で接続</text>

  <!-- Nodes -->
  <circle cx="100" cy="160" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="100" y="165" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N1</text>
  <circle cx="230" cy="120" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="230" y="125" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N2</text>
  <circle cx="350" cy="160" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="350" y="165" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N3</text>
  <circle cx="170" cy="260" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="170" y="265" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N4</text>
  <circle cx="300" cy="270" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="300" y="275" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N5</text>

  <!-- All connections -->
  <line x1="122" y1="158" x2="208" y2="125" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="252" y1="122" x2="328" y2="158" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="115" y1="178" x2="155" y2="245" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="192" y1="260" x2="278" y2="270" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="240" y1="142" x2="185" y2="242" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="245" y1="138" x2="288" y2="252" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="338" y1="178" x2="312" y2="252" stroke="#52b788" stroke-width="2" opacity="0.6"/>

  <!-- After: Node failure and rerouting -->
  <text x="675" y="70" text-anchor="middle" fill="#ff6b6b" font-size="14" font-family="sans-serif" font-weight="bold">障害時：自動経路再構成</text>

  <!-- Nodes (N2 is failed) -->
  <circle cx="550" cy="160" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="550" y="165" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N1</text>
  <circle cx="680" cy="120" r="22" fill="#ff6b6b" stroke="#ff6b6b" stroke-width="2" opacity="0.4"/>
  <text x="680" y="125" text-anchor="middle" fill="#ff6b6b" font-size="10" font-family="sans-serif">N2</text>
  <line x1="665" y1="105" x2="695" y2="135" stroke="#ff6b6b" stroke-width="3"/>
  <line x1="695" y1="105" x2="665" y2="135" stroke="#ff6b6b" stroke-width="3"/>
  <circle cx="800" cy="160" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="800" y="165" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N3</text>
  <circle cx="620" cy="260" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="620" y="265" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N4</text>
  <circle cx="750" cy="270" r="22" fill="#2d6a4f" style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.4))"/>
  <text x="750" y="275" text-anchor="middle" fill="#fffffe" font-size="10" font-family="sans-serif">N5</text>

  <!-- Broken connections (dashed, red) -->
  <line x1="572" y1="158" x2="658" y2="125" stroke="#ff6b6b" stroke-width="1.5" stroke-dasharray="4,4" opacity="0.4"/>
  <line x1="702" y1="122" x2="778" y2="158" stroke="#ff6b6b" stroke-width="1.5" stroke-dasharray="4,4" opacity="0.4"/>

  <!-- Surviving connections -->
  <line x1="565" y1="178" x2="605" y2="245" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="642" y1="260" x2="728" y2="270" stroke="#52b788" stroke-width="2" opacity="0.6"/>
  <line x1="788" y1="178" x2="762" y2="252" stroke="#52b788" stroke-width="2" opacity="0.6"/>

  <!-- New rerouted path (highlighted) -->
  <path d="M570,165 Q630,220 620,250" stroke="#e6b422" stroke-width="3" fill="none"/>
  <polygon points="616,245 623,256 626,244" fill="#e6b422"/>
  <path d="M640,260 Q700,240 750,260" stroke="#e6b422" stroke-width="3" fill="none"/>
  <polygon points="747,255 758,260 747,265" fill="#e6b422"/>
  <path d="M765,258 Q785,210 798,178" stroke="#e6b422" stroke-width="3" fill="none"/>
  <polygon points="793,182 801,172 803,184" fill="#e6b422"/>

  <text x="710" y="220" text-anchor="middle" fill="#e6b422" font-size="11" font-family="sans-serif" font-weight="bold">迂回経路</text>

  <!-- Divider -->
  <line x1="450" y1="60" x2="450" y2="310" stroke="#a7a9be" stroke-width="1" stroke-dasharray="8,4" opacity="0.4"/>

  <!-- Bottom comparison table -->
  <rect x="50" y="330" width="800" height="150" fill="#1a1a2e" rx="8"/>
  <text x="450" y="358" text-anchor="middle" fill="#fffffe" font-size="14" font-family="sans-serif" font-weight="bold">耐障害性メカニズムの比較</text>

  <!-- Headers -->
  <text x="200" y="385" text-anchor="middle" fill="#e6b422" font-size="12" font-family="sans-serif" font-weight="bold">菌糸ネットワーク</text>
  <text x="650" y="385" text-anchor="middle" fill="#7ecaff" font-size="12" font-family="sans-serif" font-weight="bold">P2Pネットワーク</text>

  <line x1="420" y1="370" x2="420" y2="470" stroke="#a7a9be" stroke-width="1" opacity="0.3"/>

  <text x="200" y="410" text-anchor="middle" fill="#a7a9be" font-size="11" font-family="sans-serif">冗長な菌糸経路で自動迂回</text>
  <text x="650" y="410" text-anchor="middle" fill="#a7a9be" font-size="11" font-family="sans-serif">DHT / Chord リングで再ルーティング</text>
  <text x="200" y="435" text-anchor="middle" fill="#a7a9be" font-size="11" font-family="sans-serif">Mother Treeがハブとして機能</text>
  <text x="650" y="435" text-anchor="middle" fill="#a7a9be" font-size="11" font-family="sans-serif">Super Nodeがインデックス保持</text>
  <text x="200" y="460" text-anchor="middle" fill="#a7a9be" font-size="11" font-family="sans-serif">新しい菌糸が損傷部を補修</text>
  <text x="650" y="460" text-anchor="middle" fill="#a7a9be" font-size="11" font-family="sans-serif">新規ノード参加で自動復旧</text>
</svg>
